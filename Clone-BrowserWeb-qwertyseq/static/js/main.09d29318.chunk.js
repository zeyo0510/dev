(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,a){e.exports=a(44)},,,,,,,,,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,function(e,t,a){},,,function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(12),i=a.n(l),c=(a(23),a(3)),o=a(4),u=a(6),r=a(5),d=a(7),h=a(1),m=a(2),p=a.n(m),v=[{stepSequence:[{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0}],sequenceLength:16,sequenceResolution:4,sequenceChannelOutput:1,mode:0,cc:0,isMuted:0,delay:0,random:0},{stepSequence:[{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0}],sequenceLength:16,sequenceResolution:4,sequenceChannelOutput:2,mode:0,cc:0,isMuted:0,delay:0,random:0},{stepSequence:[{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0}],sequenceLength:16,sequenceResolution:4,sequenceChannelOutput:3,mode:0,cc:0,isMuted:0,delay:0,random:0},{stepSequence:[{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0}],sequenceLength:16,sequenceResolution:4,sequenceChannelOutput:4,mode:0,cc:0,isMuted:0,delay:0,random:0},{stepSequence:[{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0}],sequenceLength:16,sequenceResolution:4,sequenceChannelOutput:5,mode:0,cc:0,isMuted:0,delay:0,random:0},{stepSequence:[{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0}],sequenceLength:16,sequenceResolution:4,sequenceChannelOutput:6,mode:0,cc:0,isMuted:0,delay:0,random:0},{stepSequence:[{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0}],sequenceLength:16,sequenceResolution:4,sequenceChannelOutput:7,mode:0,cc:0,isMuted:0,delay:0,random:0},{stepSequence:[{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0},{value:0,note:60,velocity:100,gate:60,offset:0,isOn:0,tie:0}],sequenceLength:16,sequenceResolution:4,sequenceChannelOutput:8,mode:0,cc:0,isMuted:0,delay:0,random:0}];var f=function(e){return s.a.createElement("div",{className:"output-selector"},s.a.createElement("form",null,s.a.createElement("label",{className:"output-selector-label"},"MIDI Device"),s.a.createElement("select",{className:"output-selector-select",value:e.selectedMidiOut,onChange:function(t){e.onOutputSubmit(t.target.value)}},e.allOutputs.map(function(e,t){return s.a.createElement("option",{value:e._midiOutput.name,key:t},e._midiOutput.name)}))))};var S=function(e){return s.a.createElement("div",{className:"clockout-enable"},s.a.createElement("form",null,s.a.createElement("label",null,"Clock Out"),s.a.createElement("select",{value:e.enabled,onChange:function(t){e.onClockEnableSubmit(parseInt(t.target.value,10))}},s.a.createElement("option",{value:"1"},"On"),s.a.createElement("option",{value:"0"},"Off"))))};var g=function(e){return s.a.createElement("div",{className:"clockout-offset"},s.a.createElement("form",null,s.a.createElement("label",null,"Offset"),s.a.createElement("input",{type:"range",min:"-32",max:"0",step:"1",id:"clock",value:e.offset,onChange:function(t){e.onClockSubmit(parseInt(t.target.value,10))}}),s.a.createElement("p",null,e.offset," ms")))};var q=function(e){return s.a.createElement("div",{className:"tempo"},s.a.createElement("form",null,s.a.createElement("label",null," BPM",s.a.createElement("input",{type:"number",step:"1",min:"60",max:"240",id:"tempo",required:!0,value:e.selectedTempo,onChange:function(t){e.onTempoSelection(parseInt(t.target.value,10))}}))))};var y=function(e){return s.a.createElement("div",{className:"audition-enable"},s.a.createElement("form",null,s.a.createElement("label",null,"Preview",s.a.createElement("select",{value:e.clickPlayEnabled,onChange:function(t){e.onAuditionSelection(parseInt(t.target.value,10))}},s.a.createElement("option",{value:"1"},"On"),s.a.createElement("option",{value:"0"},"Off")))))};a(25);var O=function(e){function t(t,a){e.onPVShift(t,a)}var a,n="",l="";return a=1===e.sequence.isMuted?"sequence transparent":"sequence",0===e.sequence.mode?n="NOTE":(n="CC",l=e.sequence.cc),s.a.createElement("div",{className:a,onClick:function(){e.onSequenceSelection(e.sequenceId)}},s.a.createElement("div",{className:"sequence-flex"},s.a.createElement("h1",null,e.sequenceId+1," : ",["z","x","c","v","b","n","m",","][e.sequenceId]),s.a.createElement("div",{className:"sequence-step-grid"},e.sequence.stepSequence.map(function(t,a){var l,i;if(a<e.sequence.sequenceLength?(i="step-container",l=1===t.isOn?"step-fill":"step-fill step-off"):i="step-container hide","NOTE"===n){var c=Math.round(t.note/127*100);return s.a.createElement("div",{className:i},s.a.createElement("div",{className:l,style:{height:c+"%"}}))}var o=Math.round(t.value/127*100);return s.a.createElement("div",{className:i},s.a.createElement("div",{className:l,style:{height:o+"%"}}))})),s.a.createElement("div",{className:"sequence-flex-column"},s.a.createElement("p",null,"OUT"),s.a.createElement("p",null,e.sequence.sequenceChannelOutput)),s.a.createElement("div",{className:"sequence-flex-column"},s.a.createElement("p",null,n),s.a.createElement("p",null,l)),s.a.createElement("div",{className:"sequence-flex-column"},s.a.createElement("div",{className:"sequence-nudge-btn",onClick:function(){t(e.sequenceId,"up")}},"P/V +"),s.a.createElement("div",{className:"sequence-nudge-btn",onClick:function(){t(e.sequenceId,"down")}},"P/V -"))))};var E=function(e){return s.a.createElement("div",null,e.masterSequenceList.map(function(t,a){return s.a.createElement(O,{sequence:t,onSequenceSelection:e.onSequenceSelection,selectedSequence:e.selectedSequence,onPVShift:e.onPVShift,key:a,sequenceId:a})}))};a(27);var C=function(e){function t(t){e.onActionSelection(t)}var a;"Read"!==e.memoryAction&&"Copy"!==e.memoryAction||(a=s.a.createElement("div",{className:"cancel-btn",onClick:function(){return t("Off")}},s.a.createElement("button",null,"Cancel Action")));var n="action",l="action";return"Read"===e.memoryAction?n="action read":"Copy"===e.memoryAction&&(l="action copy"),s.a.createElement("div",{className:"memory-action-container"},s.a.createElement("div",{className:"action"},s.a.createElement("p",null,"Bank Mode: ",e.memoryAction)),s.a.createElement("div",{className:n,onClick:function(){return t("Read")}},s.a.createElement("button",null,"Read From Bank")),s.a.createElement("div",{className:l,onClick:function(){return t("Copy")}},s.a.createElement("button",null,"Copy Into Bank")),a)};a(29);var b=function(e){var t;return t=e.bankId===e.selectedBank?"memory-bank-active":"memory-bank",s.a.createElement("div",{className:t},s.a.createElement("div",{className:"bank-item",onClick:function(){return t=e.bankId,a=e.selectedAction,void e.onBankSelection(t,a);var t,a}},s.a.createElement("button",null,"Bank\xa0",s.a.createElement("span",{className:"read-shortcut"},"\xa0",["!","@","#","$","%","^","&","*"][e.bankId],"\xa0"),"\xa0:\xa0",s.a.createElement("span",{className:"copy-shortcut"},"\xa0",["Z","X","C","V","B","N","M","<"][e.bankId],"\xa0"))))},k=(a(31),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(r.a)(t).call(this,e))).handleIsOnChange=a.handleIsOnChange.bind(Object(h.a)(Object(h.a)(a))),a.handleValueChange=a.handleValueChange.bind(Object(h.a)(Object(h.a)(a))),a.handleNoteChange=a.handleNoteChange.bind(Object(h.a)(Object(h.a)(a))),a.handleVelocityChange=a.handleVelocityChange.bind(Object(h.a)(Object(h.a)(a))),a.handleGateChange=a.handleGateChange.bind(Object(h.a)(Object(h.a)(a))),a.handleOffsetChange=a.handleOffsetChange.bind(Object(h.a)(Object(h.a)(a))),a.handleTieChange=a.handleTieChange.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleIsOnChange",value:function(e){this.props.onEnableChange(this.props.selectedSequenceId,this.props.stepId,parseInt(e.target.value,10))}},{key:"handleValueChange",value:function(e){this.props.onValueChange(this.props.selectedSequenceId,this.props.stepId,parseInt(e.target.value,10))}},{key:"handleNoteChange",value:function(e){this.props.onPitchChange(this.props.selectedSequenceId,this.props.stepId,parseInt(e.target.value,10))}},{key:"handleVelocityChange",value:function(e){this.props.onVelocityChange(this.props.selectedSequenceId,this.props.stepId,parseInt(e.target.value,10))}},{key:"handleGateChange",value:function(e){this.props.onGateChange(this.props.selectedSequenceId,this.props.stepId,parseInt(e.target.value,10))}},{key:"handleOffsetChange",value:function(e){this.props.onOffsetChange(this.props.selectedSequenceId,this.props.stepId,parseInt(e.target.value,10))}},{key:"handleTieChange",value:function(e){this.props.onTieChange(this.props.selectedSequenceId,this.props.stepId,parseInt(e.target.value,10))}},{key:"render",value:function(){var e,t,a=this,n=["#ff50bf","#ff211d","#ff5518","#f7d842","#9bff01","#2ca8c2","#185fff","#b44afe"][this.props.selectedSequenceId];e=1===this.props.selectedSequence[this.props.stepId].isOn?"On":"Off",t=1===this.props.selectedSequence[this.props.stepId].tie?"On":"Off";var l=s.a.createElement("div",null);this.props.stepId>0&&(l=s.a.createElement("div",null,s.a.createElement("label",null,s.a.createElement("span",null,"Tie"),s.a.createElement("span",null,t)),s.a.createElement("input",{type:"range",min:"0",max:"1",step:"1",id:"tie",value:this.props.selectedSequence[this.props.stepId].tie,onChange:this.handleTieChange})));var i=["q","w","e","r","t","y","u","i","a","s","d","f","g","h","j","k"],c=["Q","W","E","R","T","Y","U","I","A","S","D","F","G","H","J","K"],o=null;return 0===this.props.mode&&this.props.stepId<this.props.length?o=s.a.createElement("form",{onClick:function(){a.props.onStepJam(a.props.selectedSequenceId,a.props.stepId)}},s.a.createElement("div",{className:"step-label-flex"},s.a.createElement("div",{className:"step-keyicon"},i[this.props.stepId]),s.a.createElement("div",null,s.a.createElement("label",null,s.a.createElement("span",null,e)),s.a.createElement("input",{type:"range",min:"0",max:"1",step:"1",id:"isOn",value:this.props.selectedSequence[this.props.stepId].isOn,onChange:this.handleIsOnChange}))),s.a.createElement("div",{className:"step-label-flex"},s.a.createElement("div",{className:"step-shifticon"},c[this.props.stepId]),s.a.createElement("div",{style:{fontSize:"1rem"}},","),s.a.createElement("div",{className:"step-tabicon"},"tab")),s.a.createElement("div",null,s.a.createElement("label",null,s.a.createElement("span",null,"Pitch"),s.a.createElement("span",null,this.props.selectedSequence[this.props.stepId].note)),s.a.createElement("input",{type:"range",min:"0",max:"127",step:"1",id:"note",name:this.props.stepId,value:this.props.selectedSequence[this.props.stepId].note,onChange:this.handleNoteChange})),s.a.createElement("div",null,s.a.createElement("label",null,s.a.createElement("span",null,"Velocity"),s.a.createElement("span",null,this.props.selectedSequence[this.props.stepId].velocity)),s.a.createElement("input",{type:"range",min:"0",max:"127",step:"1",id:"velocity",value:this.props.selectedSequence[this.props.stepId].velocity,onChange:this.handleVelocityChange})),s.a.createElement("div",null,s.a.createElement("label",null,s.a.createElement("span",null,"Gate"),s.a.createElement("span",null,this.props.selectedSequence[this.props.stepId].gate,"ms")),s.a.createElement("input",{type:"range",min:"0",max:"127",step:"1",id:"gate",value:this.props.selectedSequence[this.props.stepId].gate,onChange:this.handleGateChange})),s.a.createElement("div",null,s.a.createElement("label",null,s.a.createElement("span",null,"Offset"),s.a.createElement("span",null,this.props.selectedSequence[this.props.stepId].offset,"ms")),s.a.createElement("input",{type:"range",min:"0",max:"127",step:"1",id:"offset",value:this.props.selectedSequence[this.props.stepId].offset,onChange:this.handleOffsetChange})),l):1===this.props.mode&&this.props.stepId<this.props.length&&(o=s.a.createElement("form",null,s.a.createElement("div",{className:"step-label-flex"},s.a.createElement("div",{className:"step-keyicon"},i[this.props.stepId]),s.a.createElement("div",null,s.a.createElement("label",null,s.a.createElement("span",null,e)),s.a.createElement("input",{type:"range",min:"0",max:"1",step:"1",id:"isOn",value:this.props.selectedSequence[this.props.stepId].isOn,onChange:this.handleIsOnChange}))),s.a.createElement("div",{className:"step-label-flex"},s.a.createElement("div",{className:"step-shifticon"},c[this.props.stepId]),s.a.createElement("div",{style:{fontSize:"1rem"}},","),s.a.createElement("div",{className:"step-tabicon"},"tab")),s.a.createElement("div",null,s.a.createElement("label",null,s.a.createElement("span",null,"Value"),s.a.createElement("span",null,this.props.selectedSequence[this.props.stepId].value)),s.a.createElement("input",{type:"range",min:"0",max:"127",step:"1",id:"note",name:this.props.stepId,value:this.props.selectedSequence[this.props.stepId].value,onChange:this.handleValueChange})),s.a.createElement("div",null,s.a.createElement("label",null,s.a.createElement("span",null,"Offset"),s.a.createElement("span",null,this.props.selectedSequence[this.props.stepId].offset,"ms")),s.a.createElement("input",{type:"range",min:"0",max:"127",step:"1",id:"offset",value:this.props.selectedSequence[this.props.stepId].offset,onChange:this.handleOffsetChange})))),s.a.createElement("div",null,s.a.createElement("style",{jsx:!0},"\n           .step-wrapper input[type=range]::-webkit-slider-thumb{\n             background-color: ".concat(n,";\n           }\n       )")),s.a.createElement("div",{className:"step-wrapper",onClick:function(){a.props.onStepSelection(a.props.stepId)}},o))}}]),t}(s.a.Component)),L=(a(33),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(r.a)(t).call(this,e))).handleMuteChange=a.handleMuteChange.bind(Object(h.a)(Object(h.a)(a))),a.handleModeChange=a.handleModeChange.bind(Object(h.a)(Object(h.a)(a))),a.handleCCChange=a.handleCCChange.bind(Object(h.a)(Object(h.a)(a))),a.handleLengthChange=a.handleLengthChange.bind(Object(h.a)(Object(h.a)(a))),a.handleResolutionChange=a.handleResolutionChange.bind(Object(h.a)(Object(h.a)(a))),a.handleChannelChange=a.handleChannelChange.bind(Object(h.a)(Object(h.a)(a))),a.handleDelayChange=a.handleDelayChange.bind(Object(h.a)(Object(h.a)(a))),a.handleRandomChange=a.handleRandomChange.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleMuteChange",value:function(e){this.props.onMuteSubmit(this.props.selectedSequenceId,parseInt(e.target.value,10))}},{key:"handleModeChange",value:function(e){this.props.onModeSubmit(this.props.selectedSequenceId,parseInt(e.target.value,10))}},{key:"handleCCChange",value:function(e){this.props.onCCSubmit(this.props.selectedSequenceId,parseInt(e.target.value,10))}},{key:"handleLengthChange",value:function(e){this.props.onLengthSubmit(this.props.selectedSequenceId,parseInt(e.target.value,10))}},{key:"handleResolutionChange",value:function(e){this.props.onResolutionSubmit(this.props.selectedSequenceId,parseInt(e.target.value,10))}},{key:"handleChannelChange",value:function(e){this.props.onChannelSubmit(this.props.selectedSequenceId,parseInt(e.target.value,10))}},{key:"handleDelayChange",value:function(e){this.props.onDelayChange(this.props.selectedSequenceId,parseInt(e.target.value,10))}},{key:"handleRandomChange",value:function(e){this.props.onRandomSubmit(this.props.selectedSequenceId,parseInt(e.target.value,10))}},{key:"render",value:function(){var e=this,t="title "+["pink","red","orange","yellow","green","teal","blue","purple"][this.props.selectedSequenceId],a=s.a.createElement("div",null);return 1===this.props.selectedSequenceSlice.mode&&(a=s.a.createElement("div",{className:"cc"},s.a.createElement("form",null,s.a.createElement("label",null,"CC #",s.a.createElement("select",{value:this.props.selectedSequenceSlice.cc,onChange:this.handleCCChange},s.a.createElement("option",{value:"0"},"0"),s.a.createElement("option",{value:"1"},"1"),s.a.createElement("option",{value:"2"},"2"),s.a.createElement("option",{value:"4"},"4"),s.a.createElement("option",{value:"5"},"5"),s.a.createElement("option",{value:"6"},"6"),s.a.createElement("option",{value:"7"},"7"),s.a.createElement("option",{value:"8"},"8"),s.a.createElement("option",{value:"10"},"10"),s.a.createElement("option",{value:"11"},"11"),s.a.createElement("option",{value:"12"},"12"),s.a.createElement("option",{value:"13"},"13"),s.a.createElement("option",{value:"16"},"16"),s.a.createElement("option",{value:"17"},"17"),s.a.createElement("option",{value:"18"},"18"),s.a.createElement("option",{value:"19"},"19"),s.a.createElement("option",{value:"32"},"32"),s.a.createElement("option",{value:"33"},"33"),s.a.createElement("option",{value:"34"},"34"),s.a.createElement("option",{value:"36"},"36"),s.a.createElement("option",{value:"37"},"37"),s.a.createElement("option",{value:"38"},"38"),s.a.createElement("option",{value:"39"},"39"),s.a.createElement("option",{value:"40"},"40"),s.a.createElement("option",{value:"42"},"42"),s.a.createElement("option",{value:"43"},"43"),s.a.createElement("option",{value:"44"},"44"),s.a.createElement("option",{value:"45"},"45"),s.a.createElement("option",{value:"64"},"64"),s.a.createElement("option",{value:"65"},"65"),s.a.createElement("option",{value:"66"},"66"),s.a.createElement("option",{value:"67"},"67"),s.a.createElement("option",{value:"68"},"68"),s.a.createElement("option",{value:"69"},"69"),s.a.createElement("option",{value:"70"},"70"),s.a.createElement("option",{value:"71"},"71"),s.a.createElement("option",{value:"72"},"72"),s.a.createElement("option",{value:"73"},"73"),s.a.createElement("option",{value:"74"},"74"),s.a.createElement("option",{value:"75"},"75"),s.a.createElement("option",{value:"76"},"76"),s.a.createElement("option",{value:"77"},"77"),s.a.createElement("option",{value:"78"},"78"),s.a.createElement("option",{value:"79"},"79"),s.a.createElement("option",{value:"80"},"80"),s.a.createElement("option",{value:"81"},"81"),s.a.createElement("option",{value:"82"},"82"),s.a.createElement("option",{value:"83"},"83"),s.a.createElement("option",{value:"91"},"91"),s.a.createElement("option",{value:"92"},"92"),s.a.createElement("option",{value:"93"},"93"),s.a.createElement("option",{value:"94"},"94"),s.a.createElement("option",{value:"95"},"95"),s.a.createElement("option",{value:"96"},"96"),s.a.createElement("option",{value:"97"},"97"),s.a.createElement("option",{value:"98"},"98"),s.a.createElement("option",{value:"99"},"99"),s.a.createElement("option",{value:"100"},"100"),s.a.createElement("option",{value:"101"},"101")))))),s.a.createElement("div",{className:"sequence-detail-container"},s.a.createElement("div",{className:"header"},s.a.createElement("div",{className:"sequence-name-grid"},s.a.createElement("h1",{className:"title"},"Bank ",this.props.selectedBankId+1),s.a.createElement("h1",{className:t},"Sequence ",this.props.selectedSequenceId+1)),s.a.createElement("div",{className:"sequence-parameters-grid"},s.a.createElement("div",{className:"mute"},s.a.createElement("form",null,s.a.createElement("label",null,"On/Off"),s.a.createElement("select",{value:this.props.selectedSequenceSlice.isMuted,onChange:this.handleMuteChange},s.a.createElement("option",{value:"1"},"Off"),s.a.createElement("option",{value:"0"},"On")))),s.a.createElement("div",{className:"mode"},s.a.createElement("form",null,s.a.createElement("label",null,"Mode",s.a.createElement("select",{id:"menu1",value:this.props.selectedSequenceSlice.mode,onChange:this.handleModeChange},s.a.createElement("option",{value:"0"},"Notes"),s.a.createElement("option",{value:"1"},"CC"))))),s.a.createElement("div",{className:"sequence-length"},s.a.createElement("form",null,s.a.createElement("label",null,"Length"),s.a.createElement("select",{id:"menu2",value:this.props.selectedSequenceSlice.sequenceLength,onChange:this.handleLengthChange},s.a.createElement("option",{value:"1"},"1"),s.a.createElement("option",{value:"2"},"2"),s.a.createElement("option",{value:"3"},"3"),s.a.createElement("option",{value:"4"},"4"),s.a.createElement("option",{value:"5"},"5"),s.a.createElement("option",{value:"6"},"6"),s.a.createElement("option",{value:"7"},"7"),s.a.createElement("option",{value:"8"},"8"),s.a.createElement("option",{value:"9"},"9"),s.a.createElement("option",{value:"10"},"10"),s.a.createElement("option",{value:"11"},"11"),s.a.createElement("option",{value:"12"},"12"),s.a.createElement("option",{value:"13"},"13"),s.a.createElement("option",{value:"14"},"14"),s.a.createElement("option",{value:"15"},"15"),s.a.createElement("option",{value:"16"},"16")))),s.a.createElement("div",{className:"resolution"},s.a.createElement("form",null,s.a.createElement("label",null,"Resolution"),s.a.createElement("select",{id:"menu3",value:this.props.selectedSequenceSlice.sequenceResolution,onChange:this.handleResolutionChange},s.a.createElement("option",{value:"1"},"4"),s.a.createElement("option",{value:"2"},"8"),s.a.createElement("option",{value:"4"},"16"),s.a.createElement("option",{value:"8"},"32")))),s.a.createElement("div",{className:"output-channel"},s.a.createElement("form",null,s.a.createElement("label",null,"MIDI Channel"),s.a.createElement("select",{value:this.props.selectedSequenceSlice.sequenceChannelOutput,onChange:this.handleChannelChange},s.a.createElement("option",{value:"1"},"1"),s.a.createElement("option",{value:"2"},"2"),s.a.createElement("option",{value:"3"},"3"),s.a.createElement("option",{value:"4"},"4"),s.a.createElement("option",{value:"5"},"5"),s.a.createElement("option",{value:"6"},"6"),s.a.createElement("option",{value:"7"},"7"),s.a.createElement("option",{value:"8"},"8"),s.a.createElement("option",{value:"9"},"9"),s.a.createElement("option",{value:"10"},"10"),s.a.createElement("option",{value:"11"},"11"),s.a.createElement("option",{value:"12"},"12"),s.a.createElement("option",{value:"13"},"13"),s.a.createElement("option",{value:"14"},"14"),s.a.createElement("option",{value:"15"},"15"),s.a.createElement("option",{value:"16"},"16")))),a,s.a.createElement("div",{className:"delay"},s.a.createElement("form",null,s.a.createElement("label",null,"Delay"),s.a.createElement("input",{type:"range",min:"0",max:"32",step:"1",id:"delay",value:this.props.selectedSequenceSlice.delay,onChange:this.handleDelayChange}),s.a.createElement("p",null,this.props.selectedSequenceSlice.delay," ms"))),s.a.createElement("div",{className:"random"},s.a.createElement("form",null,s.a.createElement("label",null,"Random",s.a.createElement("select",{value:this.props.selectedSequenceSlice.random,onChange:this.handleRandomChange},s.a.createElement("option",{value:"0"},"Off"),s.a.createElement("option",{value:"1"},"Ceiling"),s.a.createElement("option",{value:"2"},"Floor"))))))),s.a.createElement("div",null,s.a.createElement("ul",{className:"step-flow-grid"},this.props.selectedSequence.map(function(t,a){var n;return n=a<e.props.selectedSequenceSlice.sequenceLength?"":"hide",s.a.createElement("li",{className:n},s.a.createElement(k,{length:e.props.selectedSequenceSlice.sequenceLength,mode:e.props.selectedSequenceSlice.mode,selectedSequence:e.props.selectedSequence,selectedSequenceId:e.props.selectedSequenceId,onStepSelection:e.props.onStepSelection,selectedStepId:e.props.selectedStepId,onEnableChange:e.props.onEnableChange,onValueChange:e.props.onValueChange,onPitchChange:e.props.onPitchChange,onVelocityChange:e.props.onVelocityChange,onGateChange:e.props.onGateChange,onOffsetChange:e.props.onOffsetChange,onTieChange:e.props.onTieChange,onStepJam:e.props.onStepJam,note:t.note,velocity:t.velocity,gate:t.gate,offset:t.offset,isOn:t.isOn,tie:t.tie,key:a,stepId:a}))}))))}}]),t}(s.a.Component)),N=(a(35),a(37),a(39),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(r.a)(t).call(this,e))).handleExport=a.handleExport.bind(Object(h.a)(Object(h.a)(a))),a.handleFileInput=a.handleFileInput.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleExport",value:function(){this.props.onExport()}},{key:"handleImport",value:function(){this.props.onImport()}},{key:"handleFileInput",value:function(e){this.props.onFileChange(e)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"import-export-container"},s.a.createElement("div",{className:"project-name"},this.props.name),s.a.createElement("button",{className:"impbtn",onClick:function(){return e.handleImport()}},"Import Project"),s.a.createElement("input",{hidden:!0,type:"file",id:"fileElem",accept:".json",onChange:function(){return e.handleFileInput()}}),s.a.createElement("button",{className:"expbtn",onClick:function(){return e.handleExport()}},"Export Project"),s.a.createElement("div",{className:"logo"},"qwertySeq()"))}}]),t}(s.a.Component));a(41);var I=function(e){return s.a.createElement("div",{className:"audio-record-container",id:"audio"},s.a.createElement("div",{className:"return-input"},s.a.createElement("form",null,s.a.createElement("label",null,"Return Input"),s.a.createElement("select",{value:e.selectedDevice,onChange:function(t){e.onDeviceSelect(t.target.value)}},e.inputDevices.map(function(e,t){return s.a.createElement("option",{value:e.deviceId,key:t},e.label)})))),s.a.createElement("div",{className:"audio-record-grid"},s.a.createElement("div",{className:"return-monitor"},s.a.createElement("form",null,s.a.createElement("label",null,"Return Monitor"),s.a.createElement("select",{value:e.thruStatus,onChange:function(t){e.onThruEnable(parseInt(t.target.value),10)}},s.a.createElement("option",{value:"0"},"Disabled"),s.a.createElement("option",{value:"1"},"Enabled")))),s.a.createElement("div",{className:"record-enable"},s.a.createElement("form",null,s.a.createElement("label",null,"Record Enable"),s.a.createElement("select",{value:e.enableStatus,onChange:function(t){e.onRecordEnable(parseInt(t.target.value),10)}},s.a.createElement("option",{value:"0"},"No"),s.a.createElement("option",{value:"1"},"Yes"))))),s.a.createElement("div",{className:"audio-record-grid"},s.a.createElement("div",{className:"mono-stereo"},s.a.createElement("form",null,s.a.createElement("label",null,"Mono/Stereo"),s.a.createElement("select",{value:e.channels,onChange:function(t){e.onChannelCount(parseInt(t.target.value),10)}},s.a.createElement("option",{value:"1"},"Mono"),s.a.createElement("option",{value:"2"},"Stereo")))),s.a.createElement("div",{className:"tail"},s.a.createElement("form",null,s.a.createElement("label",null,"Tail"),s.a.createElement("select",{value:e.tailLength,onChange:function(t){e.onTailSelection(parseInt(t.target.value),10)}},s.a.createElement("option",{value:"0"},"None"),s.a.createElement("option",{value:"100"},"100ms"),s.a.createElement("option",{value:"300"},"300ms"),s.a.createElement("option",{value:"1000"},"1s"),s.a.createElement("option",{value:"3000"},"3s"),s.a.createElement("option",{value:"5000"},"5s"),s.a.createElement("option",{value:"10000"},"10s"))))),s.a.createElement("div",{className:"audio-player"},s.a.createElement("audio",{controls:!0,controlsList:"nodownload",src:e.playerSource})),s.a.createElement("div",{className:"audio-record-grid"},s.a.createElement("button",{className:"downloadbtn",onClick:function(){e.onDownloadClick()}},"Download Recording"),s.a.createElement("button",{className:"deletebtn",onClick:function(){e.onDeleteClick()}},"Delete Recording")))},j=a(13),M=a.n(j),B=function(){function e(t,a){var n=this;Object(c.a)(this,e),this.config={bufferLen:4096,numChannels:2,mimeType:"audio/wav"},this.recording=!1,this.callbacks={getBuffer:[],exportWAV:[]},Object.assign(this.config,a),this.context=t.context,this.node=(this.context.createScriptProcessor||this.context.createJavaScriptNode).call(this.context,this.config.bufferLen,this.config.numChannels,this.config.numChannels),this.node.onaudioprocess=function(e){if(n.recording){for(var t=[],a=0;a<n.config.numChannels;a++)t.push(e.inputBuffer.getChannelData(a));n.worker.postMessage({command:"record",buffer:t})}},t.connect(this.node),this.node.connect(this.context.destination);this.worker=new M.a(function(){var e,t,a=0,n=[];function s(){for(var e=0;e<t;e++)n[e]=[]}function l(e,t){for(var a=new Float32Array(t),n=0,s=0;s<e.length;s++)a.set(e[s],n),n+=e[s].length;return a}function i(e,t,a){for(var n=0;n<a.length;n++)e.setUint8(t+n,a.charCodeAt(n))}this.onmessage=function(c){switch(c.data.command){case"init":o=c.data.config,e=o.sampleRate,t=o.numChannels,s();break;case"record":!function(e){for(var s=0;s<t;s++)n[s].push(e[s]);a+=e[0].length}(c.data.buffer);break;case"exportWAV":!function(s){for(var c,o=[],u=0;u<t;u++)o.push(l(n[u],a));c=2===t?function(e,t){var a=e.length+t.length,n=new Float32Array(a),s=0,l=0;for(;s<a;)n[s++]=e[l],n[s++]=t[l],l++;return n}(o[0],o[1]):o[0];var r=function(a){var n=new ArrayBuffer(44+2*a.length),s=new DataView(n);return i(s,0,"RIFF"),s.setUint32(4,36+2*a.length,!0),i(s,8,"WAVE"),i(s,12,"fmt "),s.setUint32(16,16,!0),s.setUint16(20,1,!0),s.setUint16(22,t,!0),s.setUint32(24,e,!0),s.setUint32(28,4*e,!0),s.setUint16(32,2*t,!0),s.setUint16(34,16,!0),i(s,36,"data"),s.setUint32(40,2*a.length,!0),function(e,t,a){for(var n=0;n<a.length;n++,t+=2){var s=Math.max(-1,Math.min(1,a[n]));e.setInt16(t,s<0?32768*s:32767*s,!0)}}(s,44,a),s}(c),d=new Blob([r],{type:s});this.postMessage({command:"exportWAV",data:d})}(c.data.type);break;case"getBuffer":!function(){for(var e=[],s=0;s<t;s++)e.push(l(n[s],a));this.postMessage({command:"getBuffer",data:e})}();break;case"clear":a=0,n=[],s()}var o}},{}),this.worker.postMessage({command:"init",config:{sampleRate:this.context.sampleRate,numChannels:this.config.numChannels}}),this.worker.onmessage=function(e){var t=n.callbacks[e.data.command].pop();"function"==typeof t&&t(e.data.data)}}return Object(o.a)(e,[{key:"record",value:function(){this.recording=!0}},{key:"stop",value:function(){this.recording=!1}},{key:"clear",value:function(){this.worker.postMessage({command:"clear"})}},{key:"getBuffer",value:function(e){if(!(e=e||this.config.callback))throw new Error("Callback not set");this.callbacks.getBuffer.push(e),this.worker.postMessage({command:"getBuffer"})}},{key:"exportWAV",value:function(e,t){if(t=t||this.config.mimeType,!(e=e||this.config.callback))throw new Error("Callback not set");this.callbacks.exportWAV.push(e),this.worker.postMessage({command:"exportWAV",type:t})}}],[{key:"forceDownload",value:function(e,t){var a=(window.URL||window.webkitURL).createObjectURL(e),n=window.document.createElement("a");n.href=a,n.download=t||"output.wav";var s=document.createEvent("Event");s.initEvent("click",!0,!0),n.dispatchEvent(s)}}]),e}(),R=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(r.a)(t).call(this,e))).loopSequenceInterval=[],a.clockSequenceInterval=null,a.stream={},a.audioTrack={},a.recorder={},a.audioCtx={},a.sourceNode=null,a.state={playingSequence:JSON.parse(JSON.stringify(v)),masterSequenceList:[JSON.parse(JSON.stringify(v)),JSON.parse(JSON.stringify(v)),JSON.parse(JSON.stringify(v)),JSON.parse(JSON.stringify(v)),JSON.parse(JSON.stringify(v)),JSON.parse(JSON.stringify(v)),JSON.parse(JSON.stringify(v)),JSON.parse(JSON.stringify(v))],memoryAction:"Off",selectedBank:0,selectedSequence:0,selectedStep:null,isPlaying:!1,tempo:120,allOutputs:[],selectedMidiOut:"",clickPlayEnabled:1,clockOutEnabled:1,clockOutOffset:0,copyCount:0,projectName:"New Project",audioDevices:[],selectedAudioDevice:"",thruEnabled:0,recordEnabled:0,tail:0,isCurrentlyRecording:!1,channelNumber:2,autoGain:!1,wavSource:""},a.handleOutputSelection=a.handleOutputSelection.bind(Object(h.a)(Object(h.a)(a))),a.handleClockOutEnableInput=a.handleClockOutEnableInput.bind(Object(h.a)(Object(h.a)(a))),a.handleClockOutOffsetInput=a.handleClockOutOffsetInput.bind(Object(h.a)(Object(h.a)(a))),a.handleBPMInput=a.handleBPMInput.bind(Object(h.a)(Object(h.a)(a))),a.handleAuditionChange=a.handleAuditionChange.bind(Object(h.a)(Object(h.a)(a))),a.handleStepPlay=a.handleStepPlay.bind(Object(h.a)(Object(h.a)(a))),a.handleClocksSend=a.handleClocksSend.bind(Object(h.a)(Object(h.a)(a))),a.handleSequencePlay=a.handleSequencePlay.bind(Object(h.a)(Object(h.a)(a))),a.handleSequenceStop=a.handleSequenceStop.bind(Object(h.a)(Object(h.a)(a))),a.handleMenuDisable=a.handleMenuDisable.bind(Object(h.a)(Object(h.a)(a))),a.handleMenuEnable=a.handleMenuEnable.bind(Object(h.a)(Object(h.a)(a))),a.handleSequenceSelection=a.handleSequenceSelection.bind(Object(h.a)(Object(h.a)(a))),a.handleStepSelection=a.handleStepSelection.bind(Object(h.a)(Object(h.a)(a))),a.handleActionChange=a.handleActionChange.bind(Object(h.a)(Object(h.a)(a))),a.handleBankChange=a.handleBankChange.bind(Object(h.a)(Object(h.a)(a))),a.handlePVChange=a.handlePVChange.bind(Object(h.a)(Object(h.a)(a))),a.handleMuteChange=a.handleMuteChange.bind(Object(h.a)(Object(h.a)(a))),a.handleModeChange=a.handleModeChange.bind(Object(h.a)(Object(h.a)(a))),a.handleCCChange=a.handleCCChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSequenceLengthChange=a.handleSequenceLengthChange.bind(Object(h.a)(Object(h.a)(a))),a.handleSequenceResolutionChange=a.handleSequenceResolutionChange.bind(Object(h.a)(Object(h.a)(a))),a.handleChannelOutputChange=a.handleChannelOutputChange.bind(Object(h.a)(Object(h.a)(a))),a.handleDelayChange=a.handleDelayChange.bind(Object(h.a)(Object(h.a)(a))),a.handleRandomChange=a.handleRandomChange.bind(Object(h.a)(Object(h.a)(a))),a.handleEnableChange=a.handleEnableChange.bind(Object(h.a)(Object(h.a)(a))),a.handleValueChange=a.handleValueChange.bind(Object(h.a)(Object(h.a)(a))),a.handlePitchChange=a.handlePitchChange.bind(Object(h.a)(Object(h.a)(a))),a.handleVelocityChange=a.handleVelocityChange.bind(Object(h.a)(Object(h.a)(a))),a.handleGateChange=a.handleGateChange.bind(Object(h.a)(Object(h.a)(a))),a.handleOffsetChange=a.handleOffsetChange.bind(Object(h.a)(Object(h.a)(a))),a.handleTieChange=a.handleTieChange.bind(Object(h.a)(Object(h.a)(a))),a.handleJSONExport=a.handleJSONExport.bind(Object(h.a)(Object(h.a)(a))),a.handleJSONImport=a.handleJSONImport.bind(Object(h.a)(Object(h.a)(a))),a.handleFile=a.handleFile.bind(Object(h.a)(Object(h.a)(a))),a.handleAudioDevice=a.handleAudioDevice.bind(Object(h.a)(Object(h.a)(a))),a.handleAudioThru=a.handleAudioThru.bind(Object(h.a)(Object(h.a)(a))),a.handleAudioRecordEnable=a.handleAudioRecordEnable.bind(Object(h.a)(Object(h.a)(a))),a.handleTailLength=a.handleTailLength.bind(Object(h.a)(Object(h.a)(a))),a.handleChannelCount=a.handleChannelCount.bind(Object(h.a)(Object(h.a)(a))),a.handleAudioRecord=a.handleAudioRecord.bind(Object(h.a)(Object(h.a)(a))),a.handleRecordStop=a.handleRecordStop.bind(Object(h.a)(Object(h.a)(a))),a.handleDeleteClick=a.handleDeleteClick.bind(Object(h.a)(Object(h.a)(a))),a.handleDownloadClick=a.handleDownloadClick.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;p.a.enable(function(t){t?alert(t):(0===p.a.outputs.length&&alert("THERE ARE NO MIDI DEVICES CONNECTED. I WON'T WORK."),e.setState({allOutputs:p.a.outputs}))},!0),navigator.mediaDevices.enumerateDevices().then(function(t){var a=[];t.forEach(function(e){a.push(e)}),e.setState({audioDevices:a}),e.setState({selectedAudioDevice:"default"})}),document.addEventListener("keydown",function(t){var a=t.key,n=["q","w","e","r","t","y","u","i","a","s","d","f","g","h","j","k"],s=["z","x","c","v","b","n","m",","],l=["Q","W","E","R","T","Y","U","I","A","S","D","F","G","H","J","K"],i=["!","@","#","$","%","^","&","*"],c=["Z","X","C","V","B","N","M","<"];if(t.getModifierState("CapsLock")&&alert("Disable Caps Lock Please"),document.getElementById("tempo")!==document.activeElement){if("number"===typeof parseInt(a,10)&&parseInt(a,10)>=1&&parseInt(a,10)<=8)e.setState({selectedSequence:parseInt(a,10)-1});else if(n.includes(a)){var o,u=n.indexOf(a);if(e.state.masterSequenceList[e.state.selectedBank][e.state.selectedSequence].sequenceLength-1>=u)0===e.state.masterSequenceList[e.state.selectedBank][e.state.selectedSequence].stepSequence[u].isOn&&u<e.state.masterSequenceList[e.state.selectedBank][e.state.selectedSequence].sequenceLength?o=1:1===e.state.masterSequenceList[e.state.selectedBank][e.state.selectedSequence].stepSequence[u].isOn&&u<e.state.masterSequenceList[e.state.selectedBank][e.state.selectedSequence].sequenceLength&&(o=0),e.handleEnableChange(e.state.selectedSequence,u,o)}else if(l.includes(a)){var r=l.indexOf(a);document.getElementsByName(r)[0].focus(),e.setState({selectedStep:r})}else if(s.includes(a)){var d,h=s.indexOf(a);d=0===e.state.masterSequenceList[e.state.selectedBank][h].isMuted?1:0,e.handleMuteChange(h,d)}else if(i.includes(a)){var m=i.indexOf(a);e.setState({selectedBank:m});for(var p=e.state.playingSequence.slice(),v=0;v<8;v++){for(var f=0;f<e.state.masterSequenceList[m][v].sequenceLength;f++)p[v].stepSequence[f].value=e.state.masterSequenceList[m][v].stepSequence[f].value,p[v].stepSequence[f].note=e.state.masterSequenceList[m][v].stepSequence[f].note,p[v].stepSequence[f].velocity=e.state.masterSequenceList[m][v].stepSequence[f].velocity,p[v].stepSequence[f].gate=e.state.masterSequenceList[m][v].stepSequence[f].gate,p[v].stepSequence[f].offset=e.state.masterSequenceList[m][v].stepSequence[f].offset,p[v].stepSequence[f].isTied=e.state.masterSequenceList[m][v].stepSequence[f].isTied,p[v].stepSequence[f].isOn=e.state.masterSequenceList[m][v].stepSequence[f].isOn;p[v].mode=e.state.masterSequenceList[m][v].mode,p[v].cc=e.state.masterSequenceList[m][v].cc,p[v].delay=e.state.masterSequenceList[m][v].delay,p[v].isMuted=e.state.masterSequenceList[m][v].isMuted,p[v].sequenceLength=e.state.masterSequenceList[m][v].sequenceLength,p[v].sequenceResolution=e.state.masterSequenceList[m][v].sequenceResolution,p[v].sequenceChannelOutput=e.state.masterSequenceList[m][v].sequenceChannelOutput}e.setState({playingSequence:p})}else if("p"===a){var S;S=1===e.state.clickPlayEnabled?0:1,e.setState({clickPlayEnabled:S})}else if(["-","="].includes(a))"-"===a?e.handlePVChange(e.state.selectedSequence,"down"):e.handlePVChange(e.state.selectedSequence,"up");else if(c.includes(a)){for(var g=c.indexOf(a),q=e.state.masterSequenceList.slice(),y=0;y<8;y++){for(var O=0;O<e.state.masterSequenceList[g][y].sequenceLength;O++)q[g][y].stepSequence[O].value=e.state.masterSequenceList[e.state.selectedBank][y].stepSequence[O].value,q[g][y].stepSequence[O].note=e.state.masterSequenceList[e.state.selectedBank][y].stepSequence[O].note,q[g][y].stepSequence[O].velocity=e.state.masterSequenceList[e.state.selectedBank][y].stepSequence[O].velocity,q[g][y].stepSequence[O].gate=e.state.masterSequenceList[e.state.selectedBank][y].stepSequence[O].gate,q[g][y].stepSequence[O].offset=e.state.masterSequenceList[e.state.selectedBank][y].stepSequence[O].offset,q[g][y].stepSequence[O].isTied=e.state.masterSequenceList[e.state.selectedBank][y].stepSequence[O].isTied,q[g][y].stepSequence[O].isOn=e.state.masterSequenceList[e.state.selectedBank][y].stepSequence[O].isOn;q[g][y].mode=e.state.masterSequenceList[e.state.selectedBank][y].mode,q[g][y].cc=e.state.masterSequenceList[e.state.selectedBank][y].cc,q[g][y].delay=e.state.masterSequenceList[e.state.selectedBank][y].delay,q[g][y].isMuted=e.state.masterSequenceList[e.state.selectedBank][y].isMuted,q[g][y].sequenceLength=e.state.masterSequenceList[e.state.selectedBank][y].sequenceLength,q[g][y].sequenceResolution=e.state.masterSequenceList[e.state.selectedBank][y].sequenceResolution,q[g][y].sequenceChannelOutput=e.state.masterSequenceList[e.state.selectedBank][y].sequenceChannelOutput}e.setState({masterSequenceList:q})}}else"Enter"===a&&t.preventDefault()})}},{key:"handleOutputSelection",value:function(e){this.setState({selectedMidiOut:e}),p.a.getOutputByName(e)}},{key:"handleClockOutEnableInput",value:function(e){this.setState({clockOutEnabled:e})}},{key:"handleClockOutOffsetInput",value:function(e){this.setState({clockOutOffset:e})}},{key:"handleBPMInput",value:function(e){this.setState({tempo:e})}},{key:"handleAuditionChange",value:function(e){this.setState({clickPlayEnabled:e})}},{key:"handleStepPlay",value:function(e,t){var a=this.state.masterSequenceList[this.state.selectedBank][e].sequenceChannelOutput,n=this.state.masterSequenceList[this.state.selectedBank][e].stepSequence[t],s=p.a.getOutputByName(this.state.selectedMidiOut);1===this.state.clickPlayEnabled&&s.playNote(n.note,a,{duration:n.gate,rawVelocity:!0,time:"+".concat(n.offset),velocity:n.velocity})}},{key:"handleClocksSend",value:function(e){var t=p.a.getOutputByName(this.state.selectedMidiOut),a=6e4/e/24;if(1===this.state.clockOutEnabled){for(var n=0;n<95;n++)t.sendClock({time:p.a.time+a*n});this.clockSequenceInterval=setInterval(function(){for(var e=0;e<95;e++)t.sendClock({time:p.a.time+a*e})},95*a)}}},{key:"handleSequencePlay",value:function(e,t,a,n){var s=this.state.playingSequence[e],l=this.state.playingSequence[e].stepSequence,i=p.a.getOutputByName(this.state.selectedMidiOut),c=6e4/t/this.state.masterSequenceList[this.state.selectedBank][e].sequenceResolution,o=c*s.sequenceLength;if(!1===this.state.isPlaying&&"play"===a){this.setState({isPlaying:!0}),i.sendStart();for(var u=0;u<s.sequenceLength;u++){for(var r=u+1,d=0;r<s.sequenceLength-1&&1===l[r].tie&&1===l[r].isOn;)d+=l[r].gate,r++;if(0===s.random)1===l[u].isOn&&1!==s.isMuted&&0===s.mode&&0===l[u].tie?i.playNote(l[u].note,s.sequenceChannelOutput,{duration:l[u].gate+d,rawVelocity:!0,time:p.a.time+c*u+l[u].offset+s.delay-n,velocity:l[u].velocity}):1===l[u].isOn&&1!==s.isMuted&&1===s.mode&&i.sendControlChange(s.cc,l[u].value,s.sequenceChannelOutput,{time:p.a.time+c*u+l[u].offset+s.delay-n});else if(1===s.random){var h=void 0;h=0===s.mode?Math.random()*l[0].note:Math.random()*l[0].value,1===l[u].isOn&&1!==s.isMuted&&0===s.mode&&0===l[u].tie?i.playNote(h,s.sequenceChannelOutput,{duration:l[u].gate+d,rawVelocity:!0,time:p.a.time+c*u+l[u].offset+s.delay-n,velocity:l[u].velocity}):1===l[u].isOn&&1!==s.isMuted&&1===s.mode&&i.sendControlChange(s.cc,h,s.sequenceChannelOutput,{time:p.a.time+c*u+l[u].offset+s.delay-n})}else if(2===s.random){var m=void 0;m=0===s.mode?Math.random()*(127-l[0].note)+l[0].note:Math.random()*(127-l[0].value)+l[0].value,1===l[u].isOn&&1!==s.isMuted&&0===s.mode&&0===l[u].tie?i.playNote(m,s.sequenceChannelOutput,{duration:l[u].gate+d,rawVelocity:!0,time:p.a.time+c*u+l[u].offset+s.delay-n,velocity:l[u].velocity}):1===l[u].isOn&&1!==s.isMuted&&1===s.mode&&i.sendControlChange(s.cc,m,s.sequenceChannelOutput,{time:p.a.time+c*u+l[u].offset+s.delay-n})}}this.loopSequenceInterval[e]=setInterval(function(){if("play"===a)for(var e=0;e<s.sequenceLength;e++){for(var t=e+1,o=0;t<s.sequenceLength-1&&1===l[t].tie&&1===l[t].isOn;)o+=l[t].gate,t++;if(0===s.random)1===l[e].isOn&&1!==s.isMuted&&0===s.mode&&0===l[e].tie?i.playNote(l[e].note,s.sequenceChannelOutput,{duration:l[e].gate+o,rawVelocity:!0,time:p.a.time+c*e+l[e].offset+s.delay-n,velocity:l[e].velocity}):1===l[e].isOn&&1!==s.isMuted&&1===s.mode&&i.sendControlChange(s.cc,l[e].value,s.sequenceChannelOutput,{time:p.a.time+c*e+l[e].offset+s.delay-n});else if(1===s.random){var u=void 0;u=0===s.mode?Math.random()*l[0].note:Math.random()*l[0].value,1===l[e].isOn&&1!==s.isMuted&&0===s.mode&&0===l[e].tie?i.playNote(u,s.sequenceChannelOutput,{duration:l[e].gate+o,rawVelocity:!0,time:p.a.time+c*e+l[e].offset+s.delay-n,velocity:l[e].velocity}):1===l[e].isOn&&1!==s.isMuted&&1===s.mode&&i.sendControlChange(s.cc,u,s.sequenceChannelOutput,{time:p.a.time+c*e+l[e].offset+s.delay-n})}else if(2===s.random){var r=void 0;r=0===s.mode?Math.random()*(127-l[0].note)+l[0].note:Math.random()*(127-l[0].value)+l[0].value,1===l[e].isOn&&1!==s.isMuted&&0===s.mode&&0===l[e].tie?i.playNote(r,s.sequenceChannelOutput,{duration:l[e].gate+o,rawVelocity:!0,time:p.a.time+c*e+l[e].offset+s.delay-n,velocity:l[e].velocity}):1===l[e].isOn&&1!==s.isMuted&&1===s.mode&&i.sendControlChange(s.cc,r,s.sequenceChannelOutput,{time:p.a.time+c*e+l[e].offset+s.delay-n})}}},o)}}},{key:"handleSequenceStop",value:function(){var e=p.a.getOutputByName(this.state.selectedMidiOut);this.setState({isPlaying:!1});for(var t=0;t<8;t++)clearInterval(this.loopSequenceInterval[t]);clearInterval(this.clockSequenceInterval),e.sendStop()}},{key:"handleMenuDisable",value:function(){for(var e=document.getElementById("midi"),t=document.getElementById("audio"),a=e.getElementsByTagName("select"),n=t.getElementsByTagName("select"),s=0;s<a.length;s++)a[s].disabled=!0;for(var l=0;l<n.length;l++)n[l].disabled=!0;for(var i=1;i<4;i++)document.getElementById("menu"+[i]).disabled=!0}},{key:"handleMenuEnable",value:function(){for(var e=document.getElementById("midi"),t=document.getElementById("audio"),a=e.getElementsByTagName("select"),n=t.getElementsByTagName("select"),s=0;s<a.length;s++)a[s].disabled=!1;for(var l=0;l<n.length;l++)n[l].disabled=!1;for(var i=1;i<4;i++)document.getElementById("menu"+[i]).disabled=!1}},{key:"handleSequenceSelection",value:function(e){this.setState({selectedSequence:e})}},{key:"handleStepSelection",value:function(e){this.setState({selectedStep:e})}},{key:"handleActionChange",value:function(e){"Copy"===e&&this.setState({copyCount:1}),this.setState({memoryAction:e})}},{key:"handleBankChange",value:function(e,t){if("Read"===t){this.setState({selectedBank:e});for(var a=this.state.playingSequence.slice(),n=0;n<8;n++){for(var s=0;s<this.state.masterSequenceList[e][n].sequenceLength;s++)a[n].stepSequence[s].value=this.state.masterSequenceList[e][n].stepSequence[s].value,a[n].stepSequence[s].note=this.state.masterSequenceList[e][n].stepSequence[s].note,a[n].stepSequence[s].velocity=this.state.masterSequenceList[e][n].stepSequence[s].velocity,a[n].stepSequence[s].gate=this.state.masterSequenceList[e][n].stepSequence[s].gate,a[n].stepSequence[s].offset=this.state.masterSequenceList[e][n].stepSequence[s].offset,a[n].stepSequence[s].isTied=this.state.masterSequenceList[e][n].stepSequence[s].isTied,a[n].stepSequence[s].isOn=this.state.masterSequenceList[e][n].stepSequence[s].isOn;a[n].mode=this.state.masterSequenceList[e][n].mode,a[n].cc=this.state.masterSequenceList[e][n].cc,a[n].delay=this.state.masterSequenceList[e][n].delay,a[n].isMuted=this.state.masterSequenceList[e][n].isMuted,a[n].sequenceLength=this.state.masterSequenceList[e][n].sequenceLength,a[n].sequenceResolution=this.state.masterSequenceList[e][n].sequenceResolution,a[n].sequenceChannelOutput=this.state.masterSequenceList[e][n].sequenceChannelOutput}this.setState({playingSequence:a})}else if("Copy"===t&&1===this.state.copyCount){this.setState({copyCount:0}),this.setState({memoryAction:"Read"});for(var l=this.state.masterSequenceList.slice(),i=0;i<8;i++){for(var c=0;c<this.state.masterSequenceList[e][i].sequenceLength;c++)l[e][i].stepSequence[c].value=this.state.masterSequenceList[this.state.selectedBank][i].stepSequence[c].value,l[e][i].stepSequence[c].note=this.state.masterSequenceList[this.state.selectedBank][i].stepSequence[c].note,l[e][i].stepSequence[c].velocity=this.state.masterSequenceList[this.state.selectedBank][i].stepSequence[c].velocity,l[e][i].stepSequence[c].gate=this.state.masterSequenceList[this.state.selectedBank][i].stepSequence[c].gate,l[e][i].stepSequence[c].offset=this.state.masterSequenceList[this.state.selectedBank][i].stepSequence[c].offset,l[e][i].stepSequence[c].isTied=this.state.masterSequenceList[this.state.selectedBank][i].stepSequence[c].isTied,l[e][i].stepSequence[c].isOn=this.state.masterSequenceList[this.state.selectedBank][i].stepSequence[c].isOn;l[e][i].mode=this.state.masterSequenceList[this.state.selectedBank][i].mode,l[e][i].cc=this.state.masterSequenceList[this.state.selectedBank][i].cc,l[e][i].delay=this.state.masterSequenceList[this.state.selectedBank][i].delay,l[e][i].isMuted=this.state.masterSequenceList[this.state.selectedBank][i].isMuted,l[e][i].sequenceLength=this.state.masterSequenceList[this.state.selectedBank][i].sequenceLength,l[e][i].sequenceResolution=this.state.masterSequenceList[this.state.selectedBank][i].sequenceResolution,l[e][i].sequenceChannelOutput=this.state.masterSequenceList[this.state.selectedBank][i].sequenceChannelOutput}this.setState({masterSequenceList:l})}}},{key:"handlePVChange",value:function(e,t){var a=this.state.masterSequenceList.slice(),n=this.state.playingSequence.slice(),s=a[this.state.selectedBank][e].sequenceLength,l=[],i=a[this.state.selectedBank][e].mode;if(1===i)for(var c=0;c<s;c++)l.push(a[this.state.selectedBank][e].stepSequence[c].value);else for(var o=0;o<s;o++)l.push(a[this.state.selectedBank][e].stepSequence[o].note);if("up"===t){if(l.includes(127))return;if(1===i)for(var u=0;u<s;u++)a[this.state.selectedBank][e].stepSequence[u].value+=1,n[e].stepSequence[u].value+=1;else if(0===i)for(var r=0;r<s;r++)a[this.state.selectedBank][e].stepSequence[r].note+=1,n[e].stepSequence[r].note+=1}else if("down"===t){if(l.includes(0))return;if(1===i)for(var d=0;d<s;d++)a[this.state.selectedBank][e].stepSequence[d].value-=1,n[e].stepSequence[d].value-=1;else if(0===i)for(var h=0;h<s;h++)a[this.state.selectedBank][e].stepSequence[h].note-=1,n[e].stepSequence[h].note-=1}this.setState({masterSequenceList:a}),this.setState({playingSequence:n})}},{key:"handleMuteChange",value:function(e,t){var a=this.state.masterSequenceList.slice(),n=this.state.playingSequence.slice();a[this.state.selectedBank][e].isMuted=t,n[e].isMuted=t,this.setState({masterSequenceList:a}),this.setState({playingSequence:n})}},{key:"handleModeChange",value:function(e,t){var a=this.state.masterSequenceList.slice(),n=this.state.playingSequence.slice();a[this.state.selectedBank][e].mode=t,n[e].mode=t,this.setState({masterSequenceList:a}),this.setState({playingSequence:n})}},{key:"handleCCChange",value:function(e,t){var a=this.state.masterSequenceList.slice(),n=this.state.playingSequence.slice();a[this.state.selectedBank][e].cc=t,n[e].cc=t,this.setState({masterSequenceList:a}),this.setState({playingSequence:n})}},{key:"handleSequenceLengthChange",value:function(e,t){var a=this.state.masterSequenceList.slice(),n=this.state.playingSequence.slice();n[e].sequenceLength=t;for(var s=0;s<8;s++)a[s][e].sequenceLength=t;this.setState({masterSequenceList:a}),this.setState({playingSequence:n})}},{key:"handleSequenceResolutionChange",value:function(e,t){var a=this.state.masterSequenceList.slice(),n=this.state.playingSequence.slice();a[this.state.selectedBank][e].sequenceResolution=t,n[e].sequenceResolution=t,this.setState({masterSequenceList:a}),this.setState({playingSequence:n})}},{key:"handleChannelOutputChange",value:function(e,t){var a=this.state.masterSequenceList.slice(),n=this.state.playingSequence.slice();a[this.state.selectedBank][e].sequenceChannelOutput=t,n[e].sequenceChannelOutput=t,this.setState({masterSequenceList:a}),this.setState({playingSequence:n})}},{key:"handleDelayChange",value:function(e,t){var a=this.state.masterSequenceList.slice(),n=this.state.playingSequence.slice();a[this.state.selectedBank][e].delay=t,n[e].delay=t,this.setState({masterSequenceList:a}),this.setState({playingSequence:n})}},{key:"handleRandomChange",value:function(e,t){var a=this.state.masterSequenceList.slice(),n=this.state.playingSequence.slice();a[this.state.selectedBank][e].random=t,n[e].random=t,this.setState({masterSequenceList:a}),this.setState({playingSequence:n})}},{key:"handleEnableChange",value:function(e,t,a){var n=this.state.masterSequenceList.slice(),s=this.state.playingSequence.slice();n[this.state.selectedBank][e].stepSequence[t].isOn=a,s[e].stepSequence[t].isOn=a,this.setState({masterSequenceList:n}),this.setState({playingSequence:s})}},{key:"handleValueChange",value:function(e,t,a){var n=this.state.masterSequenceList.slice(),s=this.state.playingSequence.slice();n[this.state.selectedBank][e].stepSequence[t].value=a,s[e].stepSequence[t].value=a,this.setState({masterSequenceList:n}),this.setState({playingSequence:s})}},{key:"handlePitchChange",value:function(e,t,a){var n=this.state.masterSequenceList.slice(),s=this.state.playingSequence.slice();n[this.state.selectedBank][e].stepSequence[t].note=a,s[e].stepSequence[t].note=a,this.setState({masterSequenceList:n}),this.setState({playingSequence:s})}},{key:"handleVelocityChange",value:function(e,t,a){var n=this.state.masterSequenceList.slice(),s=this.state.playingSequence.slice();n[this.state.selectedBank][e].stepSequence[t].velocity=a,s[e].stepSequence[t].velocity=a,this.setState({masterSequenceList:n}),this.setState({playingSequence:s})}},{key:"handleGateChange",value:function(e,t,a){var n=this.state.masterSequenceList.slice(),s=this.state.playingSequence.slice();n[this.state.selectedBank][e].stepSequence[t].gate=a,s[e].stepSequence[t].gate=a,this.setState({masterSequenceList:n}),this.setState({playingSequence:s})}},{key:"handleOffsetChange",value:function(e,t,a){var n=this.state.masterSequenceList.slice(),s=this.state.playingSequence.slice();n[this.state.selectedBank][e].stepSequence[t].offset=a,s[e].stepSequence[t].offset=a,this.setState({masterSequenceList:n}),this.setState({playingSequence:s})}},{key:"handleTieChange",value:function(e,t,a){var n=this.state.masterSequenceList.slice(),s=this.state.playingSequence.slice();n[this.state.selectedBank][e].stepSequence[t].tie=a,s[e].stepSequence[t].tie=a,this.setState({masterSequenceList:n}),this.setState({playingSequence:s})}},{key:"handleJSONExport",value:function(){if(!1===this.state.isPlaying){var e=JSON.stringify(this.state.masterSequenceList),t="data:application/json;charset=utf-8,"+encodeURIComponent(e),a=document.createElement("a");a.setAttribute("href",t),a.setAttribute("download","all_banks.json"),a.click()}}},{key:"handleJSONImport",value:function(){!1===this.state.isPlaying&&document.getElementById("fileElem").click()}},{key:"handleFile",value:function(){var e=this,t=document.getElementById("fileElem").files[0];if(void 0!==t){this.setState({projectName:t.name});var a=new FileReader;a.onload=function(){var t;try{t=JSON.parse(a.result)}catch(h){alert("Your file is corrupted."),window.location.reload(!1)}for(var n=e.state.masterSequenceList.slice(),s=e.state.playingSequence.slice(),l=e.state.selectedBank,i=[],c=[],o=0;o<8;o++)n[o]=JSON.parse(JSON.stringify(t[o])),i.push(n[o].length),c.push(Object.keys(n[o][o]).length);function u(e){return e===this}8===i.length&&8===c.length&&i.every(u,8)&&c.every(u,9)||(alert("Sorry mate. Your selected file is an invalid sequence."),window.location.reload(!1)),e.setState({masterSequenceList:n});for(var r=0;r<8;r++){for(var d=0;d<e.state.masterSequenceList[l][r].sequenceLength;d++)s[r].stepSequence[d].value=e.state.masterSequenceList[l][r].stepSequence[d].value,s[r].stepSequence[d].note=e.state.masterSequenceList[l][r].stepSequence[d].note,s[r].stepSequence[d].velocity=e.state.masterSequenceList[l][r].stepSequence[d].velocity,s[r].stepSequence[d].gate=e.state.masterSequenceList[l][r].stepSequence[d].gate,s[r].stepSequence[d].offset=e.state.masterSequenceList[l][r].stepSequence[d].offset,s[r].stepSequence[d].isTied=e.state.masterSequenceList[l][r].stepSequence[d].isTied,s[r].stepSequence[d].isOn=e.state.masterSequenceList[l][r].stepSequence[d].isOn;s[r].mode=e.state.masterSequenceList[l][r].mode,s[r].cc=e.state.masterSequenceList[l][r].cc,s[r].delay=e.state.masterSequenceList[l][r].delay,s[r].isMuted=e.state.masterSequenceList[l][r].isMuted,s[r].sequenceLength=e.state.masterSequenceList[l][r].sequenceLength,s[r].sequenceResolution=e.state.masterSequenceList[l][r].sequenceResolution,s[r].sequenceChannelOutput=e.state.masterSequenceList[l][r].sequenceChannelOutput}e.setState({playingSequence:s})},a.readAsText(t)}}},{key:"handleAudioDevice",value:function(e){var t=this;this.setState({selectedAudioDevice:e});var a={autoGainControl:this.state.autoGain,channelCount:this.state.channelNumber,deviceId:e,echoCancellation:!1,latency:.01,noiseSuppression:!1,volume:1};this.audioTrack instanceof MediaStreamTrack&&this.audioTrack.stop(),this.audioCtx instanceof AudioContext?(this.sourceNode.disconnect(),navigator.mediaDevices.getUserMedia({audio:a}).then(function(e){t.stream=e;var a=e.getAudioTracks()[0].id,n=e.getTrackById(a);t.audioTrack=n;var s=t.audioCtx.createMediaStreamSource(t.stream);t.sourceNode=s,t.sourceNode.channelCount=t.state.channelNumber,1===t.state.thruEnabled&&s.connect(t.audioCtx.destination),1===t.state.recordEnabled&&(t.recorder=new B(s,{numChannels:t.state.channelNumber}))})):navigator.mediaDevices.getUserMedia({audio:a}).then(function(e){t.stream=e;var a=e.getAudioTracks()[0].id,n=e.getTrackById(a);t.audioTrack=n,t.audioCtx=new AudioContext({sampleRate:n.getSettings().sampleRate});var s=t.audioCtx.createMediaStreamSource(t.stream);t.sourceNode=s,t.sourceNode.channelCount=t.state.channelNumber,1===t.state.thruEnabled&&s.connect(t.audioCtx.destination),t.recorder=new B(s,{numChannels:t.state.channelNumber}),0===t.state.recordEnabled&&t.audioTrack.stop()})}},{key:"handleAudioThru",value:function(e){var t=this;if(this.setState({thruEnabled:e}),this.audioTrack instanceof MediaStreamTrack&&this.audioTrack.stop(),1===e){var a={autoGainControl:this.state.autoGain,channelCount:this.state.channelNumber,deviceId:this.state.selectedAudioDevice,echoCancellation:!1,latency:.01,noiseSuppression:!1,volume:1};navigator.mediaDevices.getUserMedia({audio:a}).then(function(e){t.stream=e;var a=e.getAudioTracks()[0].id,n=e.getTrackById(a);t.audioTrack=n,t.audioCtx=new AudioContext({sampleRate:n.getSettings().sampleRate});var s=t.audioCtx.createMediaStreamSource(t.stream);t.sourceNode=s,t.sourceNode.channelCount=t.state.channelNumber,s.connect(t.audioCtx.destination)})}else 0===this.state.recordEnabled&&this.sourceNode.disconnect()}},{key:"handleAudioRecordEnable",value:function(e){var t=this;if(this.setState({recordEnabled:e}),1===e){this.audioTrack instanceof MediaStreamTrack&&this.audioTrack.stop(),this.audioCtx instanceof AudioContext&&this.sourceNode.disconnect();var a={autoGainControl:this.state.autoGain,channelCount:this.state.channelNumber,deviceId:this.state.selectedAudioDevice,echoCancellation:!1,latency:.01,noiseSuppression:!1,volume:1};navigator.mediaDevices.getUserMedia({audio:a}).then(function(e){t.stream=e;var a,n=e.getAudioTracks()[0].id,s=e.getTrackById(n);t.audioTrack=s,t.audioCtx instanceof AudioContext?(a=t.audioCtx.createMediaStreamSource(t.stream),t.sourceNode=a):(t.audioCtx=new AudioContext({sampleRate:s.getSettings().sampleRate}),a=t.audioCtx.createMediaStreamSource(t.stream),t.sourceNode=a),t.sourceNode.channelCount=t.state.channelNumber,1===t.state.thruEnabled&&a.connect(t.audioCtx.destination),t.recorder=new B(a,{numChannels:t.state.channelNumber})})}else this.recorder={}}},{key:"handleTailLength",value:function(e){this.setState({tail:e})}},{key:"handleChannelCount",value:function(e){var t,a=this;this.audioTrack instanceof MediaStreamTrack&&this.audioTrack.stop(),this.audioCtx instanceof AudioContext&&this.sourceNode.disconnect(),1===e?(t=!0,this.setState({autoGain:!0}),this.setState({channelNumber:1})):(t=!1,this.setState({autoGain:!1}),this.setState({channelNumber:2}));var n={autoGainControl:t,channelCount:e,deviceId:this.state.selectedAudioDevice,echoCancellation:!1,latency:.01,noiseSuppression:!1,volume:1};navigator.mediaDevices.getUserMedia({audio:n}).then(function(t){a.stream=t;var n,s=t.getAudioTracks()[0].id,l=t.getTrackById(s);a.audioTrack=l,a.audioCtx instanceof AudioContext?(n=a.audioCtx.createMediaStreamSource(a.stream),a.sourceNode=n):(a.audioCtx=new AudioContext({sampleRate:l.getSettings().sampleRate}),n=a.audioCtx.createMediaStreamSource(a.stream),a.sourceNode=n),a.sourceNode.channelCount=e,1===a.state.thruEnabled&&n.connect(a.audioCtx.destination),1===a.state.recordEnabled&&(a.recorder=new B(n,{numChannels:e}))})}},{key:"handleAudioRecord",value:function(e){1===e&&!1===this.state.isCurrentlyRecording&&(this.setState({isCurrentlyRecording:!0}),this.recorder.record())}},{key:"handleRecordStop",value:function(e){var t=this;!0===this.recorder.recording&&setTimeout(function(){if(!0===t.recorder.recording){t.recorder.stop(),t.recorder.exportWAV(function(t){var a=URL.createObjectURL(t);e.setState({wavSource:a})});var e=t;t.recorder.clear(),t.setState({isCurrentlyRecording:!1})}},e)}},{key:"handleDownloadClick",value:function(){if(!1===this.state.isPlaying&&""!==this.state.wavSource){var e,t=document.createElement("a"),a=(new Date).toISOString(),n=parseInt(this.state.tempo,10)+"bpm";e=1===this.state.channelNumber?"_mono_":"_stereo_",t.href=this.state.wavSource,t.download=n+e+a+".wav",t.click()}}},{key:"handleDeleteClick",value:function(){!1===this.state.isPlaying&&""!==this.state.wavSource&&this.setState({wavSource:""})}},{key:"render",value:function(){var e,t=this;e=!0===this.state.isPlaying?"play-button-active":"play-button-inactive";var a=null;return null!=this.state.selectedSequence&&(a=s.a.createElement(L,{selectedSequenceSlice:this.state.masterSequenceList[this.state.selectedBank][this.state.selectedSequence],selectedSequence:this.state.masterSequenceList[this.state.selectedBank][this.state.selectedSequence].stepSequence,selectedBankId:this.state.selectedBank,selectedSequenceId:this.state.selectedSequence,selectedStepId:this.state.selectedStep,onStepSelection:this.handleStepSelection,onMuteSubmit:this.handleMuteChange,onModeSubmit:this.handleModeChange,onCCSubmit:this.handleCCChange,onLengthSubmit:this.handleSequenceLengthChange,onResolutionSubmit:this.handleSequenceResolutionChange,onChannelSubmit:this.handleChannelOutputChange,onDelayChange:this.handleDelayChange,onRandomSubmit:this.handleRandomChange,onEnableChange:this.handleEnableChange,onValueChange:this.handleValueChange,onPitchChange:this.handlePitchChange,onVelocityChange:this.handleVelocityChange,onGateChange:this.handleGateChange,onOffsetChange:this.handleOffsetChange,onTieChange:this.handleTieChange,onStepJam:this.handleStepPlay})),s.a.createElement("div",{className:"app-wrapper"},s.a.createElement("div",{className:"left-pane"},s.a.createElement("div",{className:"transport"},s.a.createElement("div",{id:"midi"},s.a.createElement(f,{allOutputs:this.state.allOutputs,onOutputSubmit:this.handleOutputSelection,selectedMidiOut:this.state.selectedMidiOut}),s.a.createElement("div",{className:"clockout-grid"},s.a.createElement(S,{enable:this.state.clockOutEnabled,onClockEnableSubmit:this.handleClockOutEnableInput}),s.a.createElement(g,{offset:this.state.clockOutOffset,onClockSubmit:this.handleClockOutOffsetInput}))),s.a.createElement(I,{inputDevices:this.state.audioDevices,selectedDevice:this.state.selectedAudioDevice,onThruEnable:this.handleAudioThru,thruStatus:this.state.thruEnabled,enableStatus:this.state.recordEnabled,tailLength:this.state.tail,onDeviceSelect:this.handleAudioDevice,onRecordEnable:this.handleAudioRecordEnable,onTailSelection:this.handleTailLength,onChannelCount:this.handleChannelCount,channels:this.state.channelNumber,playerSource:this.state.wavSource,onDeleteClick:this.handleDeleteClick,onDownloadClick:this.handleDownloadClick}),s.a.createElement("div",{className:"transport-buttons-grid"},s.a.createElement("div",{className:"bpm"},s.a.createElement(q,{selectedTempo:this.state.tempo,onTempoSelection:this.handleBPMInput}),s.a.createElement(y,{clickPlayEnabled:this.state.clickPlayEnabled,onAuditionSelection:this.handleAuditionChange})),s.a.createElement("button",{className:e,onClick:function(){t.handleAudioRecord(t.state.recordEnabled),t.handleSequencePlay(0,t.state.tempo,"play",t.state.clockOutOffset),t.handleSequencePlay(1,t.state.tempo,"play",t.state.clockOutOffset),t.handleSequencePlay(2,t.state.tempo,"play",t.state.clockOutOffset),t.handleSequencePlay(3,t.state.tempo,"play",t.state.clockOutOffset),t.handleSequencePlay(4,t.state.tempo,"play",t.state.clockOutOffset),t.handleSequencePlay(5,t.state.tempo,"play",t.state.clockOutOffset),t.handleSequencePlay(6,t.state.tempo,"play",t.state.clockOutOffset),t.handleSequencePlay(7,t.state.tempo,"play",t.state.clockOutOffset),t.handleClocksSend(t.state.tempo),t.handleMenuDisable()}},s.a.createElement("i",{id:"play-button-icon",className:"fas fa-play"}),s.a.createElement("span",null,"Play")),s.a.createElement("button",{className:"stop-button",onClick:function(){t.handleSequenceStop(),t.handleRecordStop(t.state.tail),t.handleMenuEnable()}},s.a.createElement("i",{className:"fas fa-stop"}),s.a.createElement("span",null,"Stop")))),s.a.createElement(E,{masterSequenceList:this.state.masterSequenceList[this.state.selectedBank],onSequenceSelection:this.handleSequenceSelection,selectedSequence:this.state.selectedSequence,onPVShift:this.handlePVChange})),s.a.createElement("div",{className:"details-pane"},s.a.createElement(N,{onExport:this.handleJSONExport,onImport:this.handleJSONImport,onFileChange:this.handleFile,name:this.state.projectName}),s.a.createElement(C,{memoryAction:this.state.memoryAction,onActionSelection:this.handleActionChange}),s.a.createElement("div",{className:"memory-bank-grid"},this.state.masterSequenceList.map(function(e,a){return s.a.createElement(b,{selectedAction:t.state.memoryAction,selectedBank:t.state.selectedBank,onBankSelection:t.handleBankChange,key:a,bankId:a})})),a))}}]),t}(s.a.Component);i.a.render(s.a.createElement(R,null),document.getElementById("root"))}],[[14,2,1]]]);
//# sourceMappingURL=main.09d29318.chunk.js.map