chrome.runtime?.sendMessage||(()=>{});function g(){let a,b;return{promise:new Promise((c,d)=>{a=c;b=d}),resolve:a,reject:b}}
function h(a){if(a.i)return a.i;const b=g();a.i=b.promise;const c=()=>{const d=document.createElement("iframe");d.style.display="none";window.addEventListener("message",e=>{if(a.j.includes(e.origin))switch(e.data.type){case "IFRAME_READY":const [f,l]=e.data.data;a.g=d;b.resolve([f,l]);break;case "CLOSE_CONSENT":a.g&&a.g.classList.toggle("showConsent",!1)}});d.src=a.j;document.body.appendChild(d)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{setTimeout(c,0)},{once:!0}):
setTimeout(c,0);return a.i}async function k(a){var b=m;b.h.push(["gtag_event",a]);b.g||await h(b);a=b.g.contentWindow;if(b.h.length)for(;b.h.length>0;){const c=b.h.shift();c&&a.postMessage({type:c[0],data:c[1]},b.targetOrigin)}}async function n(a,b){k([a,b])}class p{constructor(){var a={j:"https://app.chronodownloader.net/ga.html"};this.i=this.g=null;this.h=[];this.j=a.j;this.targetOrigin=a.targetOrigin||"*"}}
const m=new p,q=function(a,b){let c,d=0;return(...e)=>{const f=Date.now();f-d>=b?(clearTimeout(c),c=void 0,d=f,a.apply(void 0,e)):c||(c=setTimeout(()=>{c=void 0;d=Date.now();a.apply(void 0,e)},b))}}(a=>{(new Audio(a)).play()},500);chrome.runtime.onMessage.addListener((a,b,c)=>{if(a.target==="off")switch(a.cmd){case "e":const [d,e]=a.data;e&&n("page_view",{page_title:"o",page_location:location.href});for(const f of d)n(f[0],f[1]);break;case "a":q(a.data);break;case "d3":c({...localStorage})}});
