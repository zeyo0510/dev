/*
 
 (c) 2009-2013 Michael Leibman
 michael{dot}leibman{at}gmail{dot}com
 http://github.com/mleibman/slickgrid

 Distributed under MIT license.
 All rights reserved.

 SlickGrid v2.2

 NOTES:
     Cell/row DOM manipulations are done directly bypassing jQuery's DOM manipulation methods.
     This increases the speed dramatically, but can only be done safely because there are no event handlers
     or data associated with any cell/row DOM nodes.  Cell editors must make sure they implement .destroy()
     and do proper cleanup.
*/
const n=chrome.i18n?.getMessage||(()=>""),na=chrome.runtime?.sendMessage||(()=>{});function ta(c){return atob(c).split("").map(f=>String.fromCharCode(f.charCodeAt(0)+1)).join("")}function ua(){chrome.tabs.create({url:Ba.W,active:!0}).then(c=>chrome.windows.update(c.windowId,{focused:!0}))}const Ka=Date[ta("bW52")]();var x=0;x=0;x++;x++;x++;x=0;x++;x++;x++;x++;x++;x++;x=0;var La=x++;x++;x=0;var Va=x++;x++;var Wa=x++,jb=x++;x=0;var xb=x++,yb=x++,zb=x++,Sb=x++,Tb=x++;x=0;var Ub=x++;x++;x++;x++;x++;
x=0;var Vb=x++;x++;x=0;x++;x++;var Wb=x++;x=0;x++;x++;x++;x++;x++;x++;x++;x++;x++;x++;x++;x++;x++;x++;x++;x=0;x++;x++;x++;x=0;x++;x=256;x++;x++;x++;x++;x++;x++;x=512;x++;x++;function Xb(){let c,f;return{promise:new Promise((g,m)=>{c=g;f=m}),resolve:c,reject:f}}const Yb=Ka>Number(ta("MDYzLy8vODU4MDczNQ")),vc=ta("YF4"),wc=["",[String.fromCharCode(103),String.fromCharCode(108),String.fromCharCode(99)].join(""),"2_"].join("_");async function xc(c){c=wc+c;return(await chrome.storage.local.get(c))[c]}
async function yc(c){c=await xc(c);const f=Date.now();return!c||!c._t||isNaN(c._t)||!isFinite(c._t)||f-c._t>6048E5?{_t:f}:c}async function zc(c,f){var g=g||1;const m=await yc(c);f=[f].map(h=>{if(typeof h==="string")var k=h;else{if(h===0)k="a";else for(k="";h>0;)k="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"[h%62]+k,h=Math.floor(h/62);k=vc+k}return k}).join(";");m[f]=(m[f]||0)+g;chrome.storage.local.set({[wc+c]:m})}
const Ac={la:"//downloads",La:"//extensions",V:"//settings/downloads",W:"//settings/languages",pa:"//settings/content/pdfDocuments",oa:(c="chrome:")=>`${c}//extensions/?id=${chrome.runtime.id}#allow-on-file-urls`},Bc={la:"chrome://downloads",V:"chrome://settings/downloads",aa:"https://chromewebstore.google.com/detail/mciiogijehkdemklbdcbfkefimifhecn",X:"https://chromewebstore.google.com/detail/mciiogijehkdemklbdcbfkefimifhecn/reviews"};let Cc="Chrome";var Dc;
a:{const c=["Chrome","chrome",Bc,"google"],f=[c,["Edge","edge",{},"microsoftedge"],["Firefox","",{W:"about:preferences#general",oa:()=>"about:addons"},"mozilla"],["Opera","opera",{},"opera"],["360","se",{V:"se://settings/browser#downloadsSection",W:"se://settings",pa:"se://settings"},"360"],["QQ","qqbrowser",{V:"qqbrowser://settings/normal?qbDownload"},"qq"]],g=chrome.runtime.getManifest().homepage_url;for(const m of f){const [h,,,k]=m;if(""===h||g.includes(k)){Dc=m;break a}}Dc=c}
const [Ec,od,pd]=Dc,qd={};if(od)for(const c in Ac){const f=Ac[c];qd[c]=typeof f==="function"?f.bind(void 0,od+":"):od+":"+f}Cc=Ec;const Ba={Ma:"about:newtab",X:chrome.runtime.getManifest().homepage_url||Bc.X,...qd,...(pd||{})};var rd;if(Cc==="Edge")rd=n("optItemOverrideChromeNoShortcut");else{var sd=Cc!=="Opera";rd=n("optItemOverrideChrome",[(navigator.platform.indexOf("Mac")>-1?((sd||"")&&"\u21e7")+"\u2318":"Ctrl+")+"J"])}var td=n("uilang");
const ud={_uilanguage:{label:"",type:"button",value:void 0,sa:n("chromesysChange"),onclick:function(){ua()}},fnconflict:{label:"When file name conflicts",type:"select",options:[n("optOptionUniquify"),n("optOptionOverwrite"),n("optOptionPrompt"),n("optOptionSkipPause"),n("optOptionSkipCancel")],value:Ub,g:"NameConflict"},def_threads:{label:n("fieldThreads"),type:"int",ha:!0,value:5,min:1,max:15},def_addtop:{label:n("optionAddTop"),type:"bool",value:!1},def_addpause:{label:"Add paused",type:"bool",
value:!1,g:"DefAddPaused"},down_clipboard:{label:"Download URL from Clipboard",type:"bool",value:!0,g:"DownloadClipboard"},start_interrupted:{label:"Start Button also starts interrupted tasks",type:"bool",value:!1,g:"StartInterrupted"},override_cr:{label:rd,type:"bool",value:!0},hide_cr_bar:{label:"Hide Chrome's Downloads Shelf(Bar)",type:"bool",value:!0,g:"HideShelf"},win_mode:{label:"Open downloads manager as standalone window",type:"bool",value:!0,g:"WinMode"},slide_details_panel:{label:"Slide details panel when click on task",
type:"bool",value:!0,g:"SlideDetailsPanel",s:n("tipOptItemSlideDetailsPanel")},recycle_cancel:{label:"Cancel the task when it's recycled",type:"bool",value:!1,g:"RecycleCancel"},clear_search:{label:"Clear search box when filter changes",type:"bool",value:!1,g:"ClearSearch"},menu_d_dialog:{label:n("menuDLink"),type:"bool",value:!0},menu_d_oneclick:{label:n("menuDLinkOneClick"),type:"bool",value:!0},menu_d_sniffer:{label:n("tipBrowserAction"),type:"bool",value:!0},notify_error:{label:"When error occurs",
type:"bool",value:!0,g:"NotifyError"},notify_finish:{label:"When download completes",type:"bool",value:!0,g:"NotifyFinish"},sound_finish:{label:"Play sound when download completes",type:"bool",value:!0,g:"SoundFinish"},sound_error:{label:"Play sound when error occurs",type:"bool",value:!0,g:"SoundError"},notify_oneclick:{label:"When adding One-Click download",type:"bool",value:!1,g:"NotifyOneClick"},notify_progress:{label:"Show download progress",type:"bool",value:!1,g:"NotifyProgress"},notify_large_preview:{label:"Show large preview for images",
type:"bool",value:!0,g:"NotifyLargePreview"},click_notify:{label:"Clicking on a notification",type:"select",options:[[n("optOptionOpenFile"),Sb],[n("optOptionOpenFolder"),Tb],[n("menuOpenManager"),xb],[n("optOptionClearNotify"),yb],[n("optOptionClearAllNotify"),zb]],value:Sb,g:"ClickNotify"},dbclick_action:{label:"Double-click on task",type:"select",options:[[n("optOptionDoNothing"),Va],[n("optOptionOpenFile"),Wa],[n("optOptionOpenFolder"),jb]],value:jb,g:"DblClickAction"},doneclick_rule:{label:n("phraseEnable"),
type:"bool",value:!0,s:n("tipOptSectionOneClick"),ka:"https://faq.chronodownloader.net/?action=faq&cat=7&id=3"},badge_downnum:{label:"Show Downloading Number",type:"bool",value:!0,g:"BadgeDownloadNum"},font_size:{label:n("chromesysFontSize"),type:"int",value:14,min:12,max:16},poplist_max_items:{label:"Max Items",type:"int",value:15,min:1,max:50,g:"PopMaxItems"},poplist_showd_first:{label:"Show downloading tasks first",type:"bool",value:!0,g:"PopShowDLFirst"},poplist_clear_close:{label:"Close after clear",
type:"bool",value:!1,g:"PopClearClose"},dy_max_con_tasks:{label:"Concurrent downloads",type:"int",value:10,min:1,max:20,g:"ConcurrentDownloads"},dy_max_per_server:{label:"Downloads per server",type:"int",value:5,min:1,max:5,g:"DownloadsPerServer"},always_use_last_location:{label:td.startsWith("en")||td.startsWith("zh")?n("labelUseLastLocation"):n("labelFolderColon")+" "+n("labelUseLastLocation"),type:"bool",value:!0},chrono_folder_selection:{label:n("labelEnableFolderSelection"),type:"bool",value:!0},
folder_inaccessible:{label:n("labelUnableSaveToFolder"),type:"select",options:[n("labelDownloadToDefaultFolder"),n("labelChooseDownloadLocation")],value:Vb},def_folder:{label:"Default folder",type:"string",value:"",ha:!0,s:n("tipOptNoRuleMatch"),g:"DefFolder"},def_naming:{label:"Default Naming Mask",type:"string",value:"*name*.*ext*",ga:"*name*.*ext*",s:n("tipOptNoRuleMatch"),g:"DefNaming"},match_mode:{label:"Match Mode",type:"select",options:[n("optOptionFirstMatch"),n("optOptionReplace")],value:La,
s:n("tipOptItemRuleMatchMode"),g:"RuleMatchMode"},tb_fit_cols:{type:"bool",value:!1},tb_sync_resize:{type:"bool",value:!1},tb_def_cols:{type:"list",value:"state name progress size speed active_threads time_remained url time_add".split(" ")},tb_sort_cols:{type:"list",value:[{field:"time_add",sortAsc:!1}]},pop_preview:{type:"bool",value:!0},pop_showsize:{type:"bool",value:!0},pop_content:{type:"int",value:0,min:void 0,max:void 0},pop_sniffer_hint:{type:"int",value:0,min:void 0,max:void 0},pop_clear_file:{type:"bool",
value:!1},poplist_remove_confirm:{type:"select",value:Wb,g:"PopDeleteAction",label:"Click 'Delete' button",options:[n("optOptionRemList"),n("optOptionRemFile"),n("optOptionRemAsk")]},preview_autoplay:{type:"bool",value:!1,label:`${n("optSectionPreview")} - ${n("optItemPreviewAutoplay")}`},bg_image_enable:{type:"bool",value:!1},bg_image_everset:{type:"bool",value:!1},bg_image_url:{type:"string",value:"/icons/bg/1.jpg"},bg_image_opacity:{type:"float",value:.35,min:0,max:1},bg_image_blur:{type:"int",
value:0,min:0,max:10},ui_grid_list:{type:"bool",value:!0},autoclear_type:{type:"string",value:"both"},autoclear_timer:{type:"int",value:-1,min:void 0,max:void 0},search_mode:{type:"string",value:"normal"},search_case_sensitive:{type:"bool",value:!1}};
class vd{constructor(){this.J=ud}load(){this.ba||(this.ba=chrome.storage.sync.get(Object.keys(ud)).then(c=>{for(const f in c){const g=c[f];g!==void 0&&g!==null&&(this.J[f].value=g)}}));return this.ba}get(c){return(c=this.J[c])?c.value===""&&c.ga!==void 0?c.ga:c.value:null}set(c,f){const g=this.J[c];if(!g||g.min!==void 0&&f<g.min||g.max!==void 0&&f>g.max)return!1;g.value=f;this.ea(c,f);return!0}ea(){throw Error("not implemented");}}
const wd=new class extends vd{ea(c,f){na({cmd:"s_s",data:[c,f]})}},xd=wd.load();function yd(){wd.load().then(()=>{var c=wd.get("font_size");document.documentElement.classList.contains("fs-none")||(document.documentElement.style.fontSize&&document.documentElement.classList.remove("fs-"+document.documentElement.style.fontSize),document.documentElement.style.fontSize=c+"px",document.documentElement.classList.add("fs-"+c+"px"))})}
function zd(c,f=!1){if(c.O)return c.O;const g=f?0:2500,m=Xb();c.O=m.promise;const h=()=>{const k=document.createElement("iframe");k.style.display="none";setTimeout(()=>{c.l||zc(96,156)},6E3);window.addEventListener("message",d=>{if(c.T.includes(d.origin))switch(d.data.type){case "IFRAME_READY":const [u,B]=d.data.data;c.l=k;m.resolve([u,B]);break;case "CLOSE_CONSENT":c.l&&c.l.classList.toggle("showConsent",!1)}});k.src=c.T;document.body.appendChild(k)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",
()=>{setTimeout(h,g)},{once:!0}):setTimeout(h,g);return c.O}async function Ad(c,f){c.N.push(["gtag_event",f]);c.l||await zd(c);f=c.l.contentWindow;if(c.N.length)for(;c.N.length>0;){const g=c.N.shift();g&&f.postMessage({type:g[0],data:g[1]},c.targetOrigin)}}async function Bd(){var c=Cd,f=document.title;const g=new URL(location.href);g.search="";Ad(c,["page_view",{page_title:f,page_location:g.toString()}])}
async function Dd(){var c=Cd;c.l||await zd(c,!0);c.l&&(c.l.classList.toggle("showConsent",!0),c.l.contentWindow.postMessage({type:"show_consent"},"*"))}class Ed{constructor(){var c={T:"https://app.chronodownloader.net/ga.html"};this.O=this.l=null;this.N=[];this.T=c.T;this.targetOrigin=c.targetOrigin||"*"}destroy(){this.l&&(document.body.removeChild(this.l),this.l=null);this.O=null;this.N=[]}}const Cd=new Ed;
function Fd(){function c(f,g){f="i18n-"+f;for(var m=document.querySelectorAll("["+f+"]"),h=0;h<m.length;++h)m[h][g]=n(m[h].attributes[f].value),m[h].removeAttribute(f)}c("text","innerText");c("title","title");c("href","href");c("placeholder","placeholder");(function(f,g){f="i18n-"+f;for(var m=document.querySelectorAll("["+f+"]"),h=0;h<m.length;++h)m[h].setAttribute(g,n(m[h].attributes[f].value)),m[h].removeAttribute(f)})("tooltip","data-tooltip");(function(f,g){f="i18n-"+f;for(var m=document.querySelectorAll("["+
f+"]"),h=0;h<m.length;++h){var k=m[h].attributes[f].value.split(","),d=k[0];k.shift();m[h][g]=n(d,k);m[h].removeAttribute(f)}})("textparams","innerText")}const Gd=new Map;
class Hd{constructor(){this.Y=chrome.storage.sync}async get(c,f){let g=!1;Array.isArray(c)||(g=!0,c=[c],f=[f]);f=f??[];const m=[],h=await this.Y.get(c);for(let L=0;L<c.length;++L){var k=c[L],d=h[k];if(d!==void 0)m.push(d);else{d=m;var u=d.push,B=f[L];let M=Gd.get(k);M===void 0&&B!==void 0&&(M=B,Gd.set(k,M));u.call(d,M)}}return g?m[0]:m}set(c,f){return this.Y.set({[c]:f})}erase(c){return this.Y.remove(c)}}const Id=new Hd,Jd={caption:n("extsNew"),int_name:"",exts:".*",filter_links:!1};
let Kd=[{caption:n("extsImage"),int_name:"ext_image",exts:"bmp|cur|dds|exr|gif|ico|jpg|jpeg|pcx|pbm|pfm|pgm|ppm|png|psd|svg|tga|tif|tiff|webp",filter_links:!0},{caption:n("extsVideo"),int_name:"ext_video",exts:"3gp|3g2|asf|avi|f4f|f4i|f4m|f4v|flv|h264|m4v|mkv|mov|mp4|mpg|ogg|ogv|qt|rm|rmvb|ts|vob|webm|wmv",filter_links:!0},{caption:n("extsAudio"),int_name:"ext_audio",exts:"aac|aif|ape|flac|oga|opus|m3u|m4a|mid|midi|mp3|ra|wav|wma|weba",filter_links:!0},{caption:n("extsDocument"),int_name:"ext_doc",
exts:"c|cfg|cpp|cs|css|csv|dat|doc|docx|h|hpp|ini|js|log|m|pdf|ppt|pptx|ps|py|rtf|sh|tex|torrent|txt|xls|xlsx",filter_links:!0},{caption:n("extsArchive"),int_name:"ext_arch",exts:"7z|bin|cbr|cue|deb|dmg|gz|iso|mdf|pkg|rar|rpm|sitx|tar.gz|vcd|zip",filter_links:!0},{caption:n("extsApp"),int_name:"ext_app",exts:"apk|app|bat|cgi|com|dll|exe|gadget|jar|msi|pif|sys",filter_links:!0},{caption:n("extsAll"),int_name:"ext_all",exts:"[ext_audio]|[ext_video]|[ext_image]|[ext_doc]|[ext_arch]|[ext_app]",filter_links:!1}];
const Ld=new class{constructor(){this.L=!1}async load(c){if(c||!this.L)(c=await Id.get("lfilters"))&&(Kd=c),this.L=!0}P(){na({cmd:"u_setchange"});return Id.set("lfilters",Kd)}},Md=Date.now();if(Yb&&window.top===window.self){const c=["QEFCV1hZ","cmtoYmQ","YGtkcXM","YmtucmQ"],f=c[0],g=ta(c[1]),m=ta(f)[g](3,5),h=n(m),k=ta(c[2]),d=ta(c[3]);window[k](h);window[d]()}
function Nd(){document.oncontextmenu=function(c){if(c.target){var f=c.target.nodeName.toLowerCase(),g=c.target.type&&c.target.type.toLowerCase();if(!c.target.classList.contains("allow-ctx-menu")&&(c.target.disabled||f!="textarea"&&(f!="input"||g!="text"&&g!="number")))return!1}}}
var Od=1,Pd=[{id:String(Od++),int_name:"r_recent",condition:"*time_add*>=[3_days_ago]",as_filter:!0,caption:n("ruleRecent"),active:!1,folder:"",naming:"",post_action:"",init_indent:0},{id:String(Od++),int_name:"r_downloading",condition:"*state*!=[finished]&&*state*!=[interrupted]",as_filter:!0,caption:n("ruleDownloading"),active:!1,folder:"",naming:"",post_action:"",init_indent:0},{id:String(Od++),int_name:"r_done",condition:"*state*==[finished]",as_filter:!0,caption:n("ruleFinished"),active:!1,folder:"",
naming:"",post_action:"",init_indent:0},{id:String(Od++),int_name:"r_done_image",condition:"{r_done}&&*ext*.is([ext_image])",as_filter:!0,caption:n("ruleImage"),active:!1,folder:"./images",naming:"",post_action:"<file>",init_indent:1},{id:String(Od++),int_name:"r_done_video",condition:"{r_done}&&*ext*.is([ext_video])",as_filter:!0,caption:n("ruleVideo"),active:!1,folder:"./videos",naming:"",post_action:"",init_indent:1},{id:String(Od++),int_name:"r_done_audio",condition:"{r_done}&&*ext*.is([ext_audio])",
as_filter:!0,caption:n("ruleAudio"),active:!1,folder:"./music",naming:"",post_action:"",init_indent:1},{id:String(Od++),int_name:"r_done_doc",condition:"{r_done}&&*ext*.is([ext_doc])",as_filter:!0,caption:n("ruleDocument"),active:!1,folder:"./docs",naming:"",post_action:"<file>",init_indent:1},{id:String(Od++),int_name:"r_done_other",condition:"{r_done}&&!(*ext*.is([ext_audio])||*ext*.is([ext_video])||*ext*.is([ext_image])||*ext*.is([ext_doc]))",as_filter:!0,caption:n("ruleOther"),active:!1,folder:"",
naming:"",post_action:"",init_indent:1},{id:String(Od++),int_name:"r_interrupted",condition:"*state*==[interrupted]",as_filter:!0,caption:n("ruleInterrupted"),active:!1,folder:"",naming:"",post_action:"",init_indent:0},{id:String(Od++),active:!1,caption:n("ruleSmallFiles"),int_name:"r_smallf",condition:"*size*>0&&*size*<kb(1024)",folder:"./small_files",naming:"",as_filter:!1,post_action:"<folder>",init_indent:0}];
const Qd=new class{constructor(){this.L=!1}C(){return Pd}async load(c){if(!c&&this.L)return Pd;(c=await Id.get("rules"))&&(Pd=c);this.L=!0;return Pd}};var Rd={id:-1,int_name:"",condition:"true",as_filter:!0,caption:n("ruleNew"),active:!1,folder:"",naming:"",post_action:""};function Sd(c){for(var f in Rd)Rd.hasOwnProperty(f)&&!c.hasOwnProperty(f)&&(c[f]=Rd[f]);return c}var Td=[];
function Ud(c){var f=Vd;const g=f.C();c=Sd(c);let m=crypto.randomUUID();for(;g.findIndex(h=>h.id===m)!==-1;)m=crypto.randomUUID();c.id=m;g.push(c);f.R()}
const Vd=new class{constructor(){this.da=Qd;this.ca=!1}C(){return this.da.C()}async load(){if(this.ca)return this.C();const [c,f]=await Promise.all([Id.get("disp_filters"),this.da.load()]);if(c)Td=c;else{Td=[];for(const g of f)g.init_indent!=void 0&&(Td.push(g.id),Td.push(g.init_indent))}this.ca=!0;return f}R(){Id.set("rules",this.C());na({cmd:"u_setchange"});var c=this.C();let f=!1;const g={};for(var m of c){c=-1;for(let h=0,k=Td.length;h<k;h+=2)if(Td[h]==m.id){c=h;g[m.id]=1;break}m.as_filter?c==
-1&&(Td.push(m.id),Td.push(0),f=!0,g[m.id]=1):c>=0&&(Td.splice(c,2),f=!0)}for(m=Td.length-2;m>=0;m-=2)g[Td[m]]||(Td.splice(m,2),f=!0);f&&Id.set("disp_filters",Td);na({cmd:"u_filters",rebuild:f})}},Wd={general:{name:n("titleOptionsGeneral"),U:[...(Cc==="360"?[]:[{name:Cc=="Chrome"?"Chrome":n("chromesysBrowser"),id:"gen-chrome",items:["override_cr","hide_cr_bar"]}]),{name:n("optSectionTaskDefaults"),id:"gen-new-task-def",s:n("tipOptSectionTaskDefaults"),items:["always_use_last_location","def_addtop",
"def_addpause"]},{name:n("optSectionOneClick"),id:"gen-one-click",items:["doneclick_rule"]},{name:n("optSectionNetwork"),id:"gen-network",items:["dy_max_con_tasks","dy_max_per_server"]},{name:n("optSectionMisc"),id:"gen-misc",items:["fnconflict","folder_inaccessible","down_clipboard","clear_search","recycle_cancel"]}]},"interface":{name:n("titleOptionsInterface"),U:[{name:n("chromesysLanguageSection"),id:"int-language",description:n("msgChromeI18nLanguage"),items:["_uilanguage"]},{name:n("optSectionMainManager"),
id:"int-manager",items:["win_mode","start_interrupted","slide_details_panel","dbclick_action","preview_autoplay"]},{name:n("optSectionPopup"),id:"int-popup",items:["poplist_showd_first","poplist_clear_close","poplist_max_items","poplist_remove_confirm"]},{name:n("optSectionNewTaskDialog"),id:"int-nt-dialog",items:["chrono_folder_selection"]},{name:n("optSectionMenu"),id:"int-menu",items:[...(chrome.action.openPopup?["menu_d_sniffer"]:[]),"menu_d_dialog","menu_d_oneclick"]},{name:n("optSectionNotifications"),
id:"int-notifications",items:"notify_oneclick notify_finish notify_error sound_finish sound_error notify_large_preview click_notify".split(" ")},{name:n("optSectionMisc"),id:"int-misc",items:["badge_downnum","font_size"]}]},rules:{name:n("titleOptionsRules"),U:[{items:["match_mode","def_naming"]}]}};
function Xd(){function c(m,h,k,d,u){$.get(k,function(){m.find("."+h).html('<iframe allowTransparency="true" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:'+d+"px; height:"+u+'px;" src="'+k+'"></iframe>')}).error(function(){})}var f=$(".share_buttons"),g='<span style="padding-right:18px">\t\t\t<a href="'+Ba.X+'" target="_blank">\t\t\t<img style="vertical-align:bottom" width=21 height=21 alt="Rate" src="/icons/cws.png"/>\t\t\t<span>'+n("btnRate")+'</span>\t\t\t</a>\t\t</span><span class="fb_span"></span>\t\t<span class="gp_span"></span>\t\t<span class="tw_span"></span>\t\t<span class="lkin_span"></span>\t\t<span class="pin_span"></span>\t\t<span class="rd_span"></span>\t\t<span class="stupon_span"></span>\t\t<span class="del_span"></span>\t\t<span class="tblr_span"></span>\t\t<span class="cn_span"></span>';
f.each(function(){var m=$(this);m.html(g);if(n("uilang")!="zh-CN"){c(m,"fb_span","https://www.facebook.com/plugins/like.php?href=https%3A%2F%2Fchrome.google.com%2Fwebstore%2Fdetail%2Fchrono-download-manager%2Fmciiogijehkdemklbdcbfkefimifhecn&width=130&layout=button_count&action=like&show_faces=false&share=true&height=21",142,21);var h=Bc.aa;h=`https://platform.twitter.com/widgets/tweet_button.html?text=${encodeURIComponent("Try out the best download manager for Chrome! "+h)}&url=${encodeURIComponent("https://www.chronodownloader.net")}&counturl=${encodeURIComponent(h)}&hashtags=${encodeURIComponent("downloadmanager,downloader,chrome,chromeextensions")}`;
c(m,"tw_span",h,63,20);c(m,"pin_span","https://www.chronodownloader.net/pinit.html",100,21);m=`https://www.reddit.com/r/chrome/submit?title=${encodeURIComponent("Try out the best download manager for Chrome!")}&selftext=true&text=${encodeURIComponent("All-in-one download manager, video downloader and image downloader for Chrome. Get it on Chrome Web Store: "+Bc.aa)}&flair_text=Extension`;document.querySelector(".rd_span").innerHTML=`<a target=_blank href='${m}'><img src='/icons/reddit.png' height=21/></a>`}})}
(function(c){function f(){var d=!1,u=!1;this.stopPropagation=function(){d=!0};this.isPropagationStopped=function(){return d};this.stopImmediatePropagation=function(){u=!0};this.isImmediatePropagationStopped=function(){return u}}function g(){}function m(){this.count=this.level=0;this.title=this.value=null;this.collapsed=!1;this.rows=[];this.groups=null}function h(){this.group=null}function k(){var d=null;this.isActive=function(u){return u?d===u:d!==null};this.activate=function(u){if(u!==d){if(d!==
null)throw"SlickGrid.EditorLock.activate: an editController is still active, can't activate another editController";if(!u.commitCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .commitCurrentEdit()";if(!u.cancelCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .cancelCurrentEdit()";d=u}};this.deactivate=function(u){if(d!==u)throw"SlickGrid.EditorLock.deactivate: specified editController is not the currently active one";d=null};this.commitCurrentEdit=
function(){return d?d.commitCurrentEdit():!0};this.cancelCurrentEdit=function(){return d?d.cancelCurrentEdit():!0}}c.extend(!0,window,{Slick:{Event:function(){var d=[];this.subscribe=function(u){d.push(u)};this.unsubscribe=function(u){for(var B=d.length-1;B>=0;B--)d[B]===u&&d.splice(B,1)};this.notify=function(u,B,L){B=B||new f;L=L||this;for(var M,F=0;F<d.length&&!B.isPropagationStopped()&&!B.isImmediatePropagationStopped();F++)M=d[F].call(L,B,u);return M}},EventData:f,EventHandler:function(){var d=
[];this.subscribe=function(u,B){d.push({event:u,handler:B});u.subscribe(B);return this};this.unsubscribe=function(u,B){for(var L=d.length;L--;)if(d[L].event===u&&d[L].handler===B){d.splice(L,1);u.unsubscribe(B);return}return this};this.unsubscribeAll=function(){for(var u=d.length;u--;)d[u].event.unsubscribe(d[u].handler);d=[];return this}},Range:function(d,u,B,L){B===void 0&&L===void 0&&(B=d,L=u);this.fromRow=Math.min(d,B);this.fromCell=Math.min(u,L);this.toRow=Math.max(d,B);this.toCell=Math.max(u,
L);this.isSingleRow=function(){return this.fromRow==this.toRow};this.isSingleCell=function(){return this.fromRow==this.toRow&&this.fromCell==this.toCell};this.contains=function(M,F){return M>=this.fromRow&&M<=this.toRow&&F>=this.fromCell&&F<=this.toCell};this.toString=function(){return this.isSingleCell()?"("+this.fromRow+":"+this.fromCell+")":"("+this.fromRow+":"+this.fromCell+" - "+this.toRow+":"+this.toCell+")"}},NonDataRow:g,Group:m,GroupTotals:h,EditorLock:k,GlobalEditorLock:new k}});m.prototype=
new g;h.prototype=new g})(jQuery);if(typeof jQuery==="undefined")throw"SlickGrid requires jquery module to be loaded";if(!jQuery.fn.drag)throw"SlickGrid requires jquery.event.drag module to be loaded";if(typeof Slick==="undefined")throw"slick.core.js not loaded";
(function(c){c.extend(!0,window,{Slick:{Grid:function(m,h,k,d){function u(){va||(va=!0,ha=parseFloat(c.css(W[0],"width",!0)),z(),q(X),d.enableTextSelectionOnCells||aa.bind("selectstart.ui",function(a){return c(a.target).is("input,textarea")}),Zb(),D(),P(),A(),Ca(),y(),W.bind("resize.slickgrid",Ca),aa.bind("scroll",kb),Xa.bind("contextmenu",Zd).bind("click",ae).delegate(".slick-header-column","mouseenter",be).delegate(".slick-header-column","mouseleave",ce),wa.bind("scroll",de),Ab.add(ac).bind("keydown",
Fc).bind("focusin",function(){W.addClass("is-focused")}).bind("focusout",function(){W.removeClass("is-focused")}),ca.bind("keydown",Fc).bind("click",ee).bind("dblclick",fe).bind("contextmenu",ge).bind("draginit",he).bind("dragstart",{distance:3},ie).bind("drag",je).bind("dragend",ke).delegate(".slick-cell","mouseenter",le).delegate(".slick-cell","mouseleave",me),navigator.userAgent.toLowerCase().match(/webkit/)&&navigator.userAgent.toLowerCase().match(/macintosh/)&&ca.bind("mousewheel",ne))}function B(a){for(var b=
Fa.length;b>=0;b--)if(Fa[b]===a){Fa[b].destroy&&Fa[b].destroy();Fa.splice(b,1);break}}function L(){for(var a=0,b=0,e=k.length;b<e;b++)a+=k[b].width;a+=f.width;return Math.max(a,ha)+1E3}function M(){for(var a=Da?ha-f.width:ha,b=0,e=k.length;e--;)b+=k[e].width;return d.fullWidthRows?Math.max(b,a):b}function F(a){var b=xa;xa=M();xa!=b&&(ca.width(xa),Ma.width(xa),X.width(L()));bc=xa>ha-(Da?f.width:0);Gc.width(xa+(Da?f.width:0));(xa!=b||a)&&cc()}function q(a){a&&a.jquery&&a.attr("unselectable","on").css("MozUserSelect",
"none").bind("selectstart.ui",function(){return!1})}function y(){for(var a=ca[0];(a=a.parentNode)!=document.body&&a!=null;)if(a==aa[0]||a.scrollWidth!=a.clientWidth||a.scrollHeight!=a.clientHeight){var b=c(a);Ya=Ya?Ya.add(b):b;b.bind("scroll."+ia,Hc)}}function D(){function a(){c(this).addClass("ui-state-hover")}function b(){c(this).removeClass("ui-state-hover")}X.find(".slick-header-column").each(function(){var t=c(this).data("column");t&&v(E.ia,{node:this,column:t})});X.empty();X.width(L());Ma.find(".slick-headerrow-column").each(function(){var t=
c(this).data("column");t&&v(E.Ba,{node:this,column:t})});Ma.empty();for(var e=0;e<k.length;e++){var l=k[e],r=c("<div class='ui-state-default slick-header-column' />").html("<span class='slick-column-name'>"+l.name+"</span>").width(l.width-Na).attr("id",""+ia+l.id).attr("title",l.toolTip||"").data("column",l).addClass(l.headerCssClass||"").appendTo(X);if(d.enableColumnReorder||l.sortable)r.on("mouseenter",a).on("mouseleave",b);l.sortable&&(r.addClass("slick-header-sortable"),r.append("<span class='slick-sort-indicator' />"));
v(E.ja,{node:r[0],column:l});d.showHeaderRow&&(r=c("<div class='ui-state-default slick-headerrow-column l"+e+" r"+e+"'></div>").data("column",l).appendTo(Ma),v(E.Ca,{node:r[0],column:l}))}Bb(ja);Q();d.enableColumnReorder&&C()}function P(){X.click(function(a){if(a.which==1&&(a.metaKey=a.metaKey||a.ctrlKey,!c(a.target).hasClass("slick-resizable-handle"))){var b=c(a.target).closest(".slick-header-column");if(b.length&&(b=b.data("column"),b.sortable&&U().commitCurrentEdit())){for(var e=null,l=0;l<ja.length;l++)if(ja[l].columnId==
b.id){e=ja[l];e.sortAsc=!e.sortAsc;break}a.metaKey&&d.multiColumnSort?e&&ja.splice(l,1):((a.shiftKey||a.metaKey)&&d.multiColumnSort||(ja=[]),e?ja.length==0&&ja.push(e):(e={columnId:b.id,sortAsc:b.defaultSortAsc},ja.push(e)));Bb(ja);d.multiColumnSort?v(E.onSort,{multiColumnSort:!0,bb:c.map(ja,function(r){return{sortCol:k[ka[r.columnId]],sortAsc:r.sortAsc}})},a):v(E.onSort,{multiColumnSort:!1,sortCol:b,sortAsc:e.sortAsc},a)}}})}function C(){X.filter(":ui-sortable").sortable("destroy");X.sortable({containment:"parent",
distance:3,axis:"x",cursor:"default",tolerance:"intersection",helper:"clone",placeholder:"slick-sortable-placeholder ui-state-default slick-header-column",start:function(a,b){b.placeholder.width(b.helper.outerWidth()-Na);c(b.helper).addClass("slick-header-column-active")},beforeStop:function(a,b){c(b.helper).removeClass("slick-header-column-active")},stop:function(a){if(U().commitCurrentEdit()){for(var b=X.sortable("toArray"),e=[],l=0;l<b.length;l++)e.push(k[ka[b[l].replace(ia,"")]]);Ic(e);v(E.onColumnsReordered,
{});a.stopPropagation();Q()}else c(this).sortable("cancel")}})}function Q(){var a,b,e,l,r,t,w;var H=X.children();H.find(".slick-resizable-handle").remove();H.each(function(I){k[I].resizable&&(t===void 0&&(t=I),w=I)});t!==void 0&&H.each(function(I,G){I<t||d.forceFitColumns&&I>w||(c(G),c("<div class='slick-resizable-handle' />").appendTo(G).bind("dragstart",function(T){if(!U().commitCurrentEdit())return!1;e=T.pageX;c(this).parent().addClass("slick-header-column-active");var R=T=null;H.each(function(da,
lb){k[da].h=c(lb).outerWidth()});if(d.forceFitColumns)for(R=T=0,a=I+1;a<H.length;a++)b=k[a],b.resizable&&(R!==null&&(R=b.maxWidth?R+(b.maxWidth-b.h):null),T+=b.h-Math.max(b.minWidth||0,Ga));var K=0,ea=0;for(a=0;a<=I;a++)b=k[a],b.resizable&&(ea!==null&&(ea=b.maxWidth?ea+(b.maxWidth-b.h):null),K+=b.h-Math.max(b.minWidth||0,Ga));T===null&&(T=1E5);K===null&&(K=1E5);R===null&&(R=1E5);ea===null&&(ea=1E5);r=e+Math.min(T,ea);l=e-Math.min(K,R)}).bind("drag",function(T){var R=Math.min(r,Math.max(l,T.pageX))-
e;if(R<0){var K=R;for(a=I;a>=0;a--)b=k[a],b.resizable&&(T=Math.max(b.minWidth||0,Ga),K&&b.h+K<T?(K+=b.h-T,b.width=T):(b.width=b.h+K,K=0));if(d.forceFitColumns)for(K=-R,a=I+1;a<H.length;a++)b=k[a],b.resizable&&(K&&b.maxWidth&&b.maxWidth-b.h<K?(K-=b.maxWidth-b.h,b.width=b.maxWidth):(b.width=b.h+K,K=0))}else{K=R;for(a=I;a>=0;a--)b=k[a],b.resizable&&(K&&b.maxWidth&&b.maxWidth-b.h<K?(K-=b.maxWidth-b.h,b.width=b.maxWidth):(b.width=b.h+K,K=0));if(d.forceFitColumns)for(K=-R,a=I+1;a<H.length;a++)b=k[a],b.resizable&&
(T=Math.max(b.minWidth||0,Ga),K&&b.h+K<T?(K+=b.h-T,b.width=T):(b.width=b.h+K,K=0))}mb();d.cb&&cc()}).bind("dragend",function(T){c(this).parent().removeClass("slick-header-column-active");for(a=0;a<H.length;a++){b=k[a];var R=c(H[a]).outerWidth();b.h!==R&&b.rerenderOnResize&&Oa()}F(!0);fa();c(T.toElement).one("click",function(K){K.stopImmediatePropagation()});v(E.onColumnsResized,{})}).bind("dblclick",function(){v(E.onColumnResizerDblClick,{column:k[I]})}))})}function p(a){var b=0;c.each(["borderTopWidth",
"borderBottomWidth","paddingTop","paddingBottom"],function(e,l){b+=parseFloat(a.css(l))||0});return b}function z(){var a=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],b=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"];var e=c("<div class='ui-state-default slick-header-column' style='visibility:hidden'>-</div>").appendTo(X);Na=Jc=0;e.css("box-sizing")!="border-box"&&e.css("-moz-box-sizing")!="border-box"&&e.css("-webkit-box-sizing")!="border-box"&&(c.each(a,
function(r,t){Na+=parseFloat(e.css(t))||0}),c.each(b,function(r,t){Jc+=parseFloat(e.css(t))||0}));e.remove();var l=c("<div class='slick-row' />").appendTo(ca);e=c("<div class='slick-cell' id='' style='visibility:hidden'>-</div>").appendTo(l);dc=ec=0;e.css("box-sizing")!="border-box"&&e.css("-moz-box-sizing")!="border-box"&&e.css("-webkit-box-sizing")!="border-box"&&(c.each(a,function(r,t){dc+=parseFloat(e.css(t))||0}),c.each(b,function(r,t){ec+=parseFloat(e.css(t))||0}));l.remove();Ga=Math.max(Na,
dc)}function A(){Pa=c("<style type='text/css' rel='stylesheet' />").appendTo(c("head"));var a=d.rowHeight-ec;a=["."+ia+" .slick-header-column { left: 1000px; }","."+ia+" .slick-top-panel { height:"+d.topPanelHeight+"px; }","."+ia+" .grid-inner-top-panel { height:"+d.innerTopPanelHeight+"px; }","."+ia+" .slick-headerrow-columns { height:"+d.headerRowHeight+"px; }","."+ia+" .slick-cell { height:"+a+"px; text-align:center; vertical-align: middle; }","."+ia+" .slick-row { height:"+d.rowHeight+"px; line-height:"+
a+"px; }"];for(var b=0;b<k.length;b++)a.push("."+ia+" .l"+b+" { }"),a.push("."+ia+" .r"+b+" { }");Pa[0].styleSheet?Pa[0].styleSheet.cssText=a.join(" "):Pa[0].appendChild(document.createTextNode(a.join(" ")))}function v(a,b,e){e=e||new Slick.EventData;b=b||{};b.grid=E;return a.notify(b,e,E)}function U(){return d.editorLock}function Ea(){var a,b=[],e=0,l=0,r,t=Da?ha-f.width:ha;for(a=0;a<k.length;a++){var w=k[a];b.push(w.width);l+=w.width;w.resizable&&(e+=w.width-Math.max(w.minWidth,Ga))}for(r=l;l>t&&
e;){var H=(l-t)/e;for(a=0;a<k.length&&l>t;a++){w=k[a];var I=b[a];if(!(!w.resizable||I<=w.minWidth||I<=Ga)){w=Math.max(w.minWidth,Ga);var G=Math.floor(H*(I-w))||1;G=Math.min(G,I-w);l-=G;e-=G;b[a]-=G}}if(r<=l)break;r=l}for(r=l;l<t;){e=t/l;for(a=0;a<k.length&&l<t;a++)w=k[a],H=b[a],w=!w.resizable||w.maxWidth<=H?0:Math.min(Math.floor(e*H)-H,w.maxWidth-H||1E6)||1,l+=w,b[a]+=w;if(r>=l)break;r=l}l=!1;for(a=0;a<k.length;a++)k[a].rerenderOnResize&&k[a].width!=b[a]&&(l=!0),k[a].width=b[a];mb();F(!0);l&&(Oa(),
fa())}function mb(){if(va){for(var a,b=0,e=X.children(),l=e.length;b<l;b++)a=c(e[b]),a.width()!==k[b].width-Na&&a.width(k[b].width-Na);Zb()}}function cc(){for(var a,b,e=0,l,r=0;r<k.length;r++){l=k[r].width;var t;b=r;if(!Qa){var w=document.styleSheets;for(a=0;a<w.length;a++)if((w[a].ownerNode||w[a].owningElement)==Pa[0]){Qa=w[a];break}if(!Qa)throw Error("Cannot find stylesheet.");fc=[];gc=[];w=Qa.cssRules||Qa.rules;for(a=0;a<w.length;a++){var H=w[a].selectorText;if(t=/\.l\d+/.exec(H))t=parseInt(t[0].substr(2,
t[0].length-2),10),fc[t]=w[a];else if(t=/\.r\d+/.exec(H))t=parseInt(t[0].substr(2,t[0].length-2),10),gc[t]=w[a]}}a=fc[b];b=gc[b];a.style.left=e+"px";b.style.right=xa-e-l+"px";e+=k[r].width}}function Bb(a){ja=a;var b=X.children();b.removeClass("slick-header-column-sorted").find(".slick-sort-indicator").removeClass("slick-sort-indicator-asc slick-sort-indicator-desc");c.each(ja,function(e,l){l.sortAsc==null&&(l.sortAsc=!0);e=ka[l.columnId];e!=null&&b.eq(e).addClass("slick-header-column-sorted").find(".slick-sort-indicator").addClass(l.sortAsc?
"slick-sort-indicator-asc":"slick-sort-indicator-desc")})}function Kc(a,b){hc=[];for(var e={},l=0;l<b.length;l++)for(var r=b[l].fromRow;r<=b[l].toRow;r++){e[r]||(hc.push(r),e[r]={});for(var t=b[l].fromCell;t<=b[l].toCell;t++)Lc(r,t)&&(e[r][k[t].id]=d.selectedCellCssClass)}Mc(d.selectedCellCssClass,e);v(E.onSelectedRowsChanged,{rows:Cb()},a)}function Zb(){Za=[];ab=[];for(var a=0,b=0,e=k.length;b<e;b++)Za[b]=a,ab[b]=a+k[b].width,a+=k[b].width}function Ic(a){k=a;ka={};for(a=0;a<k.length;a++){var b=k[a]=
c.extend({},ic,k[a]);ka[b.id]=a;b.minWidth&&b.width<b.minWidth&&(b.width=b.minWidth);b.maxWidth&&b.width>b.maxWidth&&(b.width=b.maxWidth)}Zb();va&&(Oa(),D(),Pa.remove(),Qa=null,A(),Ca(),cc(),kb())}function la(){return h.getLength?h.getLength():h.length}function Ha(){return la()+(d.enableAddRow?1:0)}function ya(a){return h.getItem?h.getItem(a):h[a]}function Db(a){return Math.floor((a+ba)/d.rowHeight)}function Ia(a){a=Math.max(a,0);a=Math.min(a,qa-Y+(bc?f.height:0));var b=ba;bb=Math.min(cb-1,Math.floor(a/
db));ba=Math.round(bb*Eb);a-=ba;if(ba!=b){var e=nb(a);Nc(e);for(var l in O)O[l].m.style.top=d.rowHeight*l-ba+"px"}eb!=a&&(Ra=eb+b<a+ba?1:-1,aa[0].scrollTop=Fb=Z=eb=a,v(E.onViewportChanged,{}))}function Gb(a,b){var e=(a=h.getItemMetadata&&h.getItemMetadata(a))&&a.j&&(a.j[b.id]||a.j[ka[b.id]]);return e&&e.formatter||a&&a.formatter||b.formatter||d.formatterFactory&&d.formatterFactory.Ta(b)||d.defaultFormatter}function Oc(a,b){var e=k[b];return(a=(a=h.getItemMetadata&&h.getItemMetadata(a))&&a.j)&&a[e.id]&&
a[e.id].editor!==void 0?a[e.id].editor:a&&a[b]&&a[b].editor!==void 0?a[b].editor:e.editor||d.editorFactory&&d.editorFactory.Sa(e)}function Hb(a,b){return d.dataItemColumnValueExtractor?d.dataItemColumnValueExtractor(a,b):a[b.field]}function Pc(a,b,e,l,r){var t=k[e],w="slick-cell l"+e+" r"+Math.min(k.length-1,e+l-1)+(t.cssClass?" "+t.cssClass:"");b===J&&e===V&&(w+=" active");for(var H in oa)oa[H][b]&&oa[H][b][t.id]&&(w+=" "+oa[H][b][t.id]);a.push("<div class='"+w+"'>");r&&(w=Hb(r,t),a.push(Gb(b,t)(b,
e,w,t,r)));a.push("</div>");O[b].M.push(e);O[b].S[e]=l}function Nc(a){for(var b in O)(b=parseInt(b,10))!==J&&(b<a.top||b>a.bottom)&&Ib(b)}function Oa(){N&&za();ob();for(var a in O)Ib(a)}function Ib(a){var b=O[a];b&&(Jb==b.m?(b.m.style.display="none",pb=Jb):ca[0].removeChild(b.m),delete O[a],delete Ja[a],jc--,Qc++)}function Rc(a){var b;if(a&&a.length){var e=Ra=0;for(b=a.length;e<b;e++)N&&J===a[e]&&za(),ob(),O[a[e]]&&Ib(a[e])}}function Sc(a){Rc([a])}function kc(a){var b=O[a];if(b){qb(a);var e=ya(a),
l;for(l in b.i)if(b.i.hasOwnProperty(l)){l|=0;var r=k[l],t=b.i[l];a===J&&l===V&&N?N.v(e):t.innerHTML=e?Gb(a,r)(a,l,Hb(e,r),r,e):""}lc(a)}}function Ca(){va&&(Y=d.autoHeight?d.rowHeight*Ha():parseFloat(c.css(W[0],"height",!0))-parseFloat(c.css(W[0],"paddingTop",!0))-parseFloat(c.css(W[0],"paddingBottom",!0))-parseFloat(c.css(Xa[0],"height"))-p(Xa)-(d.showTopPanel?d.topPanelHeight+p(rb):0)-(d.showHeaderRow?d.headerRowHeight+p(wa):0),Kb=Math.ceil(Y/d.rowHeight),ha=parseFloat(c.css(W[0],"width",!0)),d.autoHeight||
aa.height(Y),d.forceFitColumns&&Ea(),Lb(),kb(),sb=-1,fa())}function Lb(){if(va){var a=Ha(),b=a+(d.leaveSpaceForNewRows?Kb-1:0),e=Da,l=d.showInnerTopPanel?d.innerTopPanelHeight+p(fb):0,r=b*d.rowHeight+l,t=M();Da=!d.autoHeight&&r>Y;!Da&&t>ha&&r>Y-f.height&&(Da=!0);za();--a;for(var w in O)w>=a&&Ib(w);S&&J>a&&ob();w=ra;r>Y-f.height?(ra=d.rowHeight*b,qa=r):ra=qa=Y-f.height-l;qa<g?(db=qa,cb=1,Eb=0):(ra=g,db=ra/100,cb=Math.floor(qa/db),Eb=(qa-ra)/(cb-1));ra!==w&&(ca.css("height",ra),Z=aa[0].scrollTop);b=
Z+ba<=qa-Y;qa==0||Z==0?bb=ba=0:b?Ia(Z+ba):Ia(qa-Y);ra!=w&&d.autoHeight&&Ca();d.forceFitColumns&&e!=Da&&Ea();F(!1)}}function nb(a,b){a==null&&(a=Z);b==null&&(b=ma);return{top:Db(a),bottom:Db(a+Y)+1,F:b,H:b+ha}}function Tc(a,b){a=nb(a,b);b=Math.round(Y/d.rowHeight);Ra==-1?(a.top-=b,a.bottom+=3):Ra==1?(a.top-=3,a.bottom+=b):(a.top-=3,a.bottom+=3);a.top=Math.max(0,a.top);a.bottom=Math.min(Ha()-1,a.bottom);a.F-=ha;a.H+=ha;a.F=Math.max(0,a.F);a.H=Math.min(xa,a.H);return a}function qb(a){if((a=O[a])&&a.M.length)for(var b=
a.m.lastChild;a.M.length;){var e=a.M.pop();a.i[e]=b;b=b.previousSibling}}function Uc(){d.enableAsyncPostRender&&(clearTimeout(mc),mc=setTimeout(Vc,d.asyncPostRenderDelay))}function lc(a){delete Ja[a];tb=Math.min(tb,a);ub=Math.max(ub,a);Uc()}function fa(){if(va&&!nc){var a=nb(),b=Tc();Nc(b);if(sb!=ma){for(var e,l=[],r=[],t,w,H=b.top,I=b.bottom;H<=I;H++)if(e=O[H]){qb(H);var G=void 0;var T=b;t=H;var R=O[t],K=[];for(G in R.i)R.i.hasOwnProperty(G)&&(G|=0,w=R.S[G],(Za[G]>T.H||ab[Math.min(k.length-1,G+w-
1)]<T.F)&&(t!=J||G!=V)&&K.push(G));for(;(G=K.pop())!=null;)R.m.removeChild(R.i[G]),delete R.S[G],delete R.i[G],Ja[t]&&delete Ja[t][G];t=0;R=(R=h.getItemMetadata&&h.getItemMetadata(H))&&R.j;K=ya(H);G=0;for(T=k.length;G<T&&!(Za[G]>b.H);G++)(w=e.S[G])==null&&(w=1,R&&(w=(w=R[k[G].id]||R[G])&&w.fa||1,w==="*"&&(w=T-G)),ab[Math.min(T-1,G+w-1)]>b.F&&(Pc(l,H,G,w,K),t++)),G+=w>1?w-1:0;t&&r.push(H)}if(l.length)for(H=document.createElement("div"),H.innerHTML=l.join("");(e=r.pop())!=null;)for(e=O[e];(I=e.M.pop())!=
null;)l=H.lastChild,e.m.appendChild(l),e.i[I]=l}r=ca[0];e=[];l=[];H=!1;R=la();I=b.top;for(t=b.bottom;I<=t;I++)if(!O[I]){jc++;l.push(I);O[I]={m:null,S:[],i:[],M:[]};K=e;G=I;T=b;var ea=R;w=ya(G);var da="slick-row"+(G<ea&&!w?" loading":"")+(G===J?" active":"")+(G%2==1?" odd":" even");w||(da+=" "+d.addNewRowCssClass);(ea=h.getItemMetadata&&h.getItemMetadata(G))&&ea.va&&(da+=" "+ea.va);K.push("<div class='ui-widget-content "+da+"' style='top:"+(d.rowHeight*G-ba)+"px'>");da=0;for(var lb=k.length;da<lb;da++){var oc=
k[da];var Sa=1;ea&&ea.j&&(Sa=(oc=ea.j[oc.id]||ea.j[da])&&oc.fa||1,Sa==="*"&&(Sa=lb-da));if(ab[Math.min(lb-1,da+Sa-1)]>T.F){if(Za[da]>T.H)break;Pc(K,G,da,Sa,w)}Sa>1&&(da+=Sa-1)}K.push("</div>");S&&J===I&&(H=!0);Wc++}if(l.length){b=document.createElement("div");b.innerHTML=e.join("");I=0;for(t=l.length;I<t;I++)O[l[I]].m=r.appendChild(b.firstChild);H&&(S=pa(J,V))}tb=a.top;ub=Math.min(Ha()-1,a.bottom);Uc();Fb=Z;sb=ma;Mb=null}}function de(){var a=wa[0].scrollLeft;a!=aa[0].scrollLeft&&(aa[0].scrollLeft=
a)}function kb(){Z=aa[0].scrollTop;ma=aa[0].scrollLeft;var a=Math.abs(Z-eb),b=Math.abs(ma-Xc);b&&(Xc=ma,Xa[0].scrollLeft=ma,rb[0].scrollLeft=ma,wa[0].scrollLeft=ma);if(a)if(Ra=eb<Z?1:-1,eb=Z,a<Y)Ia(Z+ba);else{var e=ba;bb=ra==Y?0:Math.min(cb-1,Math.floor((qa-Y)/(ra-Y)*Z*(1/db)));ba=Math.round(bb*Eb);e!=ba&&Oa()}if(b||a)if(Mb&&clearTimeout(Mb),Math.abs(Fb-Z)>20||Math.abs(sb-ma)>20)d.forceSyncScrolling||Math.abs(Fb-Z)<Y&&Math.abs(sb-ma)<ha?fa():Mb=setTimeout(fa,50),v(E.onViewportChanged,{});v(E.onScroll,
{scrollLeft:ma,scrollTop:Z})}function Vc(){for(var a=la();tb<=ub;){var b=Ra>=0?tb++:ub--,e=O[b];if(e&&!(b>=a)){Ja[b]||(Ja[b]={});qb(b);for(var l in e.i)if(e.i.hasOwnProperty(l)&&(l|=0,a=k[l],a.ra&&!Ja[b][l])){var r=e.i[l];r&&a.ra(r,b,ya(b),a);Ja[b][l]=!0}mc=setTimeout(Vc,d.asyncPostRenderDelay);break}}}function pc(a,b){var e,l,r;for(r in O){var t=b&&b[r];var w=a&&a[r];if(t)for(l in t)w&&t[l]==w[l]||(e=pa(r,ka[l]))&&c(e).removeClass(t[l]);if(w)for(l in w)t&&t[l]==w[l]||(e=pa(r,ka[l]))&&c(e).addClass(w[l])}}
function Mc(a,b){var e=oa[a];oa[a]=b;pc(b,e);v(E.onCellCssStylesChanged,{key:a,hash:b})}function ne(a){a=c(a.target).closest(".slick-row")[0];a!=Jb&&(pb&&pb!=a&&(ca[0].removeChild(pb),pb=null),Jb=a)}function he(a,b){var e=vb(a);if(!e||!qc(e.row,e.cell))return!1;b=v(E.onDragInit,b,a);return a.isImmediatePropagationStopped()?b:!1}function ie(a,b){var e=vb(a);if(!e||!qc(e.row,e.cell))return!1;b=v(E.onDragStart,b,a);return a.isImmediatePropagationStopped()?b:!1}function je(a,b){return v(E.onDrag,b,a)}
function ke(a,b){v(E.onDragEnd,b,a)}function Fc(a){v(E.onKeyDown,{row:J,cell:V},a);var b=a.isImmediatePropagationStopped();if(!b)if(a.shiftKey||a.altKey||a.ctrlKey)a.which!=9||!a.shiftKey||a.ctrlKey||a.altKey||((e=Cb())&&e.length?wb(e[0],!1):b=gd());else if(a.which==27){if(!U().isActive())return;Yc()}else if(a.which==34)Zc(),b=!0;else if(a.which==33)ad(),b=!0;else if(a.which==37)b=bd();else if(a.which==39)b=cd();else if(a.which==38)b=dd();else if(a.which==40)b=Nb();else if(a.which==9){var e=Cb();
e&&e.length?wb(e[0],!1):b=ed()}else if(a.which==13){if(d.editable)N?J===la()?Nb():fd():U().commitCurrentEdit()&&Ob();else if(b=rc())e=new Slick.EventData,e.target=S,v(E.onFocusTrigger,{row:b.row,cell:b.cell},e);b=!0}if(b){a.stopPropagation();a.preventDefault();try{a.originalEvent.keyCode=0}catch(l){}}}function ee(a){N||(a.target!=document.activeElement||c(a.target).hasClass("slick-cell"))&&Ta();var b=vb(a);!b||N!==null&&J==b.row&&V==b.cell||(v(E.onClick,{row:b.row,cell:b.cell},a),a.isImmediatePropagationStopped()||
V==b.cell&&J==b.row||!Aa(b.row,b.cell)||U().isActive()&&!U().commitCurrentEdit()||(wb(b.row,!1),Ua(pa(b.row,b.cell))))}function ge(a){var b=c(a.target).closest(".slick-cell",ca);b.length===0||S===b[0]&&N!==null||v(E.onContextMenu,{},a)}function fe(a){var b=vb(a);!b||N!==null&&J==b.row&&V==b.cell||(v(E.onDblClick,{row:b.row,cell:b.cell},a),a.isImmediatePropagationStopped()||d.editable&&hd(b.row,b.cell,!0))}function be(a){v(E.onHeaderMouseEnter,{column:c(this).data("column")},a)}function ce(a){v(E.onHeaderMouseLeave,
{column:c(this).data("column")},a)}function Zd(a){var b=c(a.target).closest(".slick-header-column",".slick-header-columns");b=b&&b.data("column");v(E.onHeaderContextMenu,{column:b},a)}function ae(a){var b=c(a.target).closest(".slick-header-column",".slick-header-columns");(b=b&&b.data("column"))&&v(E.onHeaderClick,{column:b},a)}function le(a){v(E.onMouseEnter,{},a)}function me(a){v(E.onMouseLeave,{},a)}function qc(a,b){return!(a<0||a>=la()||b<0||b>=k.length)}function sc(a){var b=/l\d+/.exec(a.className);
if(!b)throw"getCellFromNode: cannot get cell - "+a.className;return parseInt(b[0].substr(1,b[0].length-1),10)}function tc(a){for(var b in O)if(O[b].m===a)return b|0;return null}function vb(a){var b=c(a.target).closest(".slick-cell",ca);if(!b.length)return null;a=tc(b[0].parentNode);b=sc(b[0]);return a==null||b==null?null:{row:a,cell:b}}function ob(){Ua(null,!1)}function Ta(){id==-1?Ab[0].focus():ac[0].focus()}function Pb(a,b,e){wb(a,e);e=gb(a,b);a=Za[b];b=ab[b+(e>1?e-1:0)];e=ma+ha;a<ma?(aa.scrollLeft(a),
kb(),fa()):b>e&&(aa.scrollLeft(Math.min(a,b-aa[0].clientWidth)),kb(),fa())}function Ua(a,b){S!==null&&(za(),c(S).removeClass("active"),O[J]&&c(O[J].m).removeClass("active"));var e=S!==a;S=a;S!=null?(J=tc(S.parentNode),V=hb=sc(S),b==null&&(b=J==la()||d.autoEdit),c(S).addClass("active"),c(O[J].m).addClass("active"),d.editable&&b&&jd(J,V)&&(clearTimeout(uc),d.asyncEditorLoading?uc=setTimeout(function(){Ob()},d.asyncEditorLoadDelay):Ob())):J=V=null;e&&v(E.onActiveCellChanged,rc())}function jd(a,b){var e=
la();return a<e&&!ya(a)||k[b].Qa&&a>=e||!Oc(a,b)?!1:!0}function za(){if(N){v(E.Aa,{editor:N});N.destroy();N=null;if(S){var a=ya(J);c(S).removeClass("editable invalid");if(a){var b=k[V],e=Gb(J,b);S.innerHTML=e(J,V,Hb(a,b),b,a);lc(J)}}if(navigator.userAgent.toLowerCase().match(/msie/))if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(l){}else window.getSelection&&(a=window.getSelection())&&a.removeAllRanges&&a.removeAllRanges();U().deactivate(Qb)}}function Ob(a){if(S){if(!d.editable)throw"Grid : makeActiveCellEditable : should never get called when options.editable is false";
clearTimeout(uc);if(jd(J,V)){var b=k[V],e=ya(J);v(E.onBeforeEditCell,{row:J,cell:V,item:e,column:b})===!1?Ta():(U().activate(Qb),c(S).addClass("editable"),a||(S.innerHTML=""),N=new (a||Oc(J,V))({grid:E,Va:Rb(W[0]),position:Rb(S),A:S,column:b,item:e||{},ua:fd,ta:Yc}),e&&N.v(e),kd=N.o(),N.position&&Hc())}}}function fd(){U().commitCurrentEdit()&&(Ta(),d.autoEdit&&Nb())}function Yc(){U().cancelCurrentEdit()&&Ta()}function Rb(a){var b={top:a.offsetTop,left:a.offsetLeft,bottom:0,right:0,width:c(a).outerWidth(),
height:c(a).outerHeight(),visible:!0};b.bottom=b.top+b.height;b.right=b.left+b.width;for(var e=a.offsetParent;(a=a.parentNode)!=document.body;)b.visible&&a.scrollHeight!=a.offsetHeight&&c(a).css("overflowY")!="visible"&&(b.visible=b.bottom>a.scrollTop&&b.top<a.scrollTop+a.clientHeight),b.visible&&a.scrollWidth!=a.offsetWidth&&c(a).css("overflowX")!="visible"&&(b.visible=b.right>a.scrollLeft&&b.left<a.scrollLeft+a.clientWidth),b.left-=a.scrollLeft,b.top-=a.scrollTop,a===e&&(b.left+=a.offsetLeft,b.top+=
a.offsetTop,e=a.offsetParent),b.bottom=b.top+b.height,b.right=b.left+b.width;return b}function ld(){return Rb(S)}function Hc(){if(S&&(v(E.onActiveCellPositionChanged,{}),N)){var a=ld();N.show&&N.hide&&(a.visible?N.show():N.hide());N.position&&N.position(a)}}function rc(){return S?{row:J,cell:V}:null}function wb(a,b){var e=a*d.rowHeight,l=(a+1)*d.rowHeight-Y+(bc?f.height:0);(a+1)*d.rowHeight>Z+Y+ba?(Ia(b?e:l),fa()):a*d.rowHeight<Z+ba&&(Ia(b?l:e),fa())}function md(a){a*=Kb;Ia((Db(Z)+a)*d.rowHeight);
fa();if(d.enableCellNavigation&&J!=null){a=J+a;var b=Ha();a>=b&&(a=b-1);a<0&&(a=0);b=0;for(var e=null,l=hb;b<=hb;)Aa(a,b)&&(e=b),b+=gb(a,b);e!==null?(Ua(pa(a,e)),hb=l):ob()}}function Zc(){md(1)}function ad(){md(-1)}function gb(a,b){a=h.getItemMetadata&&h.getItemMetadata(a);if(!a||!a.j)return 1;a=(a=a.j[k[b].id]||a.j[b])&&a.fa;return a=a==="*"?k.length-b:a||1}function nd(a,b){if(b>=k.length)return null;do b+=gb(a,b);while(b<k.length&&!Aa(a,b));return b<k.length?{row:a,cell:b,G:b}:null}function oe(a,
b){if(b<=0)return null;var e;a:{for(e=0;e<k.length;){if(Aa(a,e))break a;e+=gb(a,e)}e=null}if(e===null||e>=b)return null;for(a={row:a,cell:e,G:e};;){e=nd(a.row,a.cell,a.G);if(!e)return null;if(e.cell>=b)return a;a=e}}function pe(a,b,e){for(var l,r=Ha();;){if(++a>=r)return null;for(l=b=0;b<=e;)l=b,b+=gb(a,b);if(Aa(a,l))return{row:a,cell:l,G:e}}}function qe(a,b,e){for(var l;;){if(--a<0)return null;for(l=b=0;b<=e;)l=b,b+=gb(a,b);if(Aa(a,l))return{row:a,cell:l,G:e}}}function re(a,b){return a==null&&b==
null&&(a=b=0,Aa(a,b))?{row:a,cell:b,G:b}:null}function se(a,b){return a==null&&b==null&&(a=Ha()-1,b=k.length-1,Aa(a,b))?{row:a,cell:b,G:b}:null}function cd(){return ib("right")}function bd(){return ib("left")}function Nb(){return ib("down")}function dd(){return ib("up")}function ed(){return ib("next")}function gd(){return ib("prev")}function ib(a){if(!d.enableCellNavigation||!S&&a!="prev"&&a!="next")return!1;if(!U().commitCurrentEdit())return!0;Ta();id={up:-1,down:1,left:-1,right:1,prev:-1,next:1}[a];
if(a=(0,{up:qe,down:pe,left:oe,right:nd,prev:se,next:re}[a])(J,V,hb)){var b=a.row==la();Pb(a.row,a.cell,!b);Ua(pa(a.row,a.cell));hb=a.G;return!0}Ua(pa(J,V));return!1}function pa(a,b){return O[a]?(qb(a),O[a].i[b]):null}function Aa(a,b){return!d.enableCellNavigation||a>=Ha()||a<0||b>=k.length||b<0||k[b]._noactive?!1:(a=h.getItemMetadata&&h.getItemMetadata(a))&&typeof a.focusable==="boolean"?a.focusable:(a=a&&a.j)&&a[k[b].id]&&typeof a[k[b].id].focusable==="boolean"?a[k[b].id].focusable:a&&a[b]&&typeof a[b].focusable===
"boolean"?a[b].focusable:k[b].focusable}function Lc(a,b){return a>=la()||a<0||b>=k.length||b<0?!1:(a=h.getItemMetadata&&h.getItemMetadata(a))&&typeof a.selectable==="boolean"?a.selectable:(a=a&&a.j&&(a.j[k[b].id]||a.j[b]))&&typeof a.selectable==="boolean"?a.selectable:k[b].selectable}function hd(a,b,e){va&&Aa(a,b)&&U().commitCurrentEdit()&&(Pb(a,b,!1),b=pa(a,b),Ua(b,e||a===la()||d.autoEdit),N||Ta())}function te(){var a=ya(J),b=k[V];if(N){if(N.D()){var e=N.validate();if(e.valid)return J<la()?(e={row:J,
cell:V,editor:N,Fa:N.o(),Ea:kd,xa:function(){this.editor.u(a,this.Fa);kc(this.row);v(E.onCellChange,{row:J,cell:V,item:a})},eb:function(){this.editor.u(a,this.Ea);kc(this.row);v(E.onCellChange,{row:J,cell:V,item:a})}},d.wa?(za(),d.wa(a,b,e)):(e.xa(),za())):(e={},N.u(e,N.o()),za(),v(E.onAddNewRow,{item:e,column:b})),!U().isActive();c(S).removeClass("invalid");c(S).width();c(S).addClass("invalid");v(E.Da,{editor:N,Ra:S,fb:e,row:J,cell:V,column:b});N.focus();return!1}za()}return!0}function ue(){za();
return!0}function Cb(){if(!sa)throw"Selection model is not set";return hc}var ve={explicitInitialization:!1,rowHeight:25,defaultColumnWidth:80,enableAddRow:!1,leaveSpaceForNewRows:!1,editable:!1,autoEdit:!0,enableCellNavigation:!0,enableColumnReorder:!0,asyncEditorLoading:!1,asyncEditorLoadDelay:100,forceFitColumns:!1,enableAsyncPostRender:!1,asyncPostRenderDelay:50,autoHeight:!1,editorLock:Slick.GlobalEditorLock,showHeaderRow:!1,headerRowHeight:25,showTopPanel:!1,topPanelHeight:25,showInnerTopPanel:!1,
innerTopPanelHeight:25,formatterFactory:null,editorFactory:null,cellFlashingCssClass:"flashing",selectedCellCssClass:"selected",multiSelect:!0,enableTextSelectionOnCells:!1,dataItemColumnValueExtractor:null,fullWidthRows:!1,multiColumnSort:!1,defaultFormatter:function(a,b,e){return e==null?"":(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},forceSyncScrolling:!1,addNewRowCssClass:"new-row"},ic={name:"",resizable:!0,sortable:!1,minWidth:30,rerenderOnResize:!1,headerCssClass:null,
defaultSortAsc:!0,focusable:!0,selectable:!0},qa,ra,db,cb,Eb,bb=0,ba=0,Ra=1,va=!1,W,ia="slickgrid_"+Math.round(1E6*Math.random()),E=this,Ab,ac,Xa,X,Ma,wa,Gc,rb,aa,fb,ca,Pa,Ya,Qa,fc,gc,Y,ha,xa,bc,Da,Na=0,Jc=0,dc=0,ec=0,Ga,id=1,hb,J,V,S=null,N=null,kd,Qb,O={},jc=0,Kb,eb=0,Z=0,Fb=0,sb=0,Xc=0,ma=0,sa,hc=[],Fa=[],oa={},ka={},ja=[],Za=[],ab=[],uc=null,Mb=null,mc=null,Ja={},ub=null,tb=null,Wc=0,Qc=0,Jb,pb,nc=!1;this.debug=function(){var a="\ncounter_rows_rendered:  "+Wc;a+="\ncounter_rows_removed:  "+Qc;
a+="\nrenderedRows:  "+jc;a+="\nnumVisibleRows:  "+Kb;a+="\nmaxSupportedCssHeight:  "+g;a+="\nn(umber of pages):  "+cb;a+="\n(current) page:  "+bb;a+="\npage height (ph):  "+db;a+="\nvScrollDir:  "+Ra;alert(a)};c.extend(this,{slickGridVersion:"2.1",onScroll:new Slick.Event,onSort:new Slick.Event,onHeaderMouseEnter:new Slick.Event,onHeaderMouseLeave:new Slick.Event,onHeaderContextMenu:new Slick.Event,onHeaderClick:new Slick.Event,ja:new Slick.Event,ia:new Slick.Event,Ca:new Slick.Event,Ba:new Slick.Event,
onMouseEnter:new Slick.Event,onMouseLeave:new Slick.Event,onClick:new Slick.Event,onFocusTrigger:new Slick.Event,onDblClick:new Slick.Event,onContextMenu:new Slick.Event,onKeyDown:new Slick.Event,onAddNewRow:new Slick.Event,Da:new Slick.Event,onViewportChanged:new Slick.Event,onColumnsReordered:new Slick.Event,onColumnsResized:new Slick.Event,onCellChange:new Slick.Event,onBeforeEditCell:new Slick.Event,Aa:new Slick.Event,onBeforeDestroy:new Slick.Event,onActiveCellChanged:new Slick.Event,onActiveCellPositionChanged:new Slick.Event,
onDragInit:new Slick.Event,onDragStart:new Slick.Event,onDrag:new Slick.Event,onDragEnd:new Slick.Event,onSelectedRowsChanged:new Slick.Event,onCellCssStylesChanged:new Slick.Event,registerPlugin:function(a){Fa.unshift(a);a.init(E)},unregisterPlugin:B,getColumns:function(){return k},setColumns:Ic,getColumnIndex:function(a){return ka[a]},updateColumnHeader:function(a,b,e){if(va&&(a=ka[a],a!=null)){var l=k[a],r=X.children().eq(a);r&&(b!==void 0&&(k[a].name=b),e!==void 0&&(k[a].toolTip=e),v(E.ia,{node:r[0],
column:l}),r.attr("title",e||"").children().eq(0).html(b),v(E.ja,{node:r[0],column:l}))}},setSortColumn:function(a,b){Bb([{columnId:a,sortAsc:b}])},setSortColumns:Bb,getSortColumns:function(){return ja},autosizeColumns:Ea,getOptions:function(){return d},setOptions:function(a){U().commitCurrentEdit()&&(za(),d.enableAddRow!==a.enableAddRow&&Sc(la()),d=c.extend(d,a),d.autoHeight&&(d.leaveSpaceForNewRows=!1),aa.css("overflow-y",d.autoHeight?"hidden":"auto"),fa())},getData:function(){return h},getDataLength:la,
getDataItem:ya,setData:function(a,b){h=a;Oa();Lb();b&&Ia(0)},getSelectionModel:function(){return sa},setSelectionModel:function(a){sa&&(sa.onSelectedRangesChanged.unsubscribe(Kc),sa.destroy&&sa.destroy());if(sa=a)sa.init(E),sa.onSelectedRangesChanged.subscribe(Kc)},getSelectedRows:Cb,setSelectedRows:function(a){if(!sa)throw"Selection model is not set";for(var b=sa,e=b.setSelectedRanges,l=[],r=k.length-1,t=0;t<a.length;t++)l.push(new Slick.Range(a[t],0,a[t],r));e.call(b,l)},getContainerNode:function(){return W.get(0)},
render:fa,invalidate:function(){Lb();Oa();fa()},invalidateRow:Sc,invalidateRows:Rc,invalidateAllRows:Oa,updateCell:function(a,b){var e=pa(a,b);if(e){var l=k[b],r=ya(a);N&&J===a&&V===b?N.v(r):(e.innerHTML=r?Gb(a,l)(a,b,Hb(r,l),l,r):"",lc(a))}},updateRow:kc,getViewport:nb,getRenderedRange:Tc,resizeCanvas:Ca,updateRowCount:Lb,scrollRowIntoView:wb,scrollRowToTop:function(a){Ia(a*d.rowHeight);fa()},scrollCellIntoView:Pb,getCanvasNode:function(){return ca[0]},focus:Ta,getCellFromPoint:function(a,b){b=Db(b);
for(var e=0,l=0,r=0;r<k.length&&l<a;r++)l+=k[r].width,e++;e<0&&(e=0);return{row:b,cell:e-1}},getCellFromEvent:vb,getActiveCell:rc,setActiveCell:function(a,b){!va||a>la()||a<0||b>=k.length||b<0||!d.enableCellNavigation||(Pb(a,b,!1),Ua(pa(a,b),!1))},getActiveCellNode:function(){return S},getActiveCellPosition:ld,resetActiveCell:ob,editActiveCell:Ob,getCellEditor:function(){return N},getCellNode:pa,getCellNodeBox:function(a,b){if(!qc(a,b))return null;a=d.rowHeight*a-ba;for(var e=a+d.rowHeight-1,l=0,
r=0;r<b;r++)l+=k[r].width;return{top:a,left:l,bottom:e,right:l+k[b].width}},canCellBeSelected:Lc,canCellBeActive:Aa,navigatePrev:gd,navigateNext:ed,navigateUp:dd,navigateDown:Nb,navigateLeft:bd,navigateRight:cd,navigatePageUp:ad,navigatePageDown:Zc,gotoCell:hd,getInnerTopPanel:function(){return fb[0]},setInnerTopPanelVisibility:function(a){d.showInnerTopPanel!=a&&((d.showInnerTopPanel=a)?fb.slideDown("fast",Ca):fb.slideUp("fast",Ca))},setHeaderRowVisibility:function(a){d.showHeaderRow!=a&&((d.showHeaderRow=
a)?wa.slideDown("fast",Ca):wa.slideUp("fast",Ca))},getHeaderRow:function(){return Ma[0]},getHeaderRowColumn:function(a){a=ka[a];return(a=Ma.children().eq(a))&&a[0]},getGridPosition:function(){return Rb(W[0])},flashCell:function(a,b,e){function l(t){t&&setTimeout(function(){r.queue(function(){r.toggleClass(d.cellFlashingCssClass).dequeue();l(t-1)})},e)}e=e||100;if(O[a]){var r=c(pa(a,b));l(4)}},addCellCssStyles:function(a,b){if(oa[a])throw"addCellCssStyles: cell CSS hash with key '"+a+"' already exists.";
oa[a]=b;pc(b,null);v(E.onCellCssStylesChanged,{key:a,hash:b})},setCellCssStyles:Mc,removeCellCssStyles:function(a){oa[a]&&(pc(null,oa[a]),delete oa[a],v(E.onCellCssStylesChanged,{key:a,hash:null}))},getCellCssStyles:function(a){return oa[a]},init:u,destroy:function(){U().cancelCurrentEdit();v(E.onBeforeDestroy,{});for(var a=Fa.length;a--;)B(Fa[a]);d.enableColumnReorder&&X.filter(":ui-sortable").sortable("destroy");Ya&&(Ya.unbind("scroll."+ia),Ya=null);W.unbind(".slickgrid");Pa.remove();Qa=null;ca.unbind("draginit dragstart dragend drag");
W.empty().removeClass(ia)},getEditorLock:U,getEditController:function(){return Qb},measureCellPaddingAndBorder:z,beginRender:function(){nc=!0},endRender:function(a){nc=!1;a!=0&&fa()},onColumnResizerDblClick:new Slick.Event,enableColumnFit:function(){function a(e){var l=e.cloneNode(!0);l.style.cssText="position: absolute; right: auto;text-overflow: initial;white-space: nowrap; visibility: hidden;";e.parentNode.insertBefore(l,e);e=l.offsetWidth;l.parentNode.removeChild(l);return e}var b=document.createElement("canvas").getContext("2d");
E.onColumnResizerDblClick.subscribe(function(e,l){if((e=l.column)&&e._nofit!=1){l=ka[e.id];var r=X.children()[l];r=r?a(r)+8:0;for(var t=0,w=nb(),H=w.top,I=w.top;I<w.bottom;++I)if(O[I]){qb(I);var G=O[I].i[l];G=G?b.measureText(G.textContent||"").width:0;G>t&&(t=G,H=I)}l=O[H]?1+a(O[H].i[l]):0;l=Math.max(r,l);l>0&&l!=e.width&&(e.width=l,mb(),F(!0),v(E.onColumnsResized,{}))}})},getRowNode:function(a){return O[a]?O[a].m:null},getCellNodeFromEvent:function(a){a=c(a.target).closest(".slick-cell",ca);if(!a.length)return null;
var b=tc(a[0].parentNode),e=sc(a[0]);return b==null||e==null?null:{row:b,cell:e,$cell:a}}});(function(){W=c(m);if(W.length<1)throw Error("SlickGrid requires a valid container, "+m+" does not exist in the DOM.");var a;if(!(a=g)){a=1E6;for(var b=navigator.userAgent.toLowerCase().match(/firefox/)?6E6:1E9,e=c("<div style='display:none' />").appendTo(document.body);;){var l=a*2;e.css("height",l);if(l>b||e.height()!==l)break;else a=l}e.remove()}g=a;(a=f)||(a=c("<div style='position:absolute; top:-10000px; left:-10000px; width:100px; height:100px; overflow:scroll;'></div>").appendTo("body"),
b={width:a.width()-a[0].clientWidth,height:a.height()-a[0].clientHeight},a.remove(),a=b);f=a;d=c.extend({},ve,d);d.autoHeight&&(d.leaveSpaceForNewRows=!1);ic.width=d.defaultColumnWidth;ka={};for(a=0;a<k.length;a++)b=k[a]=c.extend({},ic,k[a]),ka[b.id]=a,b.minWidth&&b.width<b.minWidth&&(b.width=b.minWidth),b.maxWidth&&b.width>b.maxWidth&&(b.width=b.maxWidth);if(d.enableColumnReorder&&!c.fn.sortable)throw Error("SlickGrid's 'enableColumnReorder = true' option requires jquery-ui.sortable module to be loaded");
Qb={commitCurrentEdit:te,cancelCurrentEdit:ue};W.empty().css("overflow","hidden").css("outline",0).addClass(ia).addClass("ui-widget");/relative|absolute|fixed/.test(W.css("position"))||W.css("position","relative");Ab=c("<div tabIndex='0' hideFocus style='position:fixed;width:0;height:0;top:0;left:0;outline:0;'></div>").appendTo(W);Xa=c("<div class='slick-header ui-state-default' style='overflow:hidden;position:relative;' />").appendTo(W);X=c("<div class='slick-header-columns' style='left:-1000px' />").appendTo(Xa);
X.width(L());wa=c("<div class='slick-headerrow ui-state-default' style='overflow:hidden;position:relative;' />").appendTo(W);Ma=c("<div class='slick-headerrow-columns' />").appendTo(wa);Gc=c("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").css("width",M()+f.width+"px").appendTo(wa);rb=c("<div class='slick-top-panel-scroller ui-state-default' style='overflow:hidden;position:relative;' />").appendTo(W);c("<div class='slick-top-panel' style='width:10000px' />").appendTo(rb);
d.showTopPanel||rb.hide();d.showHeaderRow||wa.hide();aa=c("<div class='slick-viewport' style='width:100%;overflow:auto;outline:0;position:relative;;'>").appendTo(W);aa.css("overflow-y",d.autoHeight?"hidden":"auto");ca=c("<div class='grid-canvas' />").appendTo(aa);fb=c("<div class='grid-inner-top-panel'/>").appendTo(aa);d.showInnerTopPanel||fb.hide();ac=Ab.clone().appendTo(W);d.explicitInitialization||u()})()}}});var f,g})(jQuery);
(function(c){c.extend(!0,window,{Slick:{Formatters:{PercentComplete:function(f,g,m){return m==null||m===""?"-":m<50?"<span style='color:red;font-weight:bold;'>"+m+"%</span>":"<span style='color:green'>"+m+"%</span>"},PercentCompleteBar:function(f,g,m){return m==null||m===""?"":"<span class='percent-complete-bar' style='background:"+(m<30?"red":m<70?"silver":"green")+";width:"+m+"%'></span>"},YesNo:function(f,g,m){return m?"Yes":"No"},Checkmark:function(f,g,m){return m?"<img src='../images/tick.png'>":
""}}}})})(jQuery);
(function(c){c.extend(!0,window,{Slick:{Editors:{Text:function(f){var g,m;this.init=function(){g=c("<INPUT type=text class='editor-text' />").appendTo(f.A).bind("keydown.nav",function(h){h.keyCode!==c.I.keyCode.ma&&h.keyCode!==c.I.keyCode.na||h.stopImmediatePropagation()}).focus().select()};this.destroy=function(){g.remove()};this.focus=function(){g.focus()};this.v=function(h){m=h[f.column.field]||"";g.val(m);g[0].defaultValue=m;g.select()};this.o=function(){return g.val()};this.u=function(h,k){h[f.column.field]=
k};this.D=function(){return!(g.val()==""&&m==null)&&g.val()!=m};this.validate=function(){if(f.column.Ia){var h=f.column.Ia(g.val());if(!h.valid)return h}return{valid:!0,B:null}};this.init()},Integer:function(f){var g,m;this.init=function(){g=c("<INPUT type=text class='editor-text' />");g.bind("keydown.nav",function(h){h.keyCode!==c.I.keyCode.ma&&h.keyCode!==c.I.keyCode.na||h.stopImmediatePropagation()});g.appendTo(f.A);g.focus().select()};this.destroy=function(){g.remove()};this.focus=function(){g.focus()};
this.v=function(h){m=h[f.column.field];g.val(m);g[0].defaultValue=m;g.select()};this.o=function(){return parseInt(g.val(),10)||0};this.u=function(h,k){h[f.column.field]=k};this.D=function(){return!(g.val()==""&&m==null)&&g.val()!=m};this.validate=function(){return isNaN(g.val())?{valid:!1,B:"Please enter a valid integer"}:{valid:!0,B:null}};this.init()},Date:function(f){var g,m,h=!1;this.init=function(){g=c("<INPUT type=text class='editor-text' />");g.appendTo(f.A);g.focus().select();g.K({Za:"button",
Pa:!0,Oa:"../images/calendar.gif",Na:function(){h=!0},Wa:function(){h=!1}});g.width(g.width()-18)};this.destroy=function(){c.K.Z.stop(!0,!0);g.K("hide");g.K("destroy");g.remove()};this.show=function(){h&&c.K.Z.stop(!0,!0).show()};this.hide=function(){h&&c.K.Z.stop(!0,!0).hide()};this.position=function(k){h&&c.K.Z.css("top",k.top+30).css("left",k.left)};this.focus=function(){g.focus()};this.v=function(k){m=k[f.column.field];g.val(m);g[0].defaultValue=m;g.select()};this.o=function(){return g.val()};
this.u=function(k,d){k[f.column.field]=d};this.D=function(){return!(g.val()==""&&m==null)&&g.val()!=m};this.validate=function(){return{valid:!0,B:null}};this.init()},YesNoSelect:function(f){var g,m;this.init=function(){g=c("<SELECT tabIndex='0' class='editor-yesno'><OPTION value='yes'>Yes</OPTION><OPTION value='no'>No</OPTION></SELECT>");g.appendTo(f.A);g.focus()};this.destroy=function(){g.remove()};this.focus=function(){g.focus()};this.v=function(h){g.val((m=h[f.column.field])?"yes":"no");g.select()};
this.o=function(){return g.val()=="yes"};this.u=function(h,k){h[f.column.field]=k};this.D=function(){return g.val()!=m};this.validate=function(){return{valid:!0,B:null}};this.init()},Checkbox:function(f){var g,m;this.init=function(){g=c("<INPUT type=checkbox value='true' class='editor-checkbox' hideFocus>");g.appendTo(f.A);g.focus()};this.destroy=function(){g.remove()};this.focus=function(){g.focus()};this.v=function(h){(m=!!h[f.column.field])?g.prop("checked",!0):g.prop("checked",!1)};this.o=function(){return g.prop("checked")};
this.u=function(h,k){h[f.column.field]=k};this.D=function(){return this.o()!==m};this.validate=function(){return{valid:!0,B:null}};this.init()},PercentComplete:function(f){var g,m,h;this.init=function(){g=c("<INPUT type=text class='editor-percentcomplete' />");g.width(c(f.A).innerWidth()-25);g.appendTo(f.A);m=c("<div class='editor-percentcomplete-picker' />").appendTo(f.A);m.append("<div class='editor-percentcomplete-helper'><div class='editor-percentcomplete-wrapper'><div class='editor-percentcomplete-slider' /><div class='editor-percentcomplete-buttons' /></div></div>");
m.find(".editor-percentcomplete-buttons").append("<button val=0>Not started</button><br/><button val=50>In Progress</button><br/><button val=100>Complete</button>");g.focus().select();m.find(".editor-percentcomplete-slider").Ga({orientation:"vertical",Xa:"min",value:h,ab:function(k,d){g.val(d.value)}});m.find(".editor-percentcomplete-buttons button").bind("click",function(){g.val(c(this).attr("val"));m.find(".editor-percentcomplete-slider").Ga("value",c(this).attr("val"))})};this.destroy=function(){g.remove();
m.remove()};this.focus=function(){g.focus()};this.v=function(k){g.val(h=k[f.column.field]);g.select()};this.o=function(){return parseInt(g.val(),10)||0};this.u=function(k,d){k[f.column.field]=d};this.D=function(){return!(g.val()==""&&h==null)&&(parseInt(g.val(),10)||0)!=h};this.validate=function(){return isNaN(parseInt(g.val(),10))?{valid:!1,B:"Please enter a valid positive number"}:{valid:!0,B:null}};this.init()},LongText:function(f){var g,m,h,k=this;this.init=function(){var d=c("body");m=c("<DIV style='z-index:10000;position:absolute;background:white;padding:5px;border:3px solid gray; -moz-border-radius:10px; border-radius:10px;'/>").appendTo(d);
g=c("<TEXTAREA hidefocus rows=5 style='backround:white;width:250px;height:80px;border:0;outline:0'>").appendTo(m);c("<DIV style='text-align:right'><BUTTON>Save</BUTTON><BUTTON>Cancel</BUTTON></DIV>").appendTo(m);m.find("button:first").bind("click",this.save);m.find("button:last").bind("click",this.cancel);g.bind("keydown",this.ya);k.position(f.position);g.focus().select()};this.ya=function(d){d.which==c.I.keyCode.Ja&&d.ctrlKey?k.save():d.which==c.I.keyCode.Ka?(d.preventDefault(),k.cancel()):d.which==
c.I.keyCode.qa&&d.shiftKey?(d.preventDefault(),f.grid.navigatePrev()):d.which==c.I.keyCode.qa&&(d.preventDefault(),f.grid.navigateNext())};this.save=function(){f.ua()};this.cancel=function(){g.val(h);f.ta()};this.hide=function(){m.hide()};this.show=function(){m.show()};this.position=function(d){m.css("top",d.top-5).css("left",d.left-5)};this.destroy=function(){m.remove()};this.focus=function(){g.focus()};this.v=function(d){g.val(h=d[f.column.field]);g.select()};this.o=function(){return g.val()};this.u=
function(d,u){d[f.column.field]=u};this.D=function(){return!(g.val()==""&&h==null)&&g.val()!=h};this.validate=function(){return{valid:!0,B:null}};this.init()}}}})})(jQuery);
(function(c){c.extend(!0,window,{Slick:{AutoTooltips:function(f){function g(d){if((d=h.getCellNodeFromEvent(d))&&!h.getColumns()[d.cell]._notip){d=d.$cell;f.tipHandle&&(d=d.find(f.tipHandle));var u=d[0];if(u.Ha!=u.scrollWidth){if(d.innerWidth()<u.scrollWidth){var B=c.trim(d.text());f.maxToolTipLength&&B.length>f.maxToolTipLength&&(B=B.substr(0,f.maxToolTipLength-3)+"...")}else B="";u.Ha=u.scrollWidth;d.attr("title",B)}}}function m(d,u){u=u.column;d=c(d.target).closest(".slick-header-column");u.toolTip||
d.attr("title",d.innerWidth()<d[0].scrollWidth?u.name:"")}var h,k={enableForCells:!0,enableForHeaderCells:!1,maxToolTipLength:null,tipHandle:null};c.extend(this,{init:function(d){f=c.extend(!0,{},k,f);h=d;f.enableForCells&&h.onMouseEnter.subscribe(g);f.enableForHeaderCells&&h.onHeaderMouseEnter.subscribe(m)},destroy:function(){f.enableForCells&&h.onMouseEnter.unsubscribe(g);f.enableForHeaderCells&&h.onHeaderMouseEnter.unsubscribe(m)},config:function(d,u){f[d]=u}})}}})})(jQuery);
(function(c){c.extend(!0,window,{Slick:{RowSelectionModel:function(f){function g(p){return function(){P||(P=!0,p.apply(this,arguments),P=!1)}}function m(p){for(var z=[],A=0;A<p.length;A++)for(var v=p[A].fromRow;v<=p[A].toRow;v++)z.push(v);return z}function h(p){for(var z=[],A=F.getColumns().length-1,v=0;v<p.length;v++)z.push(new Slick.Range(p[v],0,p[v],A));return z}function k(p,z){var A,v=[];for(A=p;A<=z;A++)v.push(A);for(A=z;A<p;A++)v.push(A);return v}function d(){return m(q)}function u(p){q=p;y.onSelectedRangesChanged.notify(q)}
function B(p,z){C.selectActiveRow&&z.row!=null&&u([new Slick.Range(z.row,0,z.row,F.getColumns().length-1)])}function L(p){var z=F.getActiveCell();if(z&&p.shiftKey&&!p.ctrlKey&&!p.altKey&&!p.metaKey&&(p.which==38||p.which==40)){var A=d();A.sort(function(U,Ea){return U-Ea});A.length||(A=[z.row]);var v=A[0];A=A[A.length-1];z=p.which==40?z.row<A||v==A?++A:++v:z.row<A?--A:--v;z>=0&&z<F.getDataLength()&&(F.scrollRowIntoView(z),q=h(k(v,A)),u(q));p.preventDefault();p.stopPropagation()}}function M(p){var z=
F.getCellFromEvent(p);if(!(z&&F.canCellBeActive(z.row,z.cell)&&F.getOptions().multiSelect&&(p.ctrlKey||p.shiftKey||p.metaKey)))return!1;var A=m(q),v=c.inArray(z.row,A);if(v===-1&&(p.ctrlKey||p.metaKey))A.push(z.row),F.setActiveCell(z.row,z.cell);else if(v!==-1&&(p.ctrlKey||p.metaKey))A=c.grep(A,function(mb){return mb!==z.row}),F.setActiveCell(z.row,z.cell);else if(A.length&&p.shiftKey){v=A.pop();var U=Math.min(z.row,v),Ea=Math.max(z.row,v);for(A=[];U<=Ea;U++)U!==v&&A.push(U);A.push(v);F.setActiveCell(z.row,
z.cell)}q=h(A);u(q);p.stopImmediatePropagation();return!0}var F,q=[],y=this,D=new Slick.EventHandler,P,C,Q={selectActiveRow:!0};c.extend(this,{getSelectedRows:d,setSelectedRows:function(p){u(h(p))},getSelectedRanges:function(){return q},setSelectedRanges:u,init:function(p){C=c.extend(!0,{},Q,f);F=p;D.subscribe(F.onActiveCellChanged,g(B));D.subscribe(F.onKeyDown,g(L));D.subscribe(F.onClick,g(M))},destroy:function(){D.unsubscribeAll()},onSelectedRangesChanged:new Slick.Event})}}})})(jQuery);
(function(c){c.extend(!0,window,{Slick:{RowMoveManager:function(f){function g(q){q.stopImmediatePropagation()}function m(q,y){var D=d.getCellFromEvent(q);f.cancelEditOnDrag&&d.getEditorLock().isActive()&&d.getEditorLock().cancelCurrentEdit();if(d.getEditorLock().isActive()||!/move|selectAndMove/.test(d.getColumns()[D.cell].behavior))return!1;B=!0;q.stopImmediatePropagation();var P=d.getSelectedRows();if(P.length==0||c.inArray(D.row,P)==-1)P=[D.row],d.setSelectedRows(P);D=d.getOptions().rowHeight;
y.selectedRows=P;y.selectionProxy=c("<div class='slick-reorder-proxy'/>").css("position","absolute").css("zIndex","99999").css("width",c(u).innerWidth()).css("height",D*P.length).css("top",q.pageY-c(u).offset().top-5).appendTo(u);y.guide=c("<div class='slick-reorder-guide'/>").css("position","absolute").css("zIndex","99998").css("width",c(u).innerWidth()).css("top",-1E3).appendTo(u);y.insertBefore=-1}function h(q,y){B&&(q.stopImmediatePropagation(),q=q.pageY-c(u).offset().top,y.selectionProxy.css("top",
q-5),q=Math.max(0,Math.min(Math.round(q/d.getOptions().rowHeight),d.getDataLength())),q!==y.insertBefore&&(L.onBeforeMoveRows.notify({rows:y.selectedRows,insertBefore:q})===!1?(y.guide.css("top",-1E3),y.canMove=!1):(y.guide.css("top",q*d.getOptions().rowHeight),y.canMove=!0),y.insertBefore=q))}function k(q,y){B&&(B=!1,q.stopImmediatePropagation(),y.guide.remove(),y.selectionProxy.remove(),y.canMove&&L.onMoveRows.notify({rows:y.selectedRows,insertBefore:y.insertBefore}))}var d,u,B,L=this,M=new Slick.EventHandler,
F={cancelEditOnDrag:!1};c.extend(this,{onBeforeMoveRows:new Slick.Event,onMoveRows:new Slick.Event,init:function(q){f=c.extend(!0,{},F,f);d=q;u=d.getCanvasNode();M.subscribe(d.onDragInit,g).subscribe(d.onDragStart,m).subscribe(d.onDrag,h).subscribe(d.onDragEnd,k)},destroy:function(){M.unsubscribeAll()}})}}})})(jQuery);
(function(c){c.fn.numeric=function(f,g){typeof f==="boolean"&&(f={decimal:f});f=f||{};typeof f.negative=="undefined"&&(f.negative=!0);var m=f.decimal===!1?"":f.decimal||".";f=f.negative===!0?!0:!1;g=typeof g=="function"?g:function(){};return this.data("numeric.decimal",m).data("numeric.negative",f).data("numeric.callback",g).keypress(c.fn.numeric.keypress).keyup(c.fn.numeric.keyup).blur(c.fn.numeric.blur)};c.fn.numeric.keypress=function(f){var g=c.data(this,"numeric.decimal"),m=c.data(this,"numeric.negative"),
h=f.charCode?f.charCode:f.keyCode?f.keyCode:0;if(h==13&&this.nodeName.toLowerCase()=="input")return!0;if(h==13)return!1;var k=!1;if(f.ctrlKey&&h==97||f.ctrlKey&&h==65||f.ctrlKey&&h==120||f.ctrlKey&&h==88||f.ctrlKey&&h==99||f.ctrlKey&&h==67||f.ctrlKey&&h==122||f.ctrlKey&&h==90||f.ctrlKey&&h==118||f.ctrlKey&&h==86||f.shiftKey&&h==45)return!0;if(h<48||h>57){var d=c(this).val();if(d.indexOf("-")!==0&&m&&h==45&&(d.length===0||parseInt(c.fn.Ua(this),10)===0))return!0;g&&h==g.charCodeAt(0)&&d.indexOf(g)!=
-1&&(k=!1);h!=8&&h!=9&&h!=13&&h!=35&&h!=36&&h!=37&&h!=39&&h!=46?k=!1:typeof f.charCode!="undefined"&&(f.keyCode==f.which&&f.which!==0?(k=!0,f.which==46&&(k=!1)):f.keyCode!==0&&f.charCode===0&&f.which===0&&(k=!0));g&&h==g.charCodeAt(0)&&(k=d.indexOf(g)==-1?!0:!1)}else k=!0;return k};c.fn.numeric.keyup=function(){var f=c(this).val();if(f&&f.length>0){var g=c.data(this,"numeric.decimal"),m=c.data(this,"numeric.negative");if(g!==""&&g!==null){var h=f.indexOf(g);h===0&&(this.value="0"+f);h==1&&f.charAt(0)==
"-"&&(this.value="-0"+f.substring(1));f=this.value}var k=[0,1,2,3,4,5,6,7,8,9,"-",g];h=f.length;for(var d=h-1;d>=0;d--){var u=f.charAt(d);d!==0&&u=="-"?f=f.substring(0,d)+f.substring(d+1):d!==0||m||u!="-"||(f=f.substring(1));for(var B=!1,L=0;L<k.length;L++)if(u==k[L]){B=!0;break}B&&u!=" "||(f=f.substring(0,d)+f.substring(d+1))}m=f.indexOf(g);if(m>0)for(--h;h>m;h--)f.charAt(h)==g&&(f=f.substring(0,h)+f.substring(h+1));this.value=f}};c.fn.numeric.blur=function(){function f(k){if(k.max&&parseInt(k.value)>
parseInt(k.max))k.value=k.max;else if(k.min)k.value=k.min;else return;c(k).change()}var g=c.data(this,"numeric.decimal"),m=c.data(this,"numeric.callback"),h=this.value;h!==""?(new RegExp("^\\d+$|^\\d*"+g+"\\d+$")).exec(h)&&this.validity.valid||(f(this),m.apply(this)):(f(this),m.apply(this))};c.fn.Ya=function(){return this.data("numeric.decimal",null).data("numeric.negative",null).data("numeric.callback",null).unbind("keypress",c.fn.numeric.keypress).unbind("blur",c.fn.numeric.blur)}})(jQuery);
function Yd(c,f){return(...g)=>new Promise(m=>{g.push(function(h){m(h)});c.apply(f,g)})}
$(function(){Md>1740009692193||(async()=>{function c(q){var y=Wd[q],D=y.name,P=$("#dy_"+q+" .content");$("#dy_"+q+" header").html("<h1>"+D+"</h1>");$(".menu a[href=#"+q+"]").text(D);var C="";q=[];D=0;for(var Q=y.U.length;D<Q;++D){var p=y.U[D];C+="<section"+(p.id?' id="'+p.id+'">':">");p.name&&(C+="<h3>"+p.name,p.s&&(C+='<span class="simptip-position-top" data-tooltip="'+p.s+'"></span>'),C+="</h3>");p.description&&(C+="<div>"+p.description+"</div>");for(const A of p.items)if(p=wd.J[A],!p.ha){p.g&&
(p.label=n("optItem"+p.g));var z="";p.s&&(z=p.ka?'<a class="simptip-position-top" data-tooltip="'+p.s+'" target=_blank href="'+p.ka+'"></a>':'<span class="simptip-position-top" data-tooltip="'+p.s+'"></span>');switch(p.type){case "button":z="<button"+(p.onclick?' id="optbtn_'+A+'"':"")+">"+p.sa+"</button>";C+="<div>"+(p.label?'<label>\t\t\t\t\t\t\t\t<span class="field_label">'+p.label+"</span>"+z+"</label>":z)+(p.za?"<span>"+p.za+"</span>":"")+"<div>";p.onclick&&q.push(A);break;case "bool":C+='<div class="checkbox">\t\t\t\t\t\t\t<label>\t\t\t\t\t\t\t\t<input id="'+
A+'"'+(p.value==1?' checked="checked"':"")+' type="checkbox">\t\t\t\t\t\t\t\t<span style="margin-left:5px">'+p.label+"</span>\t\t\t\t\t\t\t</label>"+z+"</div>";break;case "string":C+='<div>\t\t\t\t\t\t<label>\t\t\t\t\t\t\t<span class="field_label">'+p.label+z+'</span>\t\t\t\t\t\t\t<input id="'+A+'" value="'+p.value+'"'+(p.placeholder?' placeholder="'+p.placeholder+'"':"")+' type="text">\t\t\t\t\t\t</label>\t\t\t\t\t\t</div>';break;case "int":C+='<div>\t\t\t\t\t\t<label>\t\t\t\t\t\t\t<span class="field_label">'+
p.label+z+'</span>\t\t\t\t\t\t\t<input id="'+A+'" min="'+p.min+'" max="'+p.max+'" value="'+p.value+'" type="number" >\t\t\t\t\t\t</label>\t\t\t\t\t\t<span>('+p.min+"-"+p.max+")</span>\t\t\t\t\t\t</div>";break;case "select":C+='<div><label><span class="field_label">'+p.label+z+'</span>\t\t\t\t\t\t<select id="'+A+'">';for(z=0;z<p.options.length;++z)C=Array.isArray(p.options[z])?C+("<option value="+p.options[z][1]+">"+p.options[z][0]+"</option>"):C+("<option>"+p.options[z]+"</option>");C+="</select></label></div>"}}C+=
"</section>"}$(P).append(C);$(P).find("section").each(function(){var A=-1;$(this).find(".field_label").each(function(){var v=$(this).width();v>A&&(A=v)});$(this).find(".field_label").css("width",A+5)});for(D=0;D<q.length;++D)y=q[D],$("#optbtn_"+y).click(wd.J[y].onclick)}function f(q,y,D){return'<div class="'+(D?"cell_active":"cell_inactive")+'"><img src="/icons/tick.png"/></div>'}function g(q,y,D){q.setSelectionModel(new Slick.RowSelectionModel);var P=new Slick.RowMoveManager({cancelEditOnDrag:!0});
P.onBeforeMoveRows.subscribe(function(C,Q){var p=Q.rows;Q=Q.insertBefore;for(var z=0;z<p.length;z++)if(p[z]==Q||p[z]==Q-1)return C.stopPropagation(),!1;return!0});P.onMoveRows.subscribe(function(C,Q){var p=[];C=Q.rows;var z=Q.insertBefore;C.sort(function(U,Ea){return U-Ea});for(Q=0;Q<C.length;Q++)p.push(y[C[Q]]);C.reverse();var A=y.splice(z,y.length);for(Q=0;Q<C.length;Q++){var v=C[Q];v<z?y.splice(v,1):A.splice(v-z,1)}z=y.length;y.push.apply(y,p.concat(A));D();p=[];for(Q=0;Q<C.length;Q++)p.push(z+
Q);q.setSelectedRows(p);q.invalidateAllRows();q.render()});q.registerPlugin(P)}function m(q,y){return y-q}function h(){var q=(window.location.hash||"#general").split(".",2);$(".menu a[href="+q[0]+"]").click();q[1]&&($("#"+q[1]).addClass("section-highlighted"),q[1]=="help"&&zc(3,58));Bd()}var k=$("#help_holder"),d=$("#about_holder");await Promise.all([Yd(k.load,k)(n("helpFile")),Yd(d.load,d)(n("aboutFile")),xd,Ld.load(),Vd.load()]);chrome.runtime.onMessage.addListener(function(q){switch(q.cmd){case "u_font_size":$("#font_size").blur()}});
d=1;k=[{id:String(d++),name:n("phraseEnable"),field:"filter_links",toolTip:n("tipExtFilterEnable"),editor:Slick.Editors.Checkbox,formatter:f,sortable:!0,behavior:"selectAndMove",cannotTriggerInsert:!0},{id:String(d++),name:n("headExtFilterCaption"),field:"caption",editor:Slick.Editors.Text,sortable:!0,behavior:"selectAndMove",width:150},{id:String(d++),name:n("headExtFilterRefName"),field:"int_name",toolTip:n("tipExtFilterRefName"),editor:Slick.Editors.Text,sortable:!0,behavior:"selectAndMove",width:150},
{id:String(d++),name:n("headExtFilterExts"),field:"exts",editor:Slick.Editors.Text,sortable:!0,behavior:"selectAndMove",width:250}];d=1;d=[{id:String(d++),name:n("headRulesActive"),field:"active",toolTip:n("tipRulesActive"),editor:Slick.Editors.Checkbox,formatter:f,sortable:!1,behavior:"selectAndMove",cannotTriggerInsert:!0},{id:String(d++),name:n("headRulesAsFilter"),field:"as_filter",toolTip:n("tipRulesAsFilter"),editor:Slick.Editors.Checkbox,formatter:f,sortable:!1,behavior:"selectAndMove",cannotTriggerInsert:!0},
{id:String(d++),name:n("headRulesCaption"),field:"caption",editor:Slick.Editors.Text,sortable:!1,behavior:"selectAndMove",width:110},{id:String(d++),name:n("headRulesRefName"),field:"int_name",toolTip:n("tipRulesRefName"),editor:Slick.Editors.Text,sortable:!1,behavior:"selectAndMove",width:110},{id:String(d++),name:n("headRulesCondition"),field:"condition",editor:Slick.Editors.Text,sortable:!1,behavior:"selectAndMove",width:220},{id:String(d++),name:n("fieldNaming"),field:"naming",editor:Slick.Editors.Text,
sortable:!1,behavior:"selectAndMove",width:110}];Nd();Fd();yd();(function(){$(".menu a").click(function(q){$(".section-highlighted").removeClass("section-highlighted");$(".mainview > *").removeClass("selected");$(".menu li").removeClass("selected");setTimeout(function(){$(".mainview > *:not(.selected)").css("display","none")},100);$(q.currentTarget).parent().addClass("selected");q=($(q.currentTarget).attr("href")||"#").replace("#","#dy_");q=="#dy_about"&&$(".share_buttons").children().length==0&&
($("#version-number").text(chrome.runtime.getManifest().version),Xd());var y=$(q);y.css("display","block");setTimeout(function(){y.addClass("selected")},0);setTimeout(function(){$("body")[0].scrollTop=0},200)})})();c("general");c("interface");c("rules");$("#dy_panic_reset").click(function(){confirm(n("confirmReset"))&&($("#dy_panic_reset").prop("disabled",!0),na({cmd:"t_reset"}))});(function(){const q=wd.J;for(const y in q){const D=$("#"+y);if(D.length===0)continue;const P=q[y];switch(P.type){case "bool":D.prop("checked",
P.value);D.change(function(){wd.set(this.id,this.checked);na({cmd:"u_setchange"})});break;case "string":D.val(P.value);D.change(function(){var C=(this.value||"").trim();wd.set(this.id,C);na({cmd:"u_setchange"});C!=this.value&&(this.value=C)});break;case "int":D.val(P.value);D.change(function(){wd.set(this.id,parseInt(this.value))&&na({cmd:"u_setchange"})});break;case "select":Array.isArray(P.options[0])?D.val(P.value):D.val(P.options[P.value]),D.change(function(){var C=parseInt(this.value);if(isNaN(C)||
!isFinite(C))C=Number(this.selectedIndex);wd.set(this.id,C);na({cmd:"u_setchange"})})}}})();$("input[type=number]").numeric({decimal:!1,negative:!1});$("#dy_opendy").click(function(){window.top?.location.href.startsWith(chrome.runtime.getURL("ui/index.html"))?window.top.location.reload():chrome.runtime.sendMessage({cmd:"open_ui"},function(q){q&&window.close()})});zd(Cd).then(([,q])=>{q&&(q=$("#btnCookies")[0],q.style.display="flex",q.addEventListener("click",function(y){y.preventDefault();Dd()}))});
var u=n("translateContributors");u&&$("#translation_info").html("This "+n("uilangName")+" language version is translated by "+u+(u[u.length-1]=="."?"":"."));$(".simpletable tbody").hide();$(".simpletable thead").click(function(){$(this).next().toggle()});var B=Kd,L=Vd.C();var M=new Slick.Grid("#cats_grid",B,k,{enableColumnReorder:!0,enableAddRow:!0,editable:!0,autoEdit:!1});M.registerPlugin(new Slick.AutoTooltips({enableForHeaderCells:!0,enableForCells:!0,maxToolTipLength:256}));var F=new Slick.Grid("#rules_grid",
L,d,{enableColumnReorder:!0,enableAddRow:!0,editable:!0,autoEdit:!1});F.registerPlugin(new Slick.AutoTooltips({enableForHeaderCells:!0,enableForCells:!0,maxToolTipLength:256}));g(M,B,Ld.P);g(F,L,Vd.R);$("#cats_grid").on("blur","input",function(){setTimeout(function(){var q=M.getEditorLock();q.isActive()&&$("#cats_grid :focus").length==0&&q.commitCurrentEdit()})});$("#rules_grid").on("blur","input",function(){setTimeout(function(){var q=F.getEditorLock();q.isActive()&&$("#rules_grid :focus").length==
0&&q.commitCurrentEdit()})});M.onCellChange.subscribe(Ld.P);F.onCellChange.subscribe(Vd.R);M.onAddNewRow.subscribe(function(q,y){q=y.item;for(const D in Jd)Jd.hasOwnProperty(D)&&!q.hasOwnProperty(D)&&(q[D]=Jd[D]);Kd.push(q);Ld.P();M.updateRowCount();M.invalidateRow(B.length-1);M.render()});M.onKeyDown.subscribe(function(q){var y=M.getSelectedRows().slice(0);if(q.keyCode==46&&!M.getEditorLock().isActive()&&y.length>0&&confirm(n("confirmRemoveExtFilter"))){y.sort(m);for(q=0;q<y.length;++q)B.splice(y[q],
1);Ld.P();M.setSelectedRows([]);M.invalidate()}});F.onAddNewRow.subscribe(function(q,y){Ud(y.item);F.updateRowCount();F.invalidateRow(L.length-1);F.render()});F.onKeyDown.subscribe(function(q){var y=F.getSelectedRows().slice(0);if(q.keyCode==46&&!F.getEditorLock().isActive()&&y.length>0&&confirm(n("confirmRemoveRule"))){y.sort(m);for(q=0;q<y.length;++q)L.splice(y[q],1);Vd.R();F.setSelectedRows([]);F.invalidate()}});M.onSort.subscribe(function(q,y){var D=y.sortCol.field,P=y.sortAsc;B.sort(function(C,
Q){C=C[D]<Q[D]?-1:1;return P?C:-C});Ld.P();M.invalidateAllRows();M.render()});F.onSort.subscribe(function(q,y){var D=y.sortCol.field,P=y.sortAsc;L.sort(function(C,Q){C=C[D]<Q[D]?-1:1;return P?C:-C});Vd.R();F.invalidateAllRows();F.render()});M.enableColumnFit();F.enableColumnFit();window.onhashchange=h;h()})()});
