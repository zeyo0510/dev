!function(){function e(){window.locale="default"!=o.locale?o.locale:chrome.i18n.getMessage("locale"),$("#readFeeds").text(i18n("read_feeds")),$("#manageFeeds").text(i18n("manage_feeds")),$("#noFeeds").text(i18n("no_feeds")),$("#noSubs").text(i18n("no_subs"))}function s(){function e(){var e=$("a.focus:first");if(e.length){var s=e.offset().top-$(document).scrollTop()+e.outerHeight()-window.innerHeight;s>0?$(document).scrollTop($(document).scrollTop()+s):(s=e.offset().top-$(document).scrollTop(),s<0&&$(document).scrollTop($(document).scrollTop()+s))}}$("#readFeeds").addClass("focus"),$("a:not([disabled]):not(.separator)").mousedown(function(){$(this).addClass("focus");var e=this.id;return $(this).hasClass("add")?(e=$(this).data("id"),chrome.runtime.sendMessage({subLink:e})):$(this).hasClass("open")?(e=$(this).data("id"),chrome.runtime.sendMessage({readIt:e})):chrome.runtime.sendMessage({openMainTabAndSendMessage:e},function(e){}),window.close(),!1}).hover(function(e){$(this).addClass("focus").siblings().removeClass("focus"),"mouseleave"==e.type&&$(this).removeClass("focus")}),$(document).keydown(function(s){var o=$("a.focus:first");return 13==s.keyCode?(o.mousedown(),!1):40==s.keyCode?(o.length?o.nextAll("a:not([disabled]):first").addClass("focus").siblings().removeClass("focus"):$("a:not([disabled]):first").addClass("focus"),e(),!1):38==s.keyCode?(o.length?o.prevAll("a:not([disabled]):first").addClass("focus").siblings().removeClass("focus"):$("a:not([disabled]):last").addClass("focus"),e(),!1):void 0})}var o;$(function(){$("body").mousedown(function(){return!1}),chrome.runtime.sendMessage({feedsPlease:!0},function(n){var a=n.feeds||{},t=n.subs||{};o=n.options,e();for(var d in a){var r=a[d],i=$('<a class="add">'+(r?r:d)+"</a>");i.data("id",d),$("#noFeeds").after(i)}Object.keys(a).length&&$("#noFeeds").remove();var l=[];for(var u in t)l.push(t[u]);l.sort(function(e,s){return e.pos-s.pos});for(var c in l){u=l[c],i=$('<a class="open">'+(u.name||u.url)+"</a>");var f=u.favIcon?u.favIcon:"16x16.png";i.css("background-image","url("+f+")"),u.unread&&(i.text(i.text()+" ("+u.unread+")"),i.css("font-weight","bold")),i.data("id",u.url),$("#noSubs").before(i)}l.length&&$("#noSubs").remove(),s()})})}();