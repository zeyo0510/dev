!function(){function e(){window.locale="default"!=H.locale?H.locale:chrome.i18n.getMessage("locale"),chrome.management.getAll(function(e){var t=chrome.i18n.getMessage("@@extension_id");if(e=$.grep(e,function(e){return e.enabled&&t!=e.id&&(e.description.toLowerCase().indexOf("rss")>=0||e.name.toLowerCase().indexOf("rss")>=0)}),e.length){var r=[];$.each(e,function(t){r.push(e[t].name)}),r=r.join("\n"),r=(1==e.length?i18n("disable_this_extension"):i18n("disable_these_extensions"))+"\n\n"+r+"\n\n"+(1==e.length?i18n("enable_it"):i18n("enable_tem")),confirm(r)&&$.each(e,function(t){chrome.management.setEnabled(e[t].id,!1)})}})}function t(e){return 0!=e.indexOf("chrome://")&&0!=e.indexOf("chrome-devtools://")&&0!=e.indexOf("chrome-extension://")&&0!=e.indexOf("https://chrome.google.com/webstore/")}function r(e,t,r){function n(){J?i():setTimeout(n,100)}function i(){chrome.tabs.update(J,{active:!0}),chrome.tabs.sendMessage(J,$.extend({command:e},t),r),_&&_.bringToFront(),chrome.tabs.get(J,function(e){chrome.windows.get(e.windowId,function(e){e.focused||chrome.windows.update(e.id,{focused:!0})})})}t=t||{},J?i():(chrome.tabs.create({url:"main.html"}),n())}function n(e,t,r){var n=JSON.stringify({url:e});chrome.tabs.create({url:"subscribe.html?"+n,index:t.index+1},function(t){chrome.tabs.sendMessage(t.id,{yourRealUrlIs:e})}),r&&chrome.tabs.remove(t.id)}function o(e,t){if("string"==typeof e){try{e=$.parseXML(e)}catch(t){e=e.replace(/<description>/gi,"<description><![CDATA[").replace(/<\/description>/gi,"]]]]></description>");try{e=$.parseXML(e)}catch(e){return!1}}if(t&&!$(">feed,>rss,>rdf",e).length)return!1}var r=[],n=$("title:eq(0)",e).text(),i=$("author:eq(0)",e).text().trim(),o=$("feed",e).attr("xml:base"),a=$("entry",e);a.length||(a=$("item",e)),a.each(function(){var e=$("title:eq(0)",this).text().trim();e||(e=$("title:eq(1)",this).text().trim());var t=$("feedburner\\:origLink, origLink",this).text().trim();t||(t=$("link:eq(0)",this).text().trim()),t||(t=$("link:eq(1)",this).text().trim());var n=$("comments:eq(0)",this).text().trim();n||(n=$("comments:eq(1)",this).text().trim()),t||(t=$('link[type="text/html"]',this).attr("href"),t||(t=$("link",this).attr("href")),t=t?t.trim():"");var o=[];o.push($("summary",this).text().trim()),o.push($("description",this).text().trim()),o.push($("content",this).text().trim()),o.push($("content\\:encoded, encoded",this).text().trim());var a="";for(var s in o)o[s].length>a.length&&(a=o[s]);var d=$("pubDate",this).text().trim();d||(d=$("published",this).text().trim()),d||(d=$("dc\\:date, date",this).text().trim()),d||(d=$("issued",this).text().trim()),d||(d=$("modified",this).text().trim()),isNaN(new Date(d).getDay())&&(d=(new Date).toString());var u=$("guid",this).text().trim();u||(u=$("id",this).text().trim()),u||(u=t);var c=$("author name",this).text().trim();c||(c=$("author",this).text().trim()),c||(c=$("dc\\:creator, creator",this).text().trim());var l;c&&(l=c.match(/.*@.*\((.*)\)/))&&l[1]&&(c=l[1].trim()),c||(c=i);var m={title:e,link:t,descr:a,date:d,guid:u,author:c};n&&(m.comments=n);var p=$("enclosure",this).attr("url");p&&(m.enclosure=p.trim(),p=$("enclosure",this).attr("length"),p&&(m.enclosureSize=p.trim())),u&&r.push(m)});var s={title:n,items:r};return o&&(s.baseURI=o.trim()),s}function a(){var e=V&&B[V]&&Object.keys(B[V]).length;chrome.browserAction.setIcon({path:e?"normal.png":"blacknwhite.png"});var t=0;for(var r in X){var n=X[r];if(!n.disabled)for(var i in n.items)n.items[i].read||n.items[i].deleted||++t}chrome.browserAction.setBadgeBackgroundColor({color:[208,0,24,255]});var o=String(t||"");chrome.browserAction.setBadgeText({text:o})}function s(){var e=(new Date).valueOf();for(var t in X){var r=X[t];if(!W[t]&&r.update){var n=r.update;"http://192.168.0.77/svalka/lang-8.php"==t&&(n=.5),r.lastUpdate&&r.lastUpdate+60*n*1e3>e||(W[t]=!0,b(t),I({command:"loading",url:t}))}}setTimeout(s,1e3)}function d(e,t,r,n,i){var o=e;$.get(e).done(function(t){try{e=$("channel link",$.parseXML(t)).eq(0).text().trim()||e}catch(e){}}).always(function(){u(e,t,r,n,i,o)})}function u(e,t,r,n,i,o){function a(){var a=String(t).match(/^.*\.(.*\..*)$/);if(a&&a[1])u(e,a[1],!1,n,i,o);else if(n&&!r&&X[e]){var s=m(e);s&&$.ajax({url:"http://www.google.com/search?q="+c(s),dataType:"html"}).done(function(t){var r=String(l(t)).trim();r&&u(e,$("<a/>").attr("href",r)[0].host,!0,n,i,o)})}}function s(e){var t=document.implementation.createHTMLDocument("");return t.body.innerHTML=e,t}function l(e){return $("li div h3 a",s(e)).attr("href")}function p(e){return $('link[rel="shortcut icon"]',s(e)).attr("href")}function f(){var t=$("<canvas/>")[0];t.width=16,t.height=16,t.getContext("2d").drawImage(y[0],0,0,16,16);var r=t.toDataURL("image/png");o&&(e=o),X[e]&&X[e].favIcon!=r&&(X[e].favIcon=r,h(),I({command:"favIconChanged",url:e,favIcon:r})),i&&i(r)}var g=document.createElement("a");if(g.href=e,String(g.host).match(/^feeds\d?\.feedburner\.com$/))return d(e);if(String(g.host).match(/^feeds\d?\.reuters\.com$/))return d(e);if(String(g.host).match(/^feeds\d?\.abcnews\.com$/))return d(e);if(String(g.host).match(/^rss\d?\.feedsportal\.com$/))return d(e);t=t||$("<a/>").attr("href",e)[0].host;var v="http://"+t+"/favicon.ico";e==C&&(v=chrome.extension.getURL("icon_16.png"));var y=$("<img/>").load(f).error(function(){$.ajax({url:"http://"+t,dataType:"text"}).done(function(e){(e=p(e))?(g=$("<a/>").attr("href",e)[0],g.host==F&&(e="http://"+t+(e.match(/^\//)?e:"/"+e)),y=$("<img/>").load(f).attr("src",e)):a()}).fail(a)}).attr("src",v)}function c(e){return encodeURIComponent(e).replace(/[!'()*]/g,escape)}function l(e,t,r){var n={};if(X[e]||(X[e]={name:e,pos:p()+1,deleted:[],items:{},update:180},u(e,!1,!1,!1,!1)),t){var i=o(t);if(i&&i.items){X[e].name=i.title,i.baseURI&&(X[e].baseURI=i.baseURI);for(var s in i.items){var d=i.items[s];if(!X[e].items[d.guid]&&X[e].deleted.indexOf(d.guid)==-1){var c=d.guid;delete d.guid,d.rawDate=new Date(d.date).valueOf(),d.added=Date.now(),X[e].items[c]=d;var l=$.extend({},d);l.descr&&delete l.descr,n[c]=l,K.push({title:d.title,feedId:e,message:"- "+(d.author?d.author:m(e)),rawDate:d.rawDate})}}}}X[e]&&(X[e].lastUpdate=(new Date).valueOf()),Object.keys(n).length&&a(),W[e]&&delete W[e],e!=C||r||D();var f={command:"loadingComplete",url:e,newItems:n,name:X[e].name};X[e].baseURI&&(f.baseURI=X[e].baseURI),I(f),Object.keys(W).length||(R(K),K=[],h())}function m(e){var t="";if(X[e]){var r=X[e];t=r.useGivenName&&r.givenName?r.givenName:r.name?r.name:e}return t}function p(){var e=1;for(var t in X)X[t].pos>e&&(e=X[t].pos);return e}function f(){Y=null,chrome.storage.local.set({feeds:X},function(){})}function h(){null!==Y&&clearTimeout(Y),Y=setTimeout(f,2e3)}function g(){chrome.storage.local.set({options:H},function(){})}function v(e,t){b(e,!0,t)}function y(e,t,r){var n;n=!!(t&&(n=o(t))&&(n.items&&n.items.length||n.title))&&(n.title?n.title:e),r&&r(n)}function b(e,t,r,n){var i=b.auths[e]?b.auths[e]:0,o={url:e};i&&(o.beforeSend=function(e){e.setRequestHeader("Authorization",i)}),$.ajax(o).success(function(i){t?y(e,i,r):l(e,i,n)}).fail(function(i){401==i.status?w(e,t,r):t?y(e,!1,r):l(e,null,n)})}function w(e,t,n){r("needAuth",{url:e},function(r){r?(b.auths[e]=x(r.login,r.pass),b(e,t,n)):t?y(e,!1,n):l(e)})}function x(e,t){return"Basic "+Base64.encode(e+":"+t)}function S(){chrome.tabs.query({},function(e){for(i in e){var r=e[i];t(r.url)&&chrome.tabs.executeScript(r.id,{file:"content.js"})}})}function I(e){J&&chrome.tabs.sendMessage(J,e)}function A(e,t){var r=new Audio;$(r).bind("canplaythrough",function(){$(this).unbind("canplaythrough"),O(r)}).bind("error",function(){t||A(chrome.extension.getURL("ceres.mp3"),!0)}),r.src=e}function O(e){e.pause(),e.currentTime=0,e.volume=H.volume/100,e.play()}function R(e){var t=e.length;if(t&&(H.playSound&&(H.sound||(H.sound=chrome.extension.getURL("ceres.mp3"),g()),A(H.sound)),H.showPopup)){e.sort(function(e,t){return e.rawDate-t.rawDate}),e.reverse(),t>5&&(e=e.slice(0,4),e.push({title:"More...",message:""})),Q=1==t?e[0].feedId:0;for(var r=0;r<e.length;r++)delete e[r].feedId,delete e[r].rawDate;var n={type:"list",title:"Received "+t+" new messages for RSS",message:"",iconUrl:"icon_128.png",items:e};chrome.notifications.clear("1",function(e){}),chrome.notifications.create("1",n,function(e){})}}function k(e){T(e,"chrome-store.xml",function(){W[C]||(W[C]=!0,b(C,!1,null,!0),I({command:"loading",url:C}))})}function T(e,t,r){function n(e){r&&r(!1,e)}window.requestFileSystem(1,1e8,function(i){i.root.getFile(t,{create:!0},function(t){var i=t.toURL();t.createWriter(function(t){var o=new Blob([e],{type:"text/plain"}),a=!0;t.onwrite=function(){a?(a=!1,t.write(o)):r&&r(!0,i)},t.onerror=n,t.truncate(0)},n)},n)},n)}function D(){if(C){var e="req="+JSON.stringify(Z);$.ajax({url:"https://chrome.google.com/reviews/components",dataType:"text",crossDomain:!0,type:"POST",data:e}).done(function(e){e=e.replace(/\n/g,""),e=e.replace(/^.*"annotations":(.*),"numAnnotations":.*$/,"$1");try{e=JSON.parse(e),M(e)}catch(e){}})}}function M(e){var t=[];if(Array.isArray(e)&&e.length){for(var r={applicationId:94,searchSpecs:[]},n=r.searchSpecs,i=0;i<e.length;i++){var o=e[i],a={};if(o.entity&&o.entity.groups&&Array.isArray(o.entity.groups)&&o.entity.groups.length>1&&o.attributes&&o.attributes.sfrAttributes&&o.attributes.sfrAttributes.issueType&&(o.timestamp&&o.comment&&(a.author=o.entity.nickname||o.entity.displayName||"A Google User",a.dateRaw=1e3*+o.timestamp,a.description=o.comment,a.group=o.entity.groups[1],a.id=a.dateRaw+"-"+a.group,a.type=o.attributes.sfrAttributes.issueType,t.push(a)),o.entity.author&&o.entity.groups&&o.entity.url)){var s=q();s.entities[0].annotation.groups=e[i].entity.groups,s.entities[0].annotation.author=e[i].entity.author,s.entities[0].annotation.url=e[i].entity.url,n.push(s)}}t.length&&(r="req="+JSON.stringify(r)+"&requestSource = widget",G(r,function(e){N(t,e),U(t)}))}}function U(e){e=e||[];var t="req="+JSON.stringify(ee);$.ajax({url:"https://chrome.google.com/reviews/components",dataType:"text",crossDomain:!0,type:"POST",data:t}).done(function(t){t=t.replace(/\n/g,""),t=t.replace(/^.*"annotations":(.*),"numAnnotations":.*$/,"$1");try{t=JSON.parse(t),$.merge(e,L(t)),P(e)}catch(e){}})}function P(e){e=e||[];for(var t='<?xml version="1.0" encoding="utf-8"?>\n',r=$.parseXML('<rss version="2.0"><channel><title>The RSS Aggregator</title></channel></rss>'),n=$("channel",r),i=0;i<e.length;i++){var o=$("<item/>",r),a="New ";e[i].isComment&&(a+="comment in "),a+=e[i].type,o.append($("<title/>",r).text(a));var s="http://chrome.google.com/webstore/detail/"+F+"/reviews";"BUG"==e[i].type&&(s="http://chrome.google.com/webstore/support/"+F+"#bug"),"QUESTION"==e[i].type&&(s="http://chrome.google.com/webstore/support/"+F+"#question"),"FEATURE"==e[i].type&&(s="http://chrome.google.com/webstore/support/"+F+"#feature"),o.append($("<link/>",r).text(s)),o.append($(" <description/>",r).text(e[i].description.replace(/\n/g,"<br/>"))),o.append($("<pubDate/>",r).text(new Date(e[i].dateRaw).toString()));var d=$("<name/>",r).text(e[i].author);o.append($("<author/>",r).append(d)),o.append($("<guid/>",r).append(e[i].id)),n.append(o)}t+=(new XMLSerializer).serializeToString(r),k(t)}function L(e){var t=[];if(Array.isArray(e)&&e.length)for(var r=0;r<e.length;r++){var n=e[r],i={};n.entity&&n.timestamp&&n.comment&&n.entity.groups&&Array.isArray(n.entity.groups)&&n.entity.groups.length&&(i.author=n.entity.nickname||n.entity.displayName||"A Google User",i.dateRaw=1e3*+n.timestamp,i.description=n.comment,i.group=n.entity.groups[0],i.id=i.dateRaw+"-"+i.group,i.type="REVIEW",t.push(i))}return t}function N(e,t){for(var r=0;r<t.length;r++)for(var n=t[r],i=0;i<e.length;i++)if(e[i].group==n.group){n.type=e[i].type;break}$.merge(e,t)}function q(){return{requireComment:!0,entities:[{annotation:{groups:[],author:"",url:""}}],matchExtraGroups:!0,startIndex:0,numResults:100,includeNicknames:!0,locale:{language:"en",country:"us"}}}function G(e,t){$.ajax({url:"https://chrome.google.com/reviews/json/search",dataType:"json",crossDomain:!0,type:"POST",data:e}).done(function(e){var r=[];if(e.searchResults&&Array.isArray(e.searchResults))for(var n in e.searchResults)if(n=e.searchResults[n],n.annotations&&Array.isArray(n.annotations))for(var i in n.annotations)if(i=n.annotations[i],i.entity&&i.timestamp&&i.comment&&i.entity&&i.entity.annotation&&i.entity.annotation.groups&&Array.isArray(i.entity.annotation.groups)&&i.entity.annotation.groups.length>1){var o={dateRaw:1e3*+i.timestamp,description:i.comment};o.author=i.entity.nickname||i.entity.displayName||"A Google User",o.group=i.entity.annotation.groups[1],o.id=o.dateRaw+"-"+o.group,o.isComment=!0,r.push(o)}t&&t(r)})}function j(e,t,r){$.ajax({url:e}).done(function(e){e&&(result=o(e,!0))&&(result.items&&result.items.length||result.title)?t():r()}).fail(r)}window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem;var F=chrome.i18n.getMessage("@@extension_id"),C="filesystem:chrome-extension://"+F+"/persistent/chrome-store.xml",_=!1,E=!1,J=0,B={},V=0,z=0,X={},H={},W={};chrome.tabs.onUpdated.addListener(function(e){z!=e&&chrome.tabs.get(e,function(r){J==e&&r.url.indexOf(chrome.runtime.id+"/main")==-1&&(J=0),r&&t(r.url)&&chrome.tabs.executeScript(e,{file:"content.js"})})}),chrome.tabs.onActivated.addListener(function(e){V=e.tabId,a()}),chrome.tabs.onRemoved.addListener(function(e){B[e]&&delete B[e],e==J&&(J=0)}),chrome.runtime.onMessage.addListener(function(e,t,i){var s,d,c;if(e.feeds&&t.tab)return B[t.tab.id]=e.feeds,void(V==t.tab.id&&a());if(e.getFeeds){var l,p={};for(d in X){if(l=$.extend(!0,{},X[d]),l.deleted&&delete l.deleted,l.lastUpdate&&delete l.lastUpdate,l.items)for(s in l.items)l.items[s].descr&&delete l.items[s].descr;p[d]=l}return i({feeds:p}),!0}if(e.getOptions)return void i({options:H});if(e.changeOptions&&e.options){for(var f in e.options)H[f]=e.options[f],"locale"==f&&chrome.runtime.sendMessage({command:"languageChanged",locale:H.locale});return void g()}if(e.url)return void n(e.url,t.tab,!0);if(e.parseUrl)return $.get(e.parseUrl).success(function(r){i(o(r)),t.tab.id&&u(e.parseUrl,!1,!1,!1,function(e){chrome.tabs.sendMessage(t.tab.id,{favIcon:e})})}).fail(function(){i(!1)}),!0;if(e.feedsPlease){var y={};for(c in X)if(y[c]={name:m(c),favIcon:X[c].favIcon,url:c,unread:0,pos:X[c].pos,group:X[c].group},X[c].items)for(var w in X[c].items)s=X[c].items[w],s.read||s.deleted||++y[c].unread;for(c in y)y[c].unread||delete y[c];return i({feeds:B[V],subs:y,options:H}),!0}if(e.subLink&&chrome.tabs.get(V,function(t){n(e.subLink,t,!1)}),e.iAmHere)return void(J&&J!=t.tab.id?(chrome.tabs.update(J,{active:!0}),z=t.tab.id,chrome.tabs.remove(t.tab.id)):(J=t.tab.id,i("ok")));if(e.openMainTabAndSendMessage)return void r(e.openMainTabAndSendMessage,{});if(e.markSeen)return void(X[e.feed]&&X[e.feed].items[e.guid]&&(X[e.feed].items[e.guid].seen=1,h(),a()));if(e.markRead){if("read"in e&&e.items){for(var x in e.items)d=e.items[x].feed,w=e.items[x].guid,X[d]&&X[d].items[w]&&(s=X[d].items[w],e.read?s.read=1:s.read&&delete s.read);h(),a()}}else{if(e.removeItems)return void(e.items&&(e.items.forEach(function(e){var t=e.feed,r=e.guid;if(X[t]&&X[t].items[r]){var n=X[t].items[r];n.deleted?(delete X[t].items[r],X[t].deleted.push(r)):n.deleted=Date.now()}}),h(),a()));if(e.setPin)return void(e.items&&(e.items.forEach(function(t){var r=t.feed,n=t.guid;if(X[r]&&X[r].items[n]){var i=X[r].items[n];e.pin?i.pinned||(i.pinned=1):i.pinned&&delete i.pinned}}),h()));if(e.undelete)return void(e.items&&(e.items.forEach(function(e){var t=e.feed,r=e.guid;if(X[t]&&X[t].items[r]){var n=X[t].items[r];n.deleted&&(n.dateDeleted&&delete n.dateDeleted,delete n.deleted)}}),h(),a()));if(e.updateFeed)return c=e.updateFeed,void(W[c]||(W[c]=!0,b(c),I({command:"loading",url:c})));if(e.subscribe)return chrome.tabs.remove(t.tab.id),void r("subscribe",{url:e.subscribe,name:e.name});if(e.readIt)return void r("readIt",{url:e.readIt});if(e.changeProperties&&X[e.changeProperties])return"givenName"in e&&(X[e.changeProperties].givenName=e.givenName),"useGivenName"in e&&(X[e.changeProperties].useGivenName=e.useGivenName),"update"in e&&(X[e.changeProperties].update=e.update),void h();if(e.saveOneFeed)return X[e.feedId]=e.feed,u(e.feedId,!1,!1,!1,!1),void h();if(e.deleteFeed&&X[e.deleteFeed])return delete X[e.deleteFeed],h(),void a();if(e.checkUrl)return v(e.checkUrl,i),!0;if(e.enableDisable&&X[e.enableDisable])return X[e.enableDisable].disabled=e.disabled,h(),void a();if(e.areYouReady)return i(E),!0;if(e.ioExists)return i(!!_),!0;if(e.reloadIcons)for(var S in X)d=X[S],d.favIcon&&delete d.favIcon,u(S,!1,!1,e.aggressively,!1);else{if(e.removeAllFeeds)return X={},h(),void a();if(e.pleaseInsertCss)return chrome.tabs.insertCSS(t.tab.id,{file:e.pleaseInsertCss,runAt:"document_start"}),void i();if(e.pleaseInsertJavaScript)return chrome.tabs.executeScript(t.tab.id,{file:e.pleaseInsertJavaScript,runAt:"document_start"},function(){i()}),!0;if(e.changePositions){var A=e.changePositions;for(d in A)X[d]&&(X[d].pos=A[d].pos,X[d].group=A[d].group);return void h()}if(e.resetSizes)return delete H.widthsAreas,g(),i(),!0;if(e.widthsAreas)return H.widthsAreas=e.widthsAreas,void g();if(e.collapsedGroups)return H.collapsedGroups=e.collapsedGroups,void g();if(e.lastView)return H.lastView=e.lastView,void g();if("orderby"in e&&(H.orderby=e.orderby,g()),"order"in e)return H.order=e.order,void g();if("changeLayout"in e)return H.layout=e.changeLayout,void g();if("showGroups"in e)return H.showGroups=e.showGroups,void g();if("showMilestones"in e)return H.showMilestones=e.showMilestones,void g();if(e.updateIntervals){for(c in e.updateIntervals)X[c]&&(X[c].update=e.updateIntervals[c].update);return void h()}if(e.deleteTheseFeeds){for(c in e.deleteTheseFeeds)X[c]&&(X[c].items&&delete X[c].items,X[c].deleted&&delete X[c].deleted,H.history[c]=X[c],delete X[c]);return h(),void a()}if(e.pleaseOpenThisUrl)return void chrome.tabs.create({url:e.pleaseOpenThisUrl});if(e.getFeedsAndOptionsString){var O={feeds:X};return O=JSON.stringify(O,null,"\t"),i(O),!0}if(e.importTRA){var R={};try{R=JSON.parse(e.importTRA),R.feeds&&(X=R.feeds,h())}catch(e){}return a(),i(),!0}if(e.reloadBackground)return chrome.tabs.remove(t.tab.id),localStorage.backgroundReloaded="1",void(location=location);if(e.getDescription){var k="";return X[e.feed]&&X[e.feed].items&&X[e.feed].items[e.id]&&(k=X[e.feed].items[e.id].descr||""),i(k),!0}}}});var K=[],Q=0,Y=null;b.auths={},$(function(){$.ajaxSetup({crossDomain:!0,dataType:"text"}),S(),chrome.storage.local.get(null,function(t){X=t.feeds||{},H=t.options||{};var r,n=!1;H.hasOwnProperty("showPopup")||(H.showPopup=1,n=!0),H.hasOwnProperty("volume")||(H.volume=50,n=!0),H.hasOwnProperty("playSound")||(H.playSound=1,n=!0),H.hasOwnProperty("showMilestones")||(H.showMilestones=1,n=!0),H.hasOwnProperty("showGroups")||(H.showGroups=1,n=!0),H.hasOwnProperty("defaultGroup")||(H.defaultGroup="Feeds",n=!0),H.hasOwnProperty("order")||(H.order=0,n=!0),H.hasOwnProperty("orderby")||(H.orderby=0,n=!0),H.hasOwnProperty("layout")||(H.layout=0,n=!0),H.hasOwnProperty("collapsedGroups")||(H.collapsedGroups={},n=!0),H.hasOwnProperty("locale")||(H.locale="default",n=!0),H.hasOwnProperty("history")||(H.history={},n=!0),H.hasOwnProperty("theme")||(H.theme="bright-theme",n=!0),H.hasOwnProperty("developerMode")||(H.developerMode=0,n=!0),H.hasOwnProperty("lockPositions")||(H.lockPositions=0,n=!0),n&&g(),e(),n=!1,n&&h(),n=!1;for(r in X)X[r].disabled&&(delete X[r].disabled,X[r].items&&delete X[r].items,X[r].deleted&&delete X[r].deleted,H.history[r]=X[r],delete X[r],n=!0);n&&(h(),g());var i=0;n=!1;for(r in X){var o=X[r];if(void 0===o.update&&(o.update=180),!("pos"in o)&&"position"in o&&(o.pos=o.position),"position"in o&&(delete X[r].position,n=!0),"pos"in o?o.pos>i&&(i=o.pos):(++i,o.pos=i),X[r].items)for(var d in X[r].items)d=X[r].items[d],d.rawDate||(d.rawDate=new Date(d.date).valueOf(),n=!0),d.dateDeleted&&(d.deleted=d.dateDeleted,delete d.dateDeleted,n=!0),d.added||(d.added=d.rawDate,n=!0);o.group||(o.group=H.defaultGroup,n=!0)}n&&h(),E=!0,a(),setTimeout(s,1e3),localStorage.backgroundReloaded&&(localStorage.backgroundReloaded="",chrome.runtime.sendMessage({openMainTabAndSendMessage:"readFeeds"}))})}),chrome.notifications.onClicked.addListener(function(e){chrome.runtime.sendMessage(Q?{readIt:Q}:{openMainTabAndSendMessage:"readFeeds"}),Q=0,chrome.notifications.clear("1",function(e){})});var Z={appId:94,js:!0,specs:[{type:"AverageStarRating",url:"4",groups:"chrome_webstore",rating_override:"5",id:"1"},{type:"IssueReportingWidget",url:"4",groups:"5",id:"2"},{type:"CommentThread",url:"4",groups:"5",sortby:"date",startindex:"0",numresults:"100",id:"3"}],internedKeys:["4","5"],internedValues:["http://chrome.google.com/extensions/permalink?id=ffhafkagcdhnhamiaecajogjcfgienom","chrome_webstore_support"]},ee={appId:94,version:"130625",hl:"en",specs:[{type:"CommentThread",url:"http://chrome.google.com/extensions/permalink?id=ffhafkagcdhnhamiaecajogjcfgienom",groups:"chrome_webstore",sortby:"date",startindex:"0",numresults:"100",id:"11"}],internedKeys:[],internedValues:[]},te=[],re={};chrome.webRequest.onBeforeRequest.addListener(function(e){return"stylesheet"!=e.type||!e.url.match(/\.xsl$/)||(url=te[e.tabId],re[url]||url.match(/\.xsl$/))?void(e.tabId>=0&&(te[e.tabId]=e.url)):(j(url,function(){var t=JSON.stringify({url:url});chrome.tabs.update(e.tabId,{url:"subscribe.html?"+t},function(e){chrome.tabs.sendMessage(e.id,{yourRealUrlIs:url})})},function(){re[url]=1,chrome.tabs.reload(e.tabId)}),{cancel:!0})},{urls:["http://*/*","https://*/*"]},["blocking"])}();