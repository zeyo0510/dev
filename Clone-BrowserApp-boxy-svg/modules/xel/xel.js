class t{text="";cursor=0;line=1;column=1;#t={cursor:0,line:1,column:1};constructor(t){this.text=t}read(t=1){let e="",i=this.cursor;for(let s=0;s<t;s+=1){let t=this.text[i+s];if(void 0===t)break;e+=t,this.cursor+=1,"\n"===t?(this.line+=1,this.column=1):this.column+=1}return""===e?null:e}peek(t=1){let e="";for(let i=0;i<t;i+=1){let t=this.text[this.cursor+i];if(void 0===t)break;e+=t}return""===e?null:e}eatSpaces(){let t="";for(;" "===this.peek();)t+=this.read();return t}eatWhitespace(){let t="";for(;" "===this.peek()||"\n"===this.peek();)t+=this.read();return t}storePosition(){let{cursor:t,line:e,column:i}=this;this.#t={cursor:t,line:e,column:i}}restorePosition(){let{cursor:t,line:e,column:i}=this.#t;this.cursor=t,this.line=e,this.column=i}}let{max:e,pow:i,sqrt:s,PI:h}=Math,n=(t,e=0)=>{let s=i(10,e);return Math.round(t*s)/s},o=(t,e=0)=>new DOMRect(n(t.x,e),n(t.y,e),n(t.width,e),n(t.height,e)),l=(t,e,i=Infinity,s=null)=>(null!==s&&(t=n(t,s)),t<e?t=e:t>i&&(t=i),t),a=t=>{if(isFinite(t)){let e=1,i=0;for(;Math.round(t*e)/e!==t;)e*=10,i+=1;return i}return 0},r=(t,e)=>{let i=e.x-t.x;i*=i;let h=e.y-t.y;return h*=h,s(i+h)},{min:d,max:u,floor:c,pow:p,atan2:m,PI:b,sqrt:g}=Math,x=(t,e,i)=>{let s,h,n,o=u(t/=255,e/=255,i/=255),a=d(t,e,i);if(s=h=n=(o+a)/2,o===a)s=h=0;else{let l=o-a;if(h=n>.5?l/(2-o-a):l/(o+a),o===t){let t;t=e<i?6:0,s=(e-i)/l+t}else o===e?s=(i-t)/l+2:o===i&&(s=(t-e)/l+4)}return s=l(s/6*360,0,360,0),h=l(100*h,0,100,1),n=l(100*n,0,100,1),[s,h,n]},f=(t,e,i)=>{let s,h,n;if(t/=360,i/=100,0===(e/=100))s=h=n=i;else{let o,l,a=(t,e,i)=>(i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t);o=i<.5?i*(1+e):i+e-i*e,l=2*i-o,s=a(l,o,t+1/3),h=a(l,o,t),n=a(l,o,t-1/3)}return s=l(255*s,0,255,0),h=l(255*h,0,255,0),n=l(255*n,0,255,0),[s,h,n]},w=(t,e,i)=>{e/=100,i/=100;let s=c(6*(t/=360)),h=6*t-s,n=i*(1-e),o=i*(1-h*e),l=i*(1-(1-h)*e),a=0,r=0,d=0;return s%6==0?(a=i,r=l,d=n):s%6==1?(a=o,r=i,d=n):s%6==2?(a=n,r=i,d=l):s%6==3?(a=n,r=o,d=i):s%6==4?(a=l,r=n,d=i):s%6==5&&(a=i,r=n,d=o),a*=255,r*=255,d*=255,[a,r,d]},v=(t,e="rgba",i="hex")=>{let s=null;if(["rgb","rgba","rgb%","rgba%","hex"].includes(i)){let h,n,o,a;if("rgba"===e?[h,n,o,a]=t:"hsla"===e?([h,n,o]=f(...t),a=t[3]):"hsva"===e&&([h,n,o]=w(...t),a=t[3]),"rgb%"===i||"rgba%"===i?(h=l(h/255*100,0,100,1),n=l(n/255*100,0,100,1),o=l(o/255*100,0,100,1),a=l(a,0,1,2)):(h=l(h,0,255,0),n=l(n,0,255,0),o=l(o,0,255,0),a=l(a,0,1,2)),"rgb"===i)s=`rgb(${h}, ${n}, ${o})`;else if("rgba"===i)s=`rgba(${h}, ${n}, ${o}, ${a})`;else if("rgb%"===i)s=`rgb(${h}%, ${n}%, ${o}%)`;else if("rgba%"===i)s=`rgb(${h}%, ${n}%, ${o}%, ${a})`;else if("hex"===i){let t=h.toString(16),e=n.toString(16),i=o.toString(16);1===t.length&&(t="0"+t),1===e.length&&(e="0"+e),1===i.length&&(i="0"+i),s="#"+t+e+i}}else if("hsl"===i||"hsla"===i){let h,n,o,a;"hsla"===e?[h,n,o,a]=t:"hsva"===e?([h,n,o]=((t,e,i)=>{let s=t/=360,h=(2-(e/=100))*(i/=100),n=e*i;return h<=1?0===h?n=0:n/=h:2===h?n=0:n/=2-h,h/=2,s*=360,n=100*u(0,d(1,n)),h=100*u(0,d(1,h)),[s,n,h]})(...t),a=t[3]):"rgba"===e&&([h,n,o]=x(...t),a=t[3]),h=l(h,0,360,0),n=l(n,0,100,1),o=l(o,0,100,1),a=l(a,0,1,2),"hsl"===i?s=`hsl(${h}, ${n}%, ${o}%)`:"hsla"===i&&(s=`hsla(${h}, ${n}%, ${o}%, ${a})`)}return s},y=(t,e)=>{let i=e.startsWith("hsl")?"hsla":"rgba",s=(new E).parse(t,i);return v(s,i,e)},z=t=>{if("#"!==(t=t.toLowerCase())[0])return!1;if(4!==t.length&&7!==t.length)return!1;t=t.substring(1);let e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];for(let i of t)if(!e.includes(i))return!1;return!0},k=()=>new Promise((t=>{if(k.url)t(k.url);else if(k.callbacks)k.callbacks.push(t);else{k.callbacks=[t];let e=300,i=document.createElement("canvas"),s=i.getContext("2d"),h=s.createImageData(e,e),n=h.data,o=e/2,l=0;i.width=e,i.height=e;for(let t=0;t<e;t++)for(let i=0;i<e;i++){let e=i-o,s=t-o,h=p(e,2)+p(s,2),a=(m(s,e)+b)/(2*b)*360,r=g(h)/o*100,[d,u,c]=w(a,r,100),x=h>p(o,2)?0:255;n[l++]=d,n[l++]=u,n[l++]=c,n[l++]=x}s.putImageData(h,0,0),i.toBlob((t=>{k.url=URL.createObjectURL(t);for(let t of k.callbacks)t(k.url)}))}})),{parseFloat:C,parseInt:S}=Number;class E{static#e={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};parse(t,e="rgba"){t=t.trim();let i=this.#i(t),s=null,h=null;if(7===i.length&&"rgb("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"NUM"===i[3].type&&","===i[4].text&&"NUM"===i[5].type&&")"===i[6].text)s=[C(i[1].text),C(i[3].text),C(i[5].text),1];else if(7===i.length&&"rgb("===i[0].text&&"PERCENTAGE"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&")"===i[6].text)s=[C(i[1].text)/100*255,C(i[3].text)/100*255,C(i[5].text)/100*255,1];else if(9===i.length&&"rgba("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"NUM"===i[3].type&&","===i[4].text&&"NUM"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)s=[C(i[1].text),C(i[3].text),C(i[5].text),C(i[7].text)];else if(9===i.length&&"rgb("===i[0].text&&"PERCENTAGE"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)s=[C(i[1].text)/100*255,C(i[3].text)/100*255,C(i[5].text)/100*255,C(i[7].text)];else if(7===i.length&&"hsl("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&")"===i[6].text)h=[C(i[1].text),C(i[3].text),C(i[5].text),1];else if(9===i.length&&"hsla("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)h=[C(i[1].text),C(i[3].text),C(i[5].text),C(i[7].text)];else if("HEX"===i[0].type&&void 0===i[1]){let t,e,h,n=i[0].text.substring(1);3===n.length?(t=n[0]+n[0],e=n[1]+n[1],h=n[2]+n[2]):(t=n[0]+n[1],e=n[2]+n[3],h=n[4]+n[5]),s=[S(t,16),S(e,16),S(h,16),1]}else E.#e[t]&&(s=[E.#e[t][0],E.#e[t][1],E.#e[t][2],1]);if(s){let[t,i,h,n]=s;if(t=l(t,0,255,0),i=l(i,0,255,0),h=l(h,0,255,0),n=l(n,0,1,2),"hsla"===e){let[e,s,o]=x(t,i,h);return[e,s,o,n]}if("hsva"===e){let[e,s,o]=((t,e,i)=>{let s=u(t/=255,e/=255,i/=255),h=d(t,e,i),n=0,o=0,l=s,a=s-h;return o=0===s?0:a/s,s===h?n=0:(s===t?n=(e-i)/a+(e<i?6:0):s===e?n=(i-t)/a+2:s===i&&(n=(t-e)/a+4),n/=6),n*=360,o*=100,l*=100,[n,o,l]})(t,i,h);return[e,s,o,n]}return[t,i,h,n]}if(h){let[t,i,s,n]=h;if(t=l(t,0,360,0),i=l(i,0,100,1),s=l(s,0,100,1),n=l(n,0,1,2),"hsla"===e)return[t,i,s,n];if("hsva"===e){let[e,h,o]=((t,e,i)=>{e/=100;let s,h,n=t/=360;return s=(i=i/100*2)+(e*=i<=1?i:2-i)==0?0:2*e/(i+e),h=(i+e)/2,n*=360,s=100*u(0,d(1,s)),h=100*u(0,d(1,h)),[n,s,h]})(t,i,s);return[e,h,o,n]}{let[e,h,o]=f(t,i,s);return[e,h,o,n]}}throw new Error(`Invalid color string: "${t}"`)}#i(e){let i=[],s=new t(e.toLowerCase());for(;null!==s.peek();){let t=s.read();(()=>{if("r"===t||"h"===t){let e=t;if(t+s.peek(3)==="rgb("?e+=s.read(3):t+s.peek(4)==="rgba("?e+=s.read(4):t+s.peek(3)==="hsl("?e+=s.read(3):t+s.peek(4)==="hsla("&&(e+=s.read(4)),e!==t)return void i.push({type:"FUNCTION",text:e})}if("#"===t){if(z(t+s.peek(6))){let e=t+s.read(6);return void i.push({type:"HEX",text:e})}if(z(t+s.peek(3))){let e=t+s.read(3);return void i.push({type:"HEX",text:e})}}if(["0","1","2","3","4","5","6","7","8","9",".","-"].includes(t)){let e=t;for(;["0","1","2","3","4","5","6","7","8","9","."].includes(s.peek());)e+=s.read();"%"===s.peek()?(e+=s.read(),i.push({type:"PERCENTAGE",text:e})):i.push({type:"NUM",text:e})}else/\u0009|\u000a|\u000c|\u000d|\u0020/.test(t)||i.push({type:"CHAR",text:t})})()}return i}}let A=document.createElement("template"),L=(t,...e)=>{let i=[];for(let s=0;s<t.length;s+=1)i.push(t[s]),void 0!==e[s]&&i.push(e[s]);let s=i.join("");A.innerHTML=s;let h=document.importNode(A.content,!0);return 1===h.children.length?h.firstElementChild:h},T=(t,...e)=>{let i=[];for(let s=0;s<t.length;s+=1)i.push(t[s]),void 0!==e[s]&&i.push(e[s]);let s=i.join(""),h=new CSSStyleSheet;return h.replaceSync(s),h},M=(t,...e)=>{let i=[];for(let s=0;s<t.length;s+=1)i.push(t[s]),void 0!==e[s]&&i.push(e[s]);let s=`<svg id="x-stub" xmlns="http://www.w3.org/2000/svg">${i.join("")}</svg>`;A.innerHTML=s;let h=document.importNode(A.content,!0),n=h.querySelector("svg#x-stub");if(1===n.children.length)return n.firstElementChild;for(let t of[...n.childNodes])h.appendChild(t);return n.remove(),h},D={},$=t=>new Promise((async e=>{if(D[t])D[t].iconset?e(D[t].iconset):D[t].callbacks.push(e);else{D[t]={callbacks:[e],iconset:null};let i=null;try{i=await(await fetch(t)).text()}catch(t){i=null}if(i){D[t].iconset=M`${i}`;for(let e of D[t].callbacks)e(D[t].iconset)}else console.error(`Xel failed to fetch the iconset: ${t}`)}}));var P=new class extends class{#s={};addEventListener(t,e){this.#s||(this.#s={});let i=this.#s[t];i||(this.#s[t]=i=[]),i.push(e),i.length>1e4&&console.warn(`Potential EventEmitter memory leak: ${i.length} listeners subscribed to event "${t}"`)}removeEventListener(t,e){if(this.#s&&this.#s[t]){for(var i=[],s=0;s<this.#s[t].length;s+=1)this.#s[t][s]!==e&&i.push(this.#s[t][s]);this.#s[t]=i}}dispatchEvent(t){if(!this.#s)return;let e=this.#s[t.type];if(!e)return;let i=null;for(let s=e.length-1;s>=0;s-=1){let h,n=e[s];try{h=n.call(window,t)}catch(t){null===i&&(i=t)}if(!1===h)break}if(i)throw i}}{get theme(){return this.#h}set theme(t){let e=document.head.querySelector(':scope > meta[name="xel-theme"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-theme"),document.head.append(e)),e.setAttribute("content",t)}get accentColor(){return this.#n}set accentColor(t){let e=document.head.querySelector(':scope > meta[name="xel-accent-color"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-accent-color"),document.head.append(e)),e.setAttribute("content",t)}get size(){return this.#o}set size(t){let e=document.head.querySelector(':scope > meta[name="xel-size"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-size"),document.head.append(e)),e.setAttribute("content",t)}get iconset(){return this.#l}set iconset(t){let e=document.head.querySelector(':scope > meta[name="xel-iconset"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-iconset"),document.head.append(e)),e.setAttribute("content",t)}get whenThemeReady(){return new Promise((t=>{null===this.#a?t():this.#a.push(t)}))}get whenIconsetReady(){return new Promise((t=>{null===this.#r?t():this.#r.push(t)}))}get themeStyleSheet(){return this.#d}get iconsetElement(){return this.#u}get presetAccentColors(){let t={};for(let e of this.#d.cssRules)if(1===e.type&&"body"===e.selectorText&&e.styleMap.has("--preset-accent-colors")){let i=e.styleMap.get("--preset-accent-colors");if(i&&i[0]){let e=i[0].split(",").map((t=>t.trim())).map((t=>t.split(" ")));t=Object.fromEntries(e)}break}return t}#h=null;#n=null;#o=null;#l=null;#d=new CSSStyleSheet;#u=null;#a=[];#r=[];constructor(){super(),document.adoptedStyleSheets=[this.#d];let{theme:t,accentColor:e,size:i,iconset:s}=this.#c();this.#h=t,this.#n=e,this.#o=i,this.#l=s,null!==this.#h&&this.#p(this.#h),null!==this.#l&&this.#m(this.#l);new MutationObserver((t=>this.#b(t))).observe(document.head,{attributes:!0,subtree:!0})}#b(t){let e=this.#h,i=this.#n,s=this.#o,h=this.#l,{theme:n,accentColor:o,size:l,iconset:a}=this.#c();this.#h=n,this.#n=o,this.#o=l,this.#l=a,this.#h!==e&&this.#p(this.#h).then((()=>{this.dispatchEvent(new CustomEvent("themechange"))})),this.#n!==i&&(this.#g(),this.dispatchEvent(new CustomEvent("accentcolorchange"))),this.#o!==s&&this.dispatchEvent(new CustomEvent("sizechange")),this.#l!==h&&this.#m(this.#l).then((()=>{this.dispatchEvent(new CustomEvent("iconsetchange"))}))}#x(t){return new Promise((async e=>{let i=await fetch(t),s=await i.text();for(let[t,e]of this.#f(s)){let i=await this.#x(t);s=s.replace(e,i)}e(s)}))}#p(t){return new Promise((async e=>{null===this.#a&&(this.#a=[]);let i=await this.#x(t);if(await this.#d.replace(i),this.#g(),this.#w(),null!==this.#a){for(let t of this.#a)t();this.#a=null}e()}))}#m(t){return new Promise((async e=>{null===this.#r&&(this.#r=[]);let i=await $(t);this.#u=i;for(let t of this.#r)t();this.#r=null,e()}))}async#w(){await this.whenThemeReady;let t=document.head.querySelector('meta[name="theme-color"]'),e=getComputedStyle(document.body).getPropertyValue("--titlebar-color").trim()||"auto";"auto"===e?t&&t.remove():(null===t&&(t=document.createElement("meta"),t.setAttribute("name","theme-color"),document.head.append(t)),t.setAttribute("content",e))}async#g(){await this.whenThemeReady;let t=this.#n||this.presetAccentColors.blue;this.presetAccentColors[t]&&(t=this.presetAccentColors[t]);let[e,i,s,h]=(new E).parse(t,"hsla"),n=[...this.#d.cssRules].reverse().find((t=>1===t.type&&"body"===t.selectorText));n.styleMap.set("--accent-color-h",e),n.styleMap.set("--accent-color-s",`${i}%`),n.styleMap.set("--accent-color-l",`${s}%`),n.styleMap.set("--accent-color-a",h)}#c(){let t=document.head.querySelector(':scope > meta[name="xel-theme"]'),e=document.head.querySelector(':scope > meta[name="xel-accent-color"]'),i=document.head.querySelector(':scope > meta[name="xel-size"]'),s=document.head.querySelector(':scope > meta[name="xel-iconset"]');return{theme:t&&""!==t.content?t.content:null,accentColor:e&&""!==e.content?e.content:null,size:i&&""!==i.content?i.content:null,iconset:s&&""!==s.content?s.content:null}}#f(t){let e=[],i=-1;for(;;){let s=t.indexOf("@import",i);if(!(s>-1))break;{let h=t.indexOf(";",s),n=0,o=t.indexOf(".css",s)+".css".length,l=t.indexOf("'",s),a=t.indexOf('"',s);if(l>s&&l<h)n=l+1;else if(a>s&&a<h)n=a+1;else{let e=t.indexOf("url(",s);e>s&&e<h&&(n=e+"url(".length)}let r=t.substring(n,o);e.push([r,t.substring(s,h+1)]),i=o}}return e}};if(!1===MouseEvent.prototype.hasOwnProperty("pointerType")&&Object.defineProperty(MouseEvent.prototype,"pointerType",{get(){return this.sourceCapabilities.firesTouchEvents?"touch":"mouse"}}),Element.prototype.setPointerCapture){let t=Element.prototype.setPointerCapture;Element.prototype.setPointerCapture=function(e){t.call(this,e);let i=getComputedStyle(this).cursor,s=[];for(let t=this.parentNode||this.host;t&&t!==document;t=t.parentNode||t.host)if(t.nodeType===document.DOCUMENT_FRAGMENT_NODE){let e=document.createElementNS(t.host.namespaceURI,"style");e.textContent=`* { cursor: ${i} !important; user-select: none !important; }`,t.append(e),s.push(e)}else if(t.nodeType===document.DOCUMENT_NODE){let e=document.createElement("style");e.textContent=`* { cursor: ${i} !important; user-select: none !important; }`,t.head.append(e),s.push(e)}let h=()=>{window.removeEventListener("pointerup",h,!0),this.removeEventListener("lostpointercapture",h);for(let t of s)t.remove()};window.addEventListener("pointerup",h,!0),this.addEventListener("lostpointercapture",h)}}Object.defineProperty(Animation.prototype,"finished",{get(){return new Promise((t=>{"finished"===this.playState?t():this.addEventListener("finish",(()=>t()),{once:!0})}))}}),Object.defineProperty(HTMLHeadingElement.prototype,"disabled",{enumerable:!1,configurable:!1,get(){return this.hasAttribute("disabled")},set(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}}),Object.defineProperty(HTMLParagraphElement.prototype,"disabled",{enumerable:!1,configurable:!1,get(){return this.hasAttribute("disabled")},set(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}}),Node.prototype.append||(Node.prototype.append=function(t){this.appendChild(t)}),Node.prototype.prepend||(Node.prototype.prepend=function(t){this.insertBefore(t,this.firstElementChild)}),Node.prototype.before||(Node.prototype.before=function(t){this.parentElement.insertBefore(t,this)}),Node.prototype.after||(Node.prototype.after=function(t){this.parentElement.insertBefore(t,this.nextElementSibling)}),Node.prototype.closest||(Node.prototype.closest=function(t){return this.parentNode?this.parentNode.closest(t):null}),Node.prototype.replaceWith||(Node.prototype.replaceWith=function(t){this.parentNode.replaceChild(t,this)});let R=HTMLDialogElement.prototype.showModal,I=HTMLDialogElement.prototype.close,O=[],B={get open(){return this.hasAttribute("open")},showModal(){return new Promise((async t=>{if(!0!==this.open&&!1!==this.isConnected){this.t&&await this.t.finished,this.i&&await this.i.finished,R.apply(this,arguments);{let t;document.body.style.overflow="hidden",O.push(this),this.addEventListener("close",t=e=>{e.target===this&&(this.removeEventListener("close",t),O=O.filter((t=>t!==this)),0===O.length&&(document.body.style.overflow=null))})}{let t=this.querySelector("[autofocus]");t?t.focus():this.focus()}if(!1===this.hasAttribute("hidden")){let t=getComputedStyle(this),e=t.getPropertyValue("transition-property"),i=1e3*parseFloat(t.getPropertyValue("transition-duration")),s=t.getPropertyValue("transition-timing-function");if("transform"===e){let t=this.getBoundingClientRect();"0px"===getComputedStyle(this).left&&"0px"!==getComputedStyle(this).right?this.t=this.animate({transform:[`translateX(-${t.right}px)`,"translateX(0px)"]},{duration:i,easing:s}):"0px"===getComputedStyle(this).right&&"0px"!==getComputedStyle(this).left?this.t=this.animate({transform:[`translateX(${t.width}px)`,"translateX(0px)"]},{duration:i,easing:s}):this.t=this.animate({transform:[`translateY(-${t.bottom}px)`,"translateY(0px)"]},{duration:i,easing:s})}}{let t,e,i;this.addEventListener("keydown",t=t=>{"Escape"===t.key&&t.preventDefault()}),document.addEventListener("keydown",e=t=>{"Escape"===t.key&&t.target===document.body&&t.preventDefault()}),this.addEventListener("close",i=s=>{s.target===this&&(this.removeEventListener("close",i),this.removeEventListener("keydown",t),document.removeEventListener("keydown",e))})}{let t,e,i,s=!0,h=t=>{let e=this.getBoundingClientRect();return t.clientX>=e.x&&t.clientX<=e.x+e.width&&t.clientY>=e.y&&t.clientY<=e.y+e.height};this.addEventListener("pointerdown",t=t=>{s=!1===h(t)}),this.addEventListener("click",e=t=>{t.target===this&&!0===t.isTrusted&&!1===t.defaultPrevented&&!0===s&&!1===h(t)&&!0===this.hasAttribute("open")&&(this.close(),this.dispatchEvent(new CustomEvent("userclose")))}),this.addEventListener("close",i=s=>{s.target===this&&(this.removeEventListener("pointerdown",t),this.removeEventListener("click",e),this.removeEventListener("close",i))})}this.t&&(await this.t.finished,this.t=null),t()}else t()}))},close(){return new Promise((async t=>{if(this.t&&await this.t.finished,this.i&&await this.i.finished,!1===this.hasAttribute("hidden")){let t=getComputedStyle(this),e=t.getPropertyValue("transition-property"),i=t.getPropertyValue("transition-duration")||"0s",s=1e3*parseFloat(i),h=t.getPropertyValue("transition-timing-function")||"ease";if("transform"===e){let t=this.getBoundingClientRect();"0px"===getComputedStyle(this).left&&"0px"!==getComputedStyle(this).right?this.i=this.animate({transform:["translateX(0px)",`translateX(-${t.right}px)`]},{duration:s,easing:h}):"0px"===getComputedStyle(this).right&&"0px"!==getComputedStyle(this).left?this.i=this.animate({transform:["translateX(0px)",`translateX(${t.width}px)`]},{duration:s,easing:h}):this.i=this.animate({transform:["translateY(0px)",`translateY(-${t.bottom+50}px)`]},{duration:s,easing:h}),await this.i.finished,this.i=null}}this.hasAttribute("open")&&I.apply(this,arguments),t()}))}};for(let[t,e]of Object.entries(Object.getOwnPropertyDescriptors(B)))Object.defineProperty(HTMLDialogElement.prototype,t,e);class H extends HTMLElement{static observedAttributes=["expanded","size"];static#v=L`<template><main id="main"><div id="arrow-container"><svg id="arrow" part="arrow" viewBox="0 0 100 100" preserveAspectRatio="none" tabindex="1"><path></path></svg></div><slot></slot></main></template>`;static#y=T`:host{display:block;width:100%;margin:8px 0;box-sizing:border-box}:host([animating]){overflow:hidden}#main{position:relative;width:100%;height:100%}#arrow-container{position:absolute;top:0;width:100%;height:100%;display:flex;align-items:center;justify-content:flex-start;pointer-events:none}#arrow{display:flex;width:16px;height:16px;d:path("M 26 20 L 26 80 L 74 50 Z");transform:rotate(0);transition:transform .25s cubic-bezier(.4, 0, .2, 1);color:currentColor}#arrow:focus{background:0 0;outline:0}:host([expanded]) #arrow{transform:rotate(90deg)}#arrow path{fill:currentColor;d:inherit}`;get expanded(){return this.hasAttribute("expanded")}set expanded(t){t?this.setAttribute("expanded",""):this.removeAttribute("expanded")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#z={};#k=null;#C=null;#S=null;#E=null;constructor(){super(),this.#k=this.attachShadow({mode:"closed"}),this.#k.adoptedStyleSheets=[H.#y],this.#k.append(document.importNode(H.#v.content,!0));for(let t of this.#k.querySelectorAll("[id]"))this.#z[t.id]=t;this.#C=new ResizeObserver((()=>this.#A())),this.addEventListener("click",(t=>this.#L(t))),this.#z.arrow.addEventListener("keydown",(t=>this.#T(t)))}connectedCallback(){this.#M(),P.addEventListener("sizechange",this.#S=()=>this.#M()),this.#C.observe(this)}disconnectedCallback(){P.removeEventListener("sizechange",this.#S),this.#C.unobserve(this)}attributeChangedCallback(t,e,i){e!==i&&("expanded"===t?this.#A():"size"===t&&this.#M())}expand(){return new Promise((async t=>{if(!1===this.expanded){let t=this.getBoundingClientRect();this.#E&&this.#E.finish(),this.expanded=!0,this.removeAttribute("animating");let e=this.getBoundingClientRect();this.setAttribute("animating","");let i=this.animate({height:[t.height+"px",e.height+"px"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});this.#E=i,await i.finished,this.#E===i&&this.removeAttribute("animating")}t()}))}collapse(){return new Promise((async t=>{if(!0===this.expanded){let t=this.getBoundingClientRect();this.#E&&this.#E.finish(),this.expanded=!1,this.removeAttribute("animating");let e=this.getBoundingClientRect();this.setAttribute("animating","");let i=this.animate({height:[t.height+"px",e.height+"px"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});this.#E=i,await i.finished,this.#E===i&&this.removeAttribute("animating")}t()}))}#A(){let t=this.querySelector(":scope > header");this.#z["arrow-container"].style.height=t?t.getBoundingClientRect().height+"px":null}#M(){let t=P.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}#T(t){"Enter"===t.key&&this.querySelector("header").click()}#L(t){let e=this.querySelector("header"),i=t.target.closest("[tabindex]");e.contains(t.target)&&!1===this.contains(i)&&(this.expanded?(this.collapse(),this.dispatchEvent(new CustomEvent("collapse"))):(this.expand(),this.dispatchEvent(new CustomEvent("expand"))))}}customElements.define("x-accordion",H);class F extends HTMLElement{static#y=T`:host{display:block;position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:1000;touch-action:none;will-change:opacity;cursor:default;background:rgba(0,0,0,.5)}:host([hidden]){display:none}`;get ownerElement(){return this.#D?this.#D:document.body.firstElementChild}set ownerElement(t){this.#D=t}#k=null;#D=null;#$=null;constructor(){super(),this.#k=this.attachShadow({mode:"closed"}),this.#k.adoptedStyleSheets=[F.#y],this.addEventListener("pointerdown",(t=>t.preventDefault()))}connectedCallback(){this.addEventListener("wheel",this.#$=t=>t.preventDefault())}disconnectedCallback(){this.removeEventListener("wheel",this.#$)}show(t=!0){this.title="",this.style.top="0px",this.style.left="0px",this.ownerElement.before(this),this.hidden=!1;let e=this.getBoundingClientRect(),i=0,s=0;0===e.top&&0===e.left||(i=-e.top,s=-e.left);{let t=parseFloat(getComputedStyle(this.ownerElement).zIndex);this.style.zIndex=t-1}if(this.style.top=i+"px",this.style.left=s+"px",t){return this.animate({opacity:["0","1"]},{duration:100,easing:"ease-out"}).finished}}hide(t=!0){if(t){let t=this.animate({opacity:["1","0"]},{duration:100,easing:"ease-in"});return t.finished.then((()=>{this.remove()})),t.finished}this.remove()}}customElements.define("x-backdrop",F);class N extends HTMLElement{static observedAttributes=["value","size"];static#v=L`<template><x-box vertical><div id="hue-slider" part="slider"><div id="hue-slider-track"><div id="hue-slider-marker" part="marker"></div></div></div><div id="saturation-slider" part="slider"><div id="saturation-slider-track"><div id="saturation-slider-marker" part="marker"></div></div></div><div id="lightness-slider" part="slider"><div id="lightness-slider-track"><div id="lightness-slider-marker" part="marker"></div></div></div><div id="alpha-slider" part="slider"><div id="alpha-slider-gradient"></div><div id="alpha-slider-track"><div id="alpha-slider-marker" part="marker"></div></div></div></x-box></template>`;static#y=T`:host{display:block;width:100%;user-select:none}:host([hidden]){display:none}#hue-slider{width:100%;height:30px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;background:red;--marker-width:18px}:host([computedsize=small]) #hue-slider{height:24px}:host([computedsize=large]) #hue-slider{height:35px}#hue-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center;background:linear-gradient(to right,red,#ff0,#0f0,#0ff,#00f,#f0f,red)}#hue-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#saturation-slider{width:100%;height:30px;margin-top:20px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px}:host([computedsize=small]) #saturation-slider{height:24px}:host([computedsize=large]) #saturation-slider{height:35px}#saturation-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#saturation-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#lightness-slider{width:100%;height:30px;margin-top:20px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px}:host([computedsize=small]) #lightness-slider{height:24px}:host([computedsize=large]) #lightness-slider{height:35px}#lightness-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#lightness-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#alpha-slider{display:none;width:100%;height:30px;margin-top:20px;margin-bottom:8px;padding:0 calc(var(--marker-width)/ 2);position:relative;box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px;background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}:host([alphaslider]) #alpha-slider{display:block}:host([computedsize=small]) #alpha-slider{height:24px}:host([computedsize=large]) #alpha-slider{height:35px}#alpha-slider-gradient{position:absolute;top:0;left:0;width:100%;height:100%}#alpha-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#alpha-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):"hsla(0, 0%, 100%, 1)"}set value(t){this.setAttribute("value",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#P=0;#R=0;#I=80;#O=1;#k=null;#z={};#S=null;#B=!1;#H=!1;#F=!1;#N=!1;constructor(){super(),this.#k=this.attachShadow({mode:"closed"}),this.#k.adoptedStyleSheets=[N.#y],this.#k.append(document.importNode(N.#v.content,!0));for(let t of this.#k.querySelectorAll("[id]"))this.#z[t.id]=t;this.#z["hue-slider"].addEventListener("pointerdown",(t=>{this.#q(t)})),this.#z["saturation-slider"].addEventListener("pointerdown",(t=>{this.#U(t)})),this.#z["lightness-slider"].addEventListener("pointerdown",(t=>{this.#j(t)})),this.#z["alpha-slider"].addEventListener("pointerdown",(t=>{this.#K(t)}))}connectedCallback(){this.#X(),this.#M(),P.addEventListener("sizechange",this.#S=()=>this.#M())}disconnectedCallback(){P.removeEventListener("sizechange",this.#S)}attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.#V():"size"===t&&this.#Z())}#X(){this.#G(),this.#Y(),this.#W(),this.#J(),this.#Q(),this.#_(),this.#tt()}#G(){this.#z["hue-slider-marker"].style.left=l(this.#P,0,360,0)/360*100+"%"}#Y(){this.#z["saturation-slider-marker"].style.left=l(this.#R,0,100,2)+"%"}#J(){this.#z["lightness-slider-marker"].style.left=l(this.#I,0,100,2)+"%"}#_(){this.#z["alpha-slider-marker"].style.left=l(100*(1-this.#O),0,100,2)+"%"}#W(){let t=this.#P;this.#z["saturation-slider"].style.background=`linear-gradient(\n      to right, hsl(${t}, 0%, 50%), hsl(${t}, 100%, 50%)\n    )`}#Q(){let t=this.#P,e=this.#R;this.#z["lightness-slider"].style.background=`linear-gradient(\n      to right, hsl(${t}, ${e}%, 0%), hsl(${t}, ${e}%, 50%), hsl(${t}, ${e}%, 100%)\n    )`}#tt(){let t=this.#P,e=this.#R,i=this.#I;this.#z["alpha-slider-gradient"].style.background=`\n      linear-gradient(to right, hsla(${t}, ${e}%, ${i}%, 1), hsla(${t}, ${e}%, ${i}%, 0))\n    `}#M(){let t=P.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}#V(){if(!1===this.#B&&!1===this.#H&&!1===this.#F&&!1===this.#N){let[t,e,i,s]=(new E).parse(this.value,"hsla");this.#P=t,this.#R=e,this.#I=i,this.#O=s,this.#X()}}#Z(){this.#M()}#q(t){if(t.buttons>1)return;let e,i,s=this.#z["hue-slider-track"].getBoundingClientRect();this.#B=!0,this.#z["hue-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let h=t=>{let e=(t-s.x)/s.width*360;e=l(e,0,360,0),e!==this.#P&&(this.#P=e,this.value=v([this.#P,this.#R,this.#I,this.#O],"hsla","hsla"),this.#G(),this.#W(),this.#Q(),this.#tt(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};h(t.clientX),this.#z["hue-slider"].addEventListener("pointermove",e=t=>{h(t.clientX)}),this.#z["hue-slider"].addEventListener("pointerup",i=()=>{this.#z["hue-slider"].removeEventListener("pointermove",e),this.#z["hue-slider"].removeEventListener("pointerup",i),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.#B=!1})}#U(t){if(t.buttons>1)return;let e,i,s=this.#z["saturation-slider-track"].getBoundingClientRect();this.#H=!0,this.#z["saturation-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let h=t=>{let e=(t-s.x)/s.width*100;e=l(e,0,100,0),e!==this.#R&&(this.#R=e,this.value=v([this.#P,this.#R,this.#I,this.#O],"hsla","hsla"),this.#Y(),this.#W(),this.#Q(),this.#tt(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};h(t.clientX),this.#z["saturation-slider"].addEventListener("pointermove",e=t=>{h(t.clientX)}),this.#z["saturation-slider"].addEventListener("pointerup",i=()=>{this.#z["saturation-slider"].removeEventListener("pointermove",e),this.#z["saturation-slider"].removeEventListener("pointerup",i),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.#H=!1})}#j(t){if(t.buttons>1)return;let e,i,s=this.#z["lightness-slider-track"].getBoundingClientRect();this.#F=!0,this.#z["lightness-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let h=t=>{let e=(t-s.x)/s.width*100;e=l(e,0,100,0),e!==this.#I&&(this.#I=e,this.value=v([this.#P,this.#R,this.#I,this.#O],"hsla","hsla"),this.#J(),this.#W(),this.#Q(),this.#tt(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};h(t.clientX),this.#z["lightness-slider"].addEventListener("pointermove",e=t=>{h(t.clientX)}),this.#z["lightness-slider"].addEventListener("pointerup",i=()=>{this.#z["lightness-slider"].removeEventListener("pointermove",e),this.#z["lightness-slider"].removeEventListener("pointerup",i),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.#F=!1})}#K(t){if(t.buttons>1)return;let e,i,s=this.#z["alpha-slider-track"].getBoundingClientRect();this.#N=!0,this.#z["alpha-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let h=t=>{let e=1-(t-s.x)/s.width;e=l(e,0,1,2),e!==this.#O&&(this.#O=e,this.value=v([this.#P,this.#R,this.#I,this.#O],"hsla","hsla"),this.#_(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};h(t.clientX),this.#z["alpha-slider"].addEventListener("pointermove",e=t=>{h(t.clientX)}),this.#z["alpha-slider"].addEventListener("pointerup",i=()=>{this.#z["alpha-slider"].removeEventListener("pointermove",e),this.#z["alpha-slider"].removeEventListener("pointerup",i),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.#N=!1})}}customElements.define("x-barscolorpicker",N);class q extends HTMLElement{static#v=L`<template><slot></slot></template>`;static#y=T`:host{display:flex;box-sizing:border-box;align-items:center;justify-content:flex-start}:host([vertical]){flex-flow:column;align-items:flex-start;justify-content:center}:host([hidden]){display:none}`;get vertical(){return this.hasAttribute("vertical")}set vertical(t){t?this.setAttribute("vertical",""):this.removeAttribute("vertical")}#k=null;constructor(){super(),this.#k=this.attachShadow({mode:"closed"}),this.#k.adoptedStyleSheets=[q.#y],this.#k.append(document.importNode(q.#v.content,!0))}}customElements.define("x-box",q);let U=(t,e=null)=>{let i=t.split(":"),s=null;if(1===i.length){let[t]=i;s=null===e?document.createElement(t):document.createElement(t,e)}else if(2===i.length){let[t,e]=i;"svg"===t&&(s=document.createElementNS("http://www.w3.org/2000/svg",e))}return s},j=(t,e,i=!0)=>{let s=t.closest(e);return i&&!s&&t.getRootNode().host?j(t.getRootNode().host,e):s},K=t=>{let e=t=>t&&t!==document.body?(t=>{let e=getComputedStyle(t,null);return/(auto|scroll)/.test(e.getPropertyValue("overflow")+e.getPropertyValue("overflow-y")+e.getPropertyValue("overflow-x"))})(t)?t:e(t.parentElement||t.parentNode.host):document.body;return e(t)},X=t=>new Promise(((e,i)=>{setTimeout((()=>e()),t)})),V=()=>Date.now(),Z=(t,e=500,i)=>{let s=null,h=null,n=null,o=0,l=()=>{o=new Date,h=null,n=t.apply(i,s)};return(...a)=>{let r=new Date,d=e-(r-o);return s=a,d<=0?(clearTimeout(h),h=null,o=r,n=t.apply(i,s)):h||(h=setTimeout(l,d)),n}},G=(t,e,i,s=!1)=>{let h=null,n=null;return(...o)=>{let l=s&&!h;return clearTimeout(h),h=setTimeout((()=>{h=null,s||(n=t.apply(i,o))}),e),l&&(n=t.apply(i,o)),n}},{max:Y}=Math;class W extends HTMLElement{static observedAttributes=["disabled","size"];static#v=L`<template><div id="ripples"></div><slot></slot><svg id="arrow" part="arrow" viewBox="0 0 100 100" preserveAspectRatio="none"><path id="arrow-path"></path></svg></template>`;static#y=T`:host{display:flex;align-items:center;justify-content:center;width:fit-content;height:fit-content;min-height:32px;padding:2px 14px;box-sizing:border-box;opacity:1;position:relative;overflow:hidden;--trigger-effect:none}:host(:focus){outline:0}:host(:focus:not(:active)){z-index:1}:host([mixed]){opacity:.75}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}#arrow{color:currentColor;width:8px;height:8px;min-width:8px;margin:0 0 0 4px;d:path("M 11.7 19.9 L 49.8 57.9 L 87.9 19.9 L 99.7 31.6 L 49.8 81.4 L -0.0 31.6 Z")}#arrow path{fill:currentColor;d:inherit}#arrow[hidden]{display:none}#ripples{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;border-radius:inherit}#ripples .ripple{position:absolute;top:0;left:0;width:200px;height:200px;background:currentColor;opacity:.2;border-radius:999px;transform:none;transition:all .8s cubic-bezier(.4, 0, .2, 1);will-change:opacity,transform;pointer-events:none}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get toggled(){return this.hasAttribute("toggled")}set toggled(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled")}get togglable(){return this.hasAttribute("togglable")}set togglable(t){t?this.setAttribute("togglable",""):this.removeAttribute("togglable")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get condensed(){return this.hasAttribute("condensed")}set condensed(t){t?this.setAttribute("condensed",""):this.removeAttribute("condensed")}get skin(){return this.hasAttribute("skin")?this.getAttribute("skin"):null}set skin(t){null===t?this.removeAttribute("skin"):this.setAttribute("skin",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}get expanded(){return this.hasAttribute("expanded")}get expandable(){return this.#et()||this.#it()}get ownerButtons(){if(this.parentElement){if("x-buttons"===this.parentElement.localName)return this.parentElement;if("x-box"===this.parentElement.localName&&this.parentElement.parentElement&&"x-buttons"===this.parentElement.parentElement.localName)return this.parentElement.parentElement}return null}#k=null;#z={};#st=!1;#ht=null;#nt=0;#S=null;constructor(){super(),this.#k=this.attachShadow({mode:"closed"}),this.#k.adoptedStyleSheets=[W.#y],this.#k.append(document.importNode(W.#v.content,!0));for(let t of this.#k.querySelectorAll("[id]"))this.#z[t.id]=t;this.addEventListener("pointerdown",(t=>this.#ot(t))),this.addEventListener("click",(t=>this.#L(t))),this.addEventListener("keydown",(t=>this.#lt(t))),(async()=>{await customElements.whenDefined("x-backdrop"),this.#z.backdrop=U("x-backdrop"),this.#z.backdrop.style.background="rgba(0, 0, 0, 0)"})()}connectedCallback(){this.parentElement&&"a"===this.parentElement.localName&&-1!==this.parentElement.tabIndex&&(this.parentElement.tabIndex=-1),this.#at(),this.#rt(),this.#M(),P.addEventListener("sizechange",this.#S=()=>this.#M())}disconnectedCallback(){P.removeEventListener("sizechange",this.#S)}attributeChangedCallback(t){"disabled"===t?this.#rt():"size"===t&&this.#M()}expand(){return new Promise((async t=>{this.#et()?await this.#dt():this.#it()&&await this.#ut(),t()}))}collapse(t=null){return new Promise((async e=>{this.#ct()?await this.#pt(t):this.#mt()&&await this.#bt(t),e()}))}#dt(){return new Promise((async t=>{if(this.#et()){let t=this.querySelector(":scope > x-menu");this.#st=this.matches(":focus"),this.setAttribute("expanded",""),this.#z.backdrop.ownerElement=t,this.#z.backdrop.show(!1),await t.openNextToElement(this,"vertical",3),t.focus()}t()}))}#pt(t=null){return new Promise((async e=>{if(this.#ct()){let e=this.querySelector(":scope > x-menu");if(e.setAttribute("closing",""),await t,await e.close(),this.#z.backdrop.hide(!1),this.removeAttribute("expanded"),this.replaceWith(this),this.#st)this.focus();else{let t=j(this.parentNode,"[tabindex]");t&&t.focus()}e.removeAttribute("closing")}e()}))}#et(){let t=!1;if(!1===this.disabled){let e=this.querySelector(":scope > x-menu");if(e&&!1===e.hasAttribute("opened")&&!1===e.hasAttribute("closing")){null!==e.querySelector("x-menuitem")&&(t=!0)}}return t}#ct(){let t=!1;if(!1===this.disabled){let e=this.querySelector(":scope > x-menu");e&&e.opened&&(t=!0)}return t}#ut(){return new Promise((async t=>{if(this.#it()){let t=this.querySelector(":scope > x-popover");this.#st=this.matches(":focus"),this.setAttribute("expanded",""),await t.open(this)}t()}))}#bt(t=null){return new Promise((async e=>{if(this.#mt()){let e=this.querySelector(":scope > x-popover");if(e.setAttribute("closing",""),await t,await e.close(),this.removeAttribute("expanded"),e.modal&&this.replaceWith(this),this.#st)this.focus();else{let t=j(this.parentNode,"[tabindex]");t&&t.focus()}e.removeAttribute("closing")}e()}))}#it(){let t=!1;if(!1===this.disabled){let e=this.querySelector(":scope > x-popover");e&&!1===e.hasAttribute("opened")&&(t=!0)}return t}#mt(){let t=!1;if(!1===this.disabled){let e=this.querySelector(":scope > x-popover");e&&e.opened&&(t=!0)}return t}#gt(){return new Promise((t=>{if(this.#xt()){this.querySelector(":scope > dialog").showModal()}t()}))}#xt(){let t=!1;if(!1===this.disabled){let e=this.querySelector(":scope > dialog");e&&!1===e.hasAttribute("open")&&!1===e.hasAttribute("closing")&&(t=!0)}return t}#ft(){return new Promise((t=>{if(this.#wt()){this.querySelector(":scope > x-notification").opened=!0}t()}))}#wt(){let t=!1;if(!1===this.disabled){let e=this.querySelector(":scope > x-notification");!e||e.hasAttribute("opened")||e.hasAttribute("closing")||(t=!0)}return t}#at(){let t=this.querySelector(":scope > x-menu, :scope > x-popover");this.#z.arrow.style.display=t?null:"none"}#rt(){this.setAttribute("role","button"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#nt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#nt>0?this.#nt:0),this.#nt=0)}#M(){let t=P.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}#ot(t){let e=this.querySelector(":scope > x-menu[opened]"),i=this.querySelector(":scope > x-popover[opened]"),s=this.querySelector(":scope > dialog[open]"),h=this.querySelector(":scope > x-notification[opened]");if(this.#ht=t,t.target===this.#z.backdrop)this.#vt(t);else{if(e&&e.contains(t.target))return;if(i&&i.contains(t.target))return;if(s&&s.contains(t.target))return;if(h&&h.contains(t.target))return;this.#yt(t)}}#L(t){let e=this.querySelector(":scope > x-menu[opened]"),i=this.querySelector(":scope > x-popover[opened]"),s=this.querySelector(":scope > dialog[open]"),h=this.querySelector(":scope > x-notification[opened]");if(t.target!==this.#z.backdrop)if(e&&e.contains(t.target))!1===e.hasAttribute("closing")&&t.target.closest("x-menuitem")&&this.#zt(t);else{if(i&&i.contains(t.target))return;if(s&&s.contains(t.target))return;if(h&&h.contains(t.target))return;this.#kt(t)}}#vt(t){this.collapse()}async#yt(t){if(t.buttons>1)t.preventDefault();else if(this.querySelector(":scope > dialog[open]"))t.preventDefault();else if(!1!==this.contains(t.target)){if(this.setPointerCapture(t.pointerId),t.preventDefault(),!1===this.matches(":focus")){let t=j(this.parentNode,"*[tabindex]:not(a)");this.addEventListener("pointerup",(()=>{t?t.focus():this.blur()}),{once:!0})}if(!1===this.#et()&&!1===this.#it()&&!1===this.#mt()){let t=Date.now(),e=!0,i=parseInt(getComputedStyle(this).getPropertyValue("--min-pressed-time")||"150ms");this.addEventListener("pointerup",(async()=>{e=!1;let s=Date.now()-t;s<i&&await X(i-s),this.removeAttribute("pressed")}),{once:!0}),(async()=>{if(this.ownerButtons)if(0===this.ownerButtons.tracking||2===this.ownerButtons.tracking)await X(10);else if(1!==this.ownerButtons.tracking||!1!==this.toggled&&!this.mixed){if(3===this.ownerButtons.tracking){let t=[...this.ownerButtons.querySelectorAll(":scope > x-button, :scope > x-box > x-button")].filter((t=>t.toggled));(!1===this.toggled||t.length>1)&&await X(10)}}else await X(10);else this.togglable&&await X(10);e&&this.setAttribute("pressed","")})()}this.#et()?"touch"!==t.pointerType&&this.#dt():this.#it()?"touch"!==t.pointerType&&this.#ut():this.#mt()&&this.#bt();{let e=getComputedStyle(this).getPropertyValue("--trigger-effect").trim();if("ripple"===e){let e=this.#z.ripples.getBoundingClientRect(),i=1.5*Y(e.width,e.height),s=t.clientY-e.y-i/2,h=t.clientX-e.x-i/2,n=new Promise((t=>this.addEventListener("pointerup",t,{once:!0}))),o=!0;if(!1===this.expandable)if(this.ownerButtons){if(0===this.ownerButtons.tracking||2===this.ownerButtons.tracking)o=!1;else if(1===this.ownerButtons.tracking&&!1===this.toggled)o=!1;else if(3===this.ownerButtons.tracking){let t=[...this.ownerButtons.querySelectorAll(":scope > x-button, :scope > x-box > x-button")].filter((t=>t.toggled));(!1===this.toggled||t.length>1)&&(o=!1)}}else this.togglable&&(o=!1);let l=U("div");l.setAttribute("part","ripple"),l.setAttribute("class","ripple pointer-down-ripple"),l.setAttribute("style",`width: ${i}px; height: ${i}px; top: ${s}px; left: ${h}px;`),this.#z.ripples.append(l),this.#z.ripples.style.contain="strict";let a=l.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});if(await n,o){await a.finished;let t=l.animate({opacity:[getComputedStyle(l).opacity||"0","0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await t.finished}l.remove()}else if("unbounded-ripple"===e){let t=this.#z.ripples.getBoundingClientRect(),e=1.25*t.height,i=t.y+t.height/2-t.y-e/2,s=t.x+t.width/2-t.x-e/2,h=new Promise((t=>this.addEventListener("pointerup",t,{once:!0}))),n=U("div");n.setAttribute("part","ripple"),n.setAttribute("class","ripple pointer-down-ripple"),n.setAttribute("style",`width: ${e}px; height: ${e}px; top: ${i}px; left: ${s}px;`),this.#z.ripples.append(n),this.#z.ripples.style.contain="none",n.hidden=!0,await X(20),n.hidden=!1;let o=n.animate({transform:["scale(0)","scale(1)"]},{duration:200,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await h,await o.finished;let l=n.animate({opacity:[getComputedStyle(n).opacity||"0","0"]},{duration:200,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await l.finished,n.remove()}}}}async#kt(t){let e=this.querySelector(":scope > x-menu, :scope > x-popover");if(e){if(e.hasAttribute("closing"))return;e.focus()}if(!1===this.#mt()&&(this.#xt()?this.#gt():this.#wt()&&this.#ft()),this.#ht&&"touch"===this.#ht.pointerType&&(this.#et()?this.#dt():this.#it()&&this.#ut()),this.togglable&&!1===t.defaultPrevented&&(this.removeAttribute("pressed"),this.toggled=!this.toggled,this.dispatchEvent(new CustomEvent("toggle"))),null===this.#z.ripples.querySelector(".pointer-down-ripple")){let t=getComputedStyle(this).getPropertyValue("--trigger-effect").trim();if("ripple"===t){let t=this.#z.ripples.getBoundingClientRect(),e=1.5*Y(t.width,t.height),i=t.y+t.height/2-t.y-e/2,s=t.x+t.width/2-t.x-e/2,h=!0;this.ownerButtons?(0===this.ownerButtons.tracking||2===this.ownerButtons.tracking||3===this.ownerButtons.tracking||1===this.ownerButtons.tracking&&!0===this.toggled)&&(h=!1):this.togglable&&(h=!1);let n=U("div");n.setAttribute("part","ripple"),n.setAttribute("class","ripple click-ripple"),n.setAttribute("style",`width: ${e}px; height: ${e}px; top: ${i}px; left: ${s}px;`),this.#z.ripples.append(n),this.#z.ripples.style.contain="strict";let o=n.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});if(h){await o.finished;let t=n.animate({opacity:[getComputedStyle(n).opacity||"0","0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await t.finished}n.remove()}else if("unbounded-ripple"===t){let t=this.#z.ripples.getBoundingClientRect(),e=1.35*t.height,i=t.y+t.height/2-t.y-e/2,s=t.x+t.width/2-t.x-e/2,h=U("div");h.setAttribute("part","ripple"),h.setAttribute("class","ripple"),h.setAttribute("style",`width: ${e}px; height: ${e}px; top: ${i}px; left: ${s}px;`),this.#z.ripples.append(h),this.#z.ripples.style.contain="none",await h.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished,await h.animate({opacity:[getComputedStyle(h).opacity||"0","0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished,h.remove()}}}#zt(t){let e=t.target.closest("x-menuitem");this.querySelector(":scope > x-menu").hasAttribute("closing")||this.collapse(e.whenTriggerEnd)}#lt(t){!1===t.defaultPrevented&&("Enter"===t.code||"Space"===t.code?this.#et()?(t.preventDefault(),this.#dt().then((()=>this.querySelector(":scope > x-menu").focusFirstMenuItem()))):this.#it()?(t.preventDefault(),this.#ut()):this.#xt()?(t.preventDefault(),this.#gt()):this.#wt()?(t.preventDefault(),this.#ft()):this.matches(":focus")&&(this.#mt()?this.#bt():this.#ct()?this.#pt():(t.preventDefault(),this.click())):"ArrowDown"===t.code?this.#et()?(this.querySelector(":scope > x-menu"),t.preventDefault(),this.#dt().then((()=>this.querySelector(":scope > x-menu").focusFirstMenuItem()))):this.#it()?(t.preventDefault(),this.#ut()):(t.preventDefault(),this.click()):"ArrowUp"===t.code?this.#et()?(t.preventDefault(),this.#dt().then((()=>this.querySelector(":scope > x-menu").focusLastMenuItem()))):this.#it()?(t.preventDefault(),this.#ut()):(t.preventDefault(),this.click()):"Escape"===t.code&&(this.#ct()||this.#mt())&&(t.preventDefault(),this.collapse()))}}customElements.define("x-button",W);let{isArray:J}=Array;class Q extends HTMLElement{static#v=L`<template><slot></slot></template>`;static#y=T`:host{display:flex;flex-flow:row;align-items:center;justify-content:flex-start;box-sizing:border-box;width:fit-content}:host([hidden]){display:none}`;get tracking(){return this.hasAttribute("tracking")?parseInt(this.getAttribute("tracking")):-1}set tracking(t){this.setAttribute("tracking",t)}get vertical(){return this.hasAttribute("vertical")}set vertical(t){!0===t?this.setAttribute("vertical",""):this.removeAttribute("vertical")}get value(){if(2===this.tracking||3===this.tracking){return this.#Ct().filter((t=>t.toggled)).map((t=>t.value)).filter((t=>null!=t))}if(1===this.tracking||0===this.tracking){let t=this.#Ct().find((t=>t.toggled));return t&&void 0!==t.value?t.value:null}if(-1===this.tracking)return null}set value(t){if(2===this.tracking||3===this.tracking){let e=this.#Ct();if(J(t))for(let i of e)i.toggled=t.includes(i.value);else for(let i of e)i.toggled=i.value===t}else if(1===this.tracking||0===this.tracking){let e=this.#Ct(),i=e.find((e=>e.value===t));for(let t of e)t.toggled=t===i}}#k=null;constructor(){super(),this.#k=this.attachShadow({mode:"closed"}),this.#k.adoptedStyleSheets=[Q.#y],this.#k.append(document.importNode(Q.#v.content,!0)),this.addEventListener("click",(t=>this.#L(t)),!0),this.addEventListener("keydown",(t=>this.#lt(t)))}connectedCallback(){for(let t of this.children)if("x-button"===t.localName){"none"!==getComputedStyle(t).boxShadow?this.setAttribute("hasboxshadow",""):this.removeAttribute("hasboxshadow");break}}#Ct(){return[...this.querySelectorAll(":scope > x-button, :scope > x-box > x-button")]}#L(t){if(t.buttons>1)return;let e=t.target.closest("x-button");if(e&&!1===e.disabled&&!1===e.expandable){let t=this.#Ct().filter((t=>t!==e));if(0===this.tracking){e.mixed||(e.toggled=!e.toggled),e.mixed=!1;for(let e of t)e.toggled=!1,e.mixed=!1;this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}))}else if(1===this.tracking){if(!1===e.toggled||!0===e.mixed){e.toggled=!0,e.mixed=!1;for(let e of t)e.toggled=!1,e.mixed=!1;this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}))}}else if(2===this.tracking)e.mixed?e.mixed=!1:e.toggled=!e.toggled,this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}));else if(3===this.tracking){let i=t.filter((t=>!0===t.toggled));(!1===e.toggled||i.length>0)&&(e.mixed?e.mixed=!1:e.toggled=!e.toggled,this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e})))}}}#lt(t){let{key:e}=t;if("ArrowRight"===e){let t=[...this.children].find((t=>t.matches(":focus")));t&&(t.nextElementSibling?t.nextElementSibling.focus():t!==t.parentElement.firstElementChild&&t.parentElement.firstElementChild.focus())}else if("ArrowLeft"===e){let t=[...this.children].find((t=>t.matches(":focus")));t&&(t.previousElementSibling?t.previousElementSibling.focus():t!==t.parentElement.lastElementChild&&t.parentElement.lastElementChild.focus())}}}customElements.define("x-buttons",Q);class _ extends HTMLElement{static#v=L`<template><slot></slot></template>`;static#y=T`:host{display:block;width:100%;min-width:20px;min-height:48px;box-sizing:border-box;margin:30px 0}:host([hidden]){display:none}`;#k=null;constructor(){super(),this.#k=this.attachShadow({mode:"closed"}),this.#k.adoptedStyleSheets=[_.#y],this.#k.append(document.importNode(_.#v.content,!0))}}customElements.define("x-card",_);class tt extends HTMLElement{static observedAttributes=["toggled","disabled","size"];static#v=L`<template><main id="main"><div id="indicator" part="indicator"><div id="ripples"></div><svg id="checkmark" viewBox="0 0 100 100" preserveAspectRatio="none"><path></path></svg></div><div id="description"><slot></slot></div></main></template>`;static#y=T`:host{display:block;width:fit-content;--trigger-effect:none}:host([disabled]){opacity:.4;pointer-events:none}:host([hidden]){display:none}:host(:focus){outline:0}#main{display:flex;align-items:center}#indicator{position:relative;width:19px;height:19px;box-sizing:border-box;border:2px solid currentColor;d:path("M 0 0 L 100 0 L 100 100 L 0 100 L 0 0 Z M 95 23 L 86 13 L 37 66 L 13.6 41 L 4.5 51 L 37 85 L 95 23 Z")}:host([mixed]) #indicator{d:path("M 0 0 L 100 0 L 100 100 L 0 100 Z M 87 42.6 L 13 42.6 L 13 57.4 L 87 57.4 Z")}#checkmark{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;d:inherit;transition-property:opacity;transition-timing-function:inherit;transition-duration:inherit}:host([mixed]) #checkmark{opacity:1}:host([toggled]) #checkmark{opacity:1}#checkmark path{fill:currentColor;d:inherit}#ripples{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}#ripples .ripple{position:absolute;top:0;left:0;width:100%;height:100%;background:currentColor;opacity:.15;z-index:-1;will-change:opacity,transform;border-radius:999px;transform:scale(2.6)}#description{flex:1}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get toggled(){return this.hasAttribute("toggled")}set toggled(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#k=null;#z={};#nt=0;#S=null;constructor(){super(),this.#k=this.attachShadow({mode:"closed"}),this.#k.adoptedStyleSheets=[tt.#y],this.#k.append(document.importNode(tt.#v.content,!0));for(let t of this.#k.querySelectorAll("[id]"))this.#z[t.id]=t;this.addEventListener("pointerdown",(t=>this.#ot(t))),this.addEventListener("click",(t=>this.#L(t))),this.addEventListener("keydown",(t=>this.#lt(t)))}connectedCallback(){P.addEventListener("sizechange",this.#S=()=>this.#M()),this.#rt(),this.#M()}disconnectedCallback(){P.removeEventListener("sizechange",this.#S)}attributeChangedCallback(t){"toggled"===t?this.#St():"disabled"===t?this.#Et():"size"===t&&this.#M()}#rt(){this.setAttribute("role","checkbox"),this.setAttribute("aria-checked",this.mixed?"mixed":this.toggled),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#nt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#nt>0?this.#nt:0),this.#nt=0)}#M(){let t=P.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}#St(){this.setAttribute("aria-toggled",this.mixed?"mixed":this.toggled)}#Et(){this.#rt()}#ot(t){if(t.buttons>1)t.preventDefault();else{if(!1===this.matches(":focus")){t.preventDefault();let e=j(this.parentNode,"[tabindex]");e&&e.focus()}if("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim()){let e=U("div");e.setAttribute("class","ripple pointer-down-ripple"),this.#z.ripples.append(e);let i=e.animate({transform:["scale(0)","scale(2.6)"]},{duration:200,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});this.setPointerCapture(t.pointerId),this.addEventListener("pointerup",(async()=>{await i.finished;let t=e.animate({opacity:[getComputedStyle(e).opacity,"0"]},{duration:200,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await t.finished,e.remove()}),{once:!0})}}}async#L(t){if(this.mixed?this.mixed=!1:this.toggled=!this.toggled,this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0})),null===this.#z.ripples.querySelector(".pointer-down-ripple")){if("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim()){let t=U("div");t.setAttribute("class","ripple"),this.#z.ripples.append(t),await t.animate({transform:["scale(0)","scale(2.6)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished,await t.animate({opacity:[getComputedStyle(t).opacity,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished,t.remove()}}}#lt(t){"Enter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.click())}}customElements.define("x-checkbox",tt);class et extends HTMLElement{static observedAttributes=["value","disabled","size"];static#v=L`<template><input tabindex="-1" id="input" type="color" value="#ffffff"><slot></slot></template>`;static#y=T`:host{display:block;width:32px;height:32px;box-sizing:border-box;position:relative;overflow:hidden;background-color:#fff;background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}:host([hidden]){display:none}:host([disabled]){pointer-events:none;opacity:.4}::slotted(x-popover){width:190px;height:auto;padding:12px 12px}#input{display:flex;width:100%;height:100%;box-sizing:border-box;border:none;background:0 0;padding:0;opacity:0;-webkit-appearance:none}#input::-webkit-color-swatch-wrapper{padding:0}#input::-webkit-color-swatch{border:none}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):"#ffffff"}set value(t){this.setAttribute("value",t)}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#k=null;#z={};#At=!1;#st=!1;#S=null;#nt=0;constructor(){super(),this.#k=this.attachShadow({mode:"closed"}),this.#k.adoptedStyleSheets=[et.#y],this.#k.append(document.importNode(et.#v.content,!0));for(let t of this.#k.querySelectorAll("[id]"))this.#z[t.id]=t;this.addEventListener("click",(t=>this.#L(t))),this.addEventListener("keydown",(t=>this.#lt(t))),this.addEventListener("pointerdown",(t=>this.#ot(t))),this.addEventListener("change",(t=>this.#Lt(t))),this.#z.input.addEventListener("change",(t=>this.#Tt(t)))}connectedCallback(){let t=this.querySelector("x-wheelcolorpicker, x-rectcolorpicker, x-barscolorpicker");t&&t.setAttribute("value",y(this.value,"rgba")),this.#rt(),this.#M(),this.#Mt(),P.addEventListener("sizechange",this.#S=()=>this.#M())}disconnectedCallback(){P.removeEventListener("sizechange",this.#S)}attributeChangedCallback(t){"value"===t?this.#V():"disabled"===t?this.#Et():"size"===t&&this.#Z()}async#Dt(){if(!1===this.hasAttribute("expanded")){let t=this.querySelector("x-popover");t&&(this.#st=this.matches(":focus"),this.setAttribute("expanded",""),await t.open(this),t.focus())}}async#$t(t=null){if(this.hasAttribute("expanded")){let t=this.querySelector("x-popover");if(t){if(t.setAttribute("closing",""),await t.close(),this.removeAttribute("expanded"),this.#st)this.focus();else{let t=j(this.parentNode,"[tabindex]");t&&t.focus()}t.removeAttribute("closing")}}}#Mt(){let[t,e,i,s]=(new E).parse(this.value,"rgba");this.#z.input.value=v([t,e,i,s],"rgba","hex"),this.#z.input.style.opacity=s}#rt(){this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#nt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#nt>0?this.#nt:0),this.#nt=0)}#M(){let t=P.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}#V(){this.#At||this.#Mt();let t=[...this.querySelectorAll("*")].find((t=>t.localName.endsWith("colorpicker")));t&&t.getAttribute("value")!==this.getAttribute("value")&&t.setAttribute("value",this.getAttribute("value"))}#Et(){this.#rt()}#Z(){this.#M()}#Lt(t){t.target!==this&&(this.value=y(t.target.value,"rgba"),this.#Mt())}#Tt(){!1===this.#At&&(this.#At=!0,this.dispatchEvent(new CustomEvent("changestart"))),this.value=this.#z.input.value,this.dispatchEvent(new CustomEvent("change")),this.#Pt()}#Pt=G((()=>{this.#At&&(this.#At=!1,this.value=this.#z.input.value,this.dispatchEvent(new CustomEvent("changeend")))}),400);#ot(t){t.target===this&&t.preventDefault()}#L(t){let e=this.querySelector(":scope > x-popover");e&&(e.opened?(!1===e.modal&&t.target===this||!0===e.modal&&"x-backdrop"===t.target.localName)&&(t.preventDefault(),this.#$t()):(t.preventDefault(),this.#Dt()))}#lt(t){if("Enter"===t.code||"Space"===t.code){let e=this.querySelector("x-popover");t.preventDefault(),t.stopPropagation(),e?this.hasAttribute("expanded")?this.#$t():this.#Dt():this.#z.input.click()}else if("Escape"===t.code){this.querySelector("x-popover")&&this.hasAttribute("expanded")&&(t.preventDefault(),this.#$t())}else"Tab"===t.code&&this.hasAttribute("expanded")&&t.preventDefault()}}customElements.define("x-colorselect",et);class it extends HTMLElement{static#v=L`<template><slot></slot></template>`;static#y=T`:host{display:block;position:fixed;width:0;height:0;z-index:1001}`;get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}#k=null;#z={};#Rt=null;#It=null;#Ot=null;constructor(){super(),this.#k=this.attachShadow({mode:"closed"}),this.#k.adoptedStyleSheets=[it.#y],this.#k.append(document.importNode(it.#v.content,!0)),this.#z.backdrop=U("x-backdrop"),this.#z.backdrop.style.background="rgba(0, 0, 0, 0)",this.#z.backdrop.addEventListener("contextmenu",(t=>this.#Bt(t))),this.#z.backdrop.addEventListener("pointerdown",(t=>this.#vt(t))),this.addEventListener("blur",(t=>this.#Ht())),this.addEventListener("keydown",(t=>this.#lt(t)),!0),this.addEventListener("click",(t=>this.#L(t)))}connectedCallback(){this.#Rt=this.parentElement||this.parentNode.host,window.addEventListener("blur",this.#It=()=>{this.#Ht()}),this.#Rt.addEventListener("contextmenu",this.#Ot=t=>{this.#Ft(t)})}disconnectedCallback(){window.removeEventListener("blur",this.#It),this.#Rt.removeEventListener("contextmenu",this.#Ot),this.#Rt=null}open(t,e){let i=this.querySelector("x-menu");!1===i.opened&&(i.openAtPoint(t,e),this.#z.backdrop.ownerElement=i,this.#z.backdrop.show(!1),i.focus())}close(){return new Promise((async t=>{let e=this.querySelector("x-menu");if(e&&!0===e.opened){await e.close(),this.#z.backdrop.hide(!1);let t=j(this.parentNode,"[tabindex]");t&&t.focus()}t()}))}#Ht(){this.close()}#Ft(t){!1===this.disabled&&(t.preventDefault(),this.open(t.clientX,t.clientY))}#Bt(t){t.preventDefault(),t.stopImmediatePropagation(),this.close().then((()=>{let e=((t,e,i=!0)=>{let s=document.elementFromPoint(t,e);if(i&&s)for(;;){let i=s.shadowRoot||s._shadowRoot;if(!i)break;{let h=i.elementFromPoint(t,e);if(h.getRootNode()!==i&&(h=null),!h||h===s)break;s=h}}return s})(t.clientX,t.clientY,!0),i=new MouseEvent(t.type,t);e.dispatchEvent(i)}))}#vt(t){t.buttons<=1&&(t.preventDefault(),t.stopImmediatePropagation(),this.close())}async#L(t){let e=t.target.closest("x-menuitem");if(e&&!1===e.disabled){let t=e.querySelector("x-menu");t?t.opened?t.close():t.openNextToElement(e,"horizontal"):(this.setAttribute("closing",""),await e.whenTriggerEnd,await this.close(),this.removeAttribute("closing"))}}#lt(t){if("Escape"===t.key){this.querySelector("x-menu").opened&&(t.preventDefault(),this.close())}else if("Tab"===t.key){t.preventDefault(),t.stopPropagation(),this.querySelector("x-menu").focusNextMenuItem()}}}customElements.define("x-contextmenu",it);let{max:st}=Math;class ht extends HTMLElement{static observedAttributes=["selected","disabled","size"];static#v=L`<template><div id="ripples"></div><div id="selection-indicator" part="selection-indicator"></div><slot></slot><svg id="close-button" part="close-button" viewBox="0 0 100 100" preserveAspectRatio="none"><path id="close-button-path"></path></svg></template>`;static#y=T`:host{display:flex;align-items:center;justify-content:center;position:relative;width:100%;height:100%;min-width:1px;max-width:220px;padding:0 18px;flex:1 0 0;transition-property:max-width,padding,order;transition-duration:.15s;transition-timing-function:cubic-bezier(0.4,0.0,0.2,1);cursor:default;user-select:none;touch-action:pan-y;box-sizing:border-box;will-change:max-width;z-index:0;-webkit-app-region:no-drag;--trigger-effect:none}:host(:focus){outline:0}:host([closing]){pointer-events:none}:host([selected]){z-index:1}:host([disabled]){pointer-events:none;opacity:.5}#close-button{display:flex;align-items:center;justify-content:center;position:static;left:0;right:initial;width:18px;height:18px;margin:0 0 0 auto;opacity:.8;padding:1px;d:path("M 74 31 L 69 26 L 50 45 L 31 26 L 26 31 L 45 50 L 26 69 L 31 74 L 50 55 L 69 74 L 74 69 L 55 50 Z")}:host([edited]) #close-button{d:path("M 68 50 C 68 60 60 68 50 68 C 40 68 32 60 32 50 C 32 40 40 32 50 32 C 60 32 68 40 68 50 Z")}#close-button:hover{background:rgba(0,0,0,.08);opacity:1}#close-button-path{pointer-events:none;d:inherit;fill:currentColor}#ripples{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;z-index:-1;contain:strict}#ripples .ripple{position:absolute;top:0;left:0;width:200px;height:200px;background:currentColor;opacity:.2;border-radius:999px;will-change:opacity,transform;pointer-events:none}#selection-indicator{display:none;position:absolute;bottom:0;left:0;width:100%;height:0;pointer-events:none}:host([selected]) #selection-indicator{display:block}:host([animatingindicator]) #selection-indicator{display:block}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):""}set value(t){this.setAttribute("value",t)}get selected(){return this.hasAttribute("selected")}set selected(t){t?this.setAttribute("selected",""):this.removeAttribute("selected")}get edited(){return this.hasAttribute("edited")}set edited(t){t?this.setAttribute("edited",""):this.removeAttribute("edited")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}get ownerTabs(){return this.closest("x-doctabs")}#k=null;#z={};#S=null;constructor(){super(),this.#k=this.attachShadow({mode:"closed"}),this.#k.adoptedStyleSheets=[ht.#y],this.#k.append(document.importNode(ht.#v.content,!0));for(let t of this.#k.querySelectorAll("[id]"))this.#z[t.id]=t;this.addEventListener("pointerdown",(t=>this.#ot(t))),this.addEventListener("click",(t=>this.#L(t))),this.#z["close-button"].addEventListener("pointerdown",(t=>this.#Nt(t))),this.#z["close-button"].addEventListener("click",(t=>this.#qt(t)))}connectedCallback(){this.#rt(),this.#M(),P.addEventListener("sizechange",this.#S=()=>this.#M())}disconnectedCallback(){P.removeEventListener("sizechange",this.#S)}attributeChangedCallback(t,e,i){e!==i&&("selected"===t||"disabled"===t?this.#rt():"size"===t&&this.#M())}animateSelectionIndicator(t){return new Promise((async e=>{if("0px"!==this.#z["selection-indicator"].style.height){let e=this.getBoundingClientRect(),i=t.getBoundingClientRect();this.setAttribute("animatingindicator","");let s=this.#z["selection-indicator"].animate([{left:"0px",width:e.width+"px"},{left:i.left-e.left+"px",width:i.width+"px"}],{duration:100,iterations:1,delay:0,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)"});await s.finished,this.removeAttribute("animatingindicator")}e()}))}#rt(){this.setAttribute("tabindex",this.selected?"0":"-1"),this.setAttribute("role","tab"),this.setAttribute("aria-selected",this.selected),this.setAttribute("aria-disabled",this.disabled)}#M(){let t=P.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}#ot(t){if(t.buttons>1)t.preventDefault();else{if(!1===this.matches(":focus")){t.preventDefault();let e=j(this.parentNode,"[tabindex]");e&&e.focus()}{let e=Date.now();this.setAttribute("pressed",""),this.setPointerCapture(t.pointerId),this.addEventListener("pointerup",(async t=>{if(!0===this.selected){let t=Date.now()-e,i=100;t<i&&await X(i-t)}this.removeAttribute("pressed")}),{once:!0})}if("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim()){let e=this.#z.ripples.getBoundingClientRect(),i=1.5*st(e.width,e.height),s=t.clientY-e.y-i/2,h=t.clientX-e.x-i/2,n=U("div");n.setAttribute("class","ripple pointer-down-ripple"),n.setAttribute("style",`width: ${i}px; height: ${i}px; top: ${s}px; left: ${h}px;`),this.#z.ripples.append(n);let o=n.animate({transform:["scale(0)","scale(1)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});this.ownerTabs.setPointerCapture(t.pointerId),this.ownerTabs.addEventListener("pointerup",(async()=>{await o.finished;let t=getComputedStyle(n).opacity,e=n.animate({opacity:[t,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await e.finished,n.remove()}),{once:!0})}}}async#L(t){if(!(t.buttons>1)&&null===this.#z.ripples.querySelector(".pointer-down-ripple")){if("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim()){let t=this.#z.ripples.getBoundingClientRect(),e=1.5*st(t.width,t.height),i=t.y+t.height/2-t.y-e/2,s=t.x+t.width/2-t.x-e/2,h=U("div");h.setAttribute("class","ripple click-ripple"),h.setAttribute("style",`width: ${e}px; height: ${e}px; top: ${i}px; left: ${s}px;`),this.#z.ripples.append(h);let n=h.animate({transform:["scale(0)","scale(1)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await n.finished;let o=getComputedStyle(h).opacity,l=h.animate({opacity:[o,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await l.finished,h.remove()}}}#Nt(t){if(!(t.buttons>1)){if(!1===this.matches(":focus")){t.preventDefault();let e=j(this.parentNode,"[tabindex]");e&&e.focus()}t.stopPropagation()}}#qt(t){if(t.buttons>1)return;t.stopPropagation();let e=new CustomEvent("close",{bubbles:!0,cancelable:!0,detail:this});this.dispatchEvent(e),!1===e.defaultPrevented&&this.ownerTabs.closeTab(this)}}customElements.define("x-doctab",ht);let{parseInt:nt}=Number;class ot extends HTMLElement{static observedAttributes=["size"];static#v=L`<template><slot></slot><svg id="open-button" part="open-button" viewBox="0 0 100 100" preserveAspectRatio="none"><path id="open-button-path"></path></svg></template>`;static#y=T`:host{display:flex;align-items:center;width:100%;height:32px;position:relative}:host(:focus){outline:0}:host([disabled]){opacity:.5;pointer-events:none}#open-button{display:flex;align-items:center;justify-content:center;width:18px;height:18px;margin:0 4px;order:9999;color:inherit;d:path("M 79 54 L 54 54 L 54 79 L 46 79 L 46 54 L 21 54 L 21 46 L 46 46 L 46 21 L 54 21 L 54 46 L 79 46 L 79 54 Z");-webkit-app-region:no-drag}#open-button-path{d:inherit;fill:currentColor}`;get disabled(){return this.hasAttribute("disabled")}set disabled(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get maxTabs(){return this.hasAttribute("maxtabs")?nt(this.getAttribute("maxtabs")):20}set maxTabs(t){this.setAttribute("maxtabs",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#k=null;#z={};#S=null;#Ut=!1;#jt=!1;constructor(){super(),this.#k=this.attachShadow({mode:"closed",delegatesFocus:!1}),this.#k.adoptedStyleSheets=[ot.#y],this.#k.append(document.importNode(ot.#v.content,!0));for(let t of this.#k.querySelectorAll("[id]"))this.#z[t.id]=t;this.addEventListener("pointerdown",(t=>this.#ot(t))),this.addEventListener("keydown",(t=>this.#lt(t))),this.#z["open-button"].addEventListener("click",(t=>this.#Kt(t)))}connectedCallback(){this.#M(),P.addEventListener("sizechange",this.#S=()=>this.#M())}disconnectedCallback(){P.removeEventListener("sizechange",this.#S)}attributeChangedCallback(t,e,i){e!==i&&"size"===t&&this.#M()}#M(){let t=P.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}openTab(t,e=!0){return new Promise((async(i,s)=>{if(this.querySelectorAll("x-doctab").length>=this.maxTabs)s(`Can't open more than ${this.maxTabs} tabs.`);else{let s=0;for(let t of this.children){let e=nt(t.style.order);!Number.isNaN(e)&&e>s&&(s=e)}t.style.order=s,!1===e?(t.style.transition="none",t.style.maxWidth=null,t.style.padding=null,this.append(t),i(t)):!0===e&&(t.style.transition=null,t.style.maxWidth="0px",t.style.padding="0px",t.setAttribute("opening",""),this.append(t),await X(30),t.addEventListener("transitionend",(()=>{t.removeAttribute("opening"),i(t)}),{once:!0}),t.style.maxWidth=null,t.style.padding=null)}}))}closeTab(t,e=!0){return new Promise((async i=>{let s=this.getTabsByScreenIndex().filter((t=>!1===t.hasAttribute("closing"))),h=t.getBoundingClientRect().width,n=this.#Xt(t);if(t.setAttribute("closing",""),n<s.length-1)for(let t of this.children)!1===t.hasAttribute("closing")&&(t.style.transition="none",t.style.maxWidth=h+"px");if(t.style.transition=e?null:"none",t.style.maxWidth="0px",t.style.pointerEvents="none",this.#Ut=!0,t.selected){let e=s[s.indexOf(t)-1],i=s[s.indexOf(t)+1];t.selected=!1,i?i.selected=!0:e&&(e.selected=!0)}if(t.matches(":focus")){let t=this.querySelector("x-doctab[selected]");t?t.focus():this.focus()}if(t.style.maxWidth="0px",t.style.padding="0px",e&&await X(150),t.remove(),this.#Ut=!1,t.removeAttribute("closing"),i(),!this.#jt){this.#jt=!0,await this.#Vt(3),this.#jt=!1;for(let t of this.children)t.style.transition=null,t.style.maxWidth=null,t.style.order=this.#Xt(t)}}))}selectPreviousTab(){this.getTabsByScreenIndex();let t=this.querySelector("x-doctab[selected]")||this.querySelector("x-doctab"),e=this.#Zt(t);return t&&e?(this.selectTab(e),e):null}selectNextTab(){this.getTabsByScreenIndex();let t=this.querySelector("x-doctab[selected]")||this.querySelector("x-doctab:last-of-type"),e=this.#Gt(t);return t&&e?(this.selectTab(e),e):null}selectTab(t){let e=this.querySelector("x-doctab[selected]")||this.querySelector("x-doctab:last-of-type");e&&(e.tabIndex=-1,e.selected=!1),t.tabIndex=0,t.selected=!0}moveSelectedTabLeft(){let t=this.querySelector("x-doctab[selected]"),e=this.#Xt(t);for(let t of this.children)t.style.order=this.#Xt(t);if(0===nt(t.style.order))for(let e of this.children)e.style.order=e===t?this.childElementCount-1:nt(e.style.order)-1;else{let i=this.#Yt(e-1);i.style.order=nt(i.style.order)+1,t.style.order=nt(t.style.order)-1}}moveSelectedTabRight(){let t=this.querySelector("x-doctab[selected]"),e=this.#Xt(t);for(let t of this.children)t.style.order=this.#Xt(t);if(nt(t.style.order)===this.childElementCount-1)for(let e of this.children)e.style.order=e===t?0:nt(e.style.order)+1;else{let i=this.#Yt(e+1);i.style.order=nt(i.style.order)-1,t.style.order=nt(t.style.order)+1}}#Vt(t=3){return new Promise((e=>{let i,s,h,n=null,o=()=>{window.removeEventListener("pointermove",i),window.removeEventListener("pointerout",s),window.removeEventListener("blur",h)};window.addEventListener("pointermove",i=i=>{if(null===n)n={x:i.clientX,y:i.clientY};else{let s={x:i.clientX,y:i.clientY};r(n,s)>=t&&(o(),e())}}),window.addEventListener("pointerout",s=t=>{null===t.toElement&&(o(),e())}),window.addEventListener("blur",h=()=>{o(),e()})}))}getTabsByScreenIndex(){let t=Symbol();for(let e of this.children)e[t]=this.#Xt(e);return[...this.children].sort(((e,i)=>e[t]>i[t]))}#Xt(t){let e=t.getBoundingClientRect(),i=this.getBoundingClientRect();if(e.left-i.left<e.width/2)return 0;{let t=e.width/2;for(let s=1;s<this.maxTabs;s+=1){if(e.left-i.left>=t&&e.left-i.left<t+e.width)return s>this.childElementCount-1?this.childElementCount-1:s;t+=e.width}}}#Yt(t){for(let e of this.children)if(this.#Xt(e)===t)return e;return null}#Zt(t,e=!0,i=!0){let s=this.getTabsByScreenIndex(),h=s.indexOf(t),n=null;for(let t=h-1;t>=0;t-=1){let i=s[t];if(!e||!i.disabled){n=i;break}}if(i&&null===n)for(let t=s.length-1;t>h;t-=1){let i=s[t];if(!e||!i.disabled){n=i;break}}return n}#Gt(t,e=!0,i=!0){let s=this.getTabsByScreenIndex(),h=s.indexOf(t),n=null;for(let t=h+1;t<s.length;t+=1){let i=s[t];if(!e||!i.disabled){n=i;break}}if(i&&null===n)for(let t=0;t<h;t+=1){let i=s[t];if(!e||!i.disabled){n=i;break}}return n}#ot(t){t.buttons<=1&&!this.#Ut&&t.target.closest("x-doctab")&&this.#Wt(t)}async#Wt(t){if(!1===t.isPrimary)return;let e,i,s=t.target.closest("x-doctab"),h=this.querySelector("x-doctab[selected]");h!==s&&(h?h.animateSelectionIndicator(s).then((()=>{this.selectTab(s),this.dispatchEvent(new CustomEvent("select",{detail:s}))})):(this.selectTab(s),this.dispatchEvent(new CustomEvent("select",{detail:s})))),this.setPointerCapture(t.pointerId);let n=new DOMPoint(t.clientX,t.clientY);this.addEventListener("pointermove",e=h=>{let o=new DOMPoint(h.clientX,h.clientY),l=h.timeStamp-t.timeStamp,a=r(n,o)>3||l>80;h.isPrimary&&a&&(this.removeEventListener("pointermove",e),this.removeEventListener("pointerup",i),this.#Jt(t,s))}),this.addEventListener("pointerup",i=()=>{this.removeEventListener("pointermove",e),this.removeEventListener("pointerup",i)})}#Jt(t,e){let i=e.getBoundingClientRect(),s=this.getBoundingClientRect(),h=Symbol(),n=Symbol(),o=Symbol();e.style.zIndex=999,this.#z["open-button"].style.setProperty("opacity","0","important");for(let t of this.children){let i=this.#Xt(t);t[n]=i,t[h]=i,t[o]=t.getBoundingClientRect().left-s.left,t!==e&&(t.style.transition="transform 0.15s cubic-bezier(0.4, 0, 0.2, 1)")}let l=(t,s)=>{if(s>t+1)for(let e=t;e<s;e+=1)l(e,e+1);else if(s<t-1)for(let e=t;e>s;e-=1)l(e,e-1);else for(let h of this.children)if(h!==e){h[n]===s&&(h[n]=t);let e=-h[o];for(let t=0;t<h[n];t+=1)e+=i.width;h.style.transform=0===e?null:"translate("+e+"px)"}},a=h=>{if(h.isPrimary){let a=h.clientX-t.clientX;a+e[o]<=0?a=-e[o]:a+e[o]+i.width>s.width&&(a=s.width-e[o]-i.width),e.style.transform="translate("+a+"px)";let r=this.#Xt(e);if(r!==e[n]){let t=e[n];e[n]=r,l(t,e[n])}}},r=async t=>{this.removeEventListener("pointermove",a),this.removeEventListener("pointerup",r);let s=-e[o];for(let t=0;t<e[n];t+=1)s+=i.width;e.style.transition="transform 0.15s cubic-bezier(0.4, 0, 0.2, 1)",e.style.transform="translate("+s+"px)",e[h]!==e[n]&&this.dispatchEvent(new CustomEvent("rearrange")),await X(150),e.style.zIndex=null,this.#z["open-button"].style.opacity=null;for(let t of this.children)t.style.transition="none",t.style.transform="translate(0px, 0px)",t.style.order=t[n]};this.addEventListener("pointermove",a),this.addEventListener("pointerup",r)}#Kt(t){if(t.buttons<=1){let t=new CustomEvent("open",{cancelable:!0});if(this.dispatchEvent(t),!1===t.defaultPrevented){let t=L`<x-doctab><x-label>Untitled</x-label></x-doctab>`;t.style.order=this.childElementCount,this.openTab(t),this.selectTab(t)}}}#lt(t){if(!(t.ctrlKey||t.altKey||t.metaKey||t.shiftKey))if("Enter"===t.code||"Space"===t.code){let e=this.querySelector('x-doctab[tabindex="0"]'),i=this.querySelector("x-doctab[selected]");t.preventDefault(),e.click(),e!==i&&(i?i.animateSelectionIndicator(e).then((()=>{this.selectTab(e),this.dispatchEvent(new CustomEvent("select",{detail:e}))})):(this.selectTab(e),this.dispatchEvent(new CustomEvent("select",{detail:e}))))}else if("ArrowLeft"===t.code){this.getTabsByScreenIndex();let e=this.querySelector('x-doctab[tabindex="0"]'),i=this.#Zt(e);i&&(t.preventDefault(),e.tabIndex=-1,i.tabIndex=0,i.focus())}else if("ArrowRight"===t.code){this.getTabsByScreenIndex();let e=this.querySelector('x-doctab[tabindex="0"]'),i=this.#Gt(e);i&&(t.preventDefault(),e.tabIndex=-1,i.tabIndex=0,i.focus())}}}customElements.define("x-doctabs",ot);class lt extends HTMLElement{static observedAttributes=["name","iconset","size"];static#v=L`<template><svg id="svg" preserveAspectRatio="none" viewBox="0 0 100 100" width="0px" height="0px"></svg></template>`;static#y=T`:host{display:block;color:currentColor;display:flex;align-items:center;justify-content:center;width:17px;height:17px}:host([disabled]){opacity:.5}:host([hidden]){display:none}#svg{width:100%;height:100%;fill:currentColor;stroke:none;overflow:inherit;pointer-events:none}`;get name(){return this.hasAttribute("name")?this.getAttribute("name"):""}set name(t){this.setAttribute("name",t)}get iconset(){return!1===this.hasAttribute("iconset")||""===this.getAttribute("iconset").trim()?null:this.getAttribute("iconset")}set iconset(t){null===t||""===t.trim()?this.removeAttribute("iconset"):this.setAttribute("iconset",t)}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#k=null;#z={};#Qt=null;#S=null;constructor(){super(),this.#k=this.attachShadow({mode:"closed"}),this.#k.adoptedStyleSheets=[lt.#y],this.#k.append(document.importNode(lt.#v.content,!0));for(let t of this.#k.querySelectorAll("[id]"))this.#z[t.id]=t}connectedCallback(){P.addEventListener("iconsetchange",this.#Qt=()=>{this.#X()}),P.addEventListener("sizechange",this.#S=()=>{this.#M()}),this.#X(),this.#M()}disconnectedCallback(){P.removeEventListener("iconsetchange",this.#Qt),P.removeEventListener("sizechange",this.#S)}attributeChangedCallback(t,e,i){e!==i&&("name"===t||"iconset"===t?this.#X():"size"===t&&this.#M())}async#X(){if(""===this.name)this.#z.svg.innerHTML="";else{let t=null;if(this.iconset){let e=await $(this.iconset);e&&(t=e.querySelector("#"+CSS.escape(this.name)))}else await P.whenIconsetReady,t=P.iconsetElement.querySelector("#"+CSS.escape(this.name));t?(this.#z.svg.setAttribute("viewBox",t.getAttribute("viewBox")),this.#z.svg.innerHTML=t.innerHTML):this.#z.svg.innerHTML=""}}#M(){let t=P.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}}customElements.define("x-icon",lt);class at extends HTMLElement{static observedAttributes=["type","value","spellcheck","maxlength","readonly","disabled","validation","size"];static#v=L`<template><main id="main"><slot></slot><input id="input" spellcheck="false" part="input"></main></template>`;static#y=T`:host{display:block;position:relative;max-width:160px;height:32px;box-sizing:border-box;background:#fff;font-size:12.5px}:host(:focus){z-index:10}:host(:hover){cursor:text}:host([mixed]){color:rgba(0,0,0,.7)}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}:host([error]) ::selection{color:#fff;background-color:#d50000}#main{display:flex;align-items:center;width:100%;height:100%}#input{width:100%;height:100%;padding:0 6px;box-sizing:border-box;color:inherit;background:0 0;border:none;outline:0;font-family:inherit;font-size:inherit;font-weight:inherit;text-align:inherit;cursor:inherit}#input:-webkit-autofill{z-index:1}#input:-internal-autofill-previewed,#input:-internal-autofill-selected{-webkit-box-shadow:var(--autofill-background-color) 0 0 0 30px inset}:host(:not(:focus)) ::selection{color:inherit;background:0 0}:host([error])::before{position:absolute;left:0;top:35px;white-space:pre;content:attr(error);font-size:11px;line-height:1.2;pointer-events:none}`;get type(){return this.hasAttribute("type")?this.getAttribute("type"):"text"}set type(t){this.setAttribute("type",t)}get value(){return this.#z.input.value}set value(t){this.#z.input.value!==t&&(this.matches(":focus")?(this.#z.input.selectionStart=0,this.#z.input.selectionEnd=this.#z.input.value.length,document.execCommand("insertText",!1,t)):this.#z.input.value=t,"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate(),this.#_t())}get spellcheck(){return this.hasAttribute("spellcheck")}set spellcheck(t){t?this.setAttribute("spellcheck",""):this.removeAttribute("spellcheck")}get minLength(){return this.hasAttribute("minlength")?parseInt(this.getAttribute("minlength")):0}set minLength(t){this.setAttribute("minlength",t)}get maxLength(){return this.hasAttribute("maxlength")?parseInt(this.getAttribute("maxlength")):Infinity}set maxLength(t){this.setAttribute("maxlength",t)}get required(){return this.hasAttribute("required")}set required(t){t?this.setAttribute("required",""):this.removeAttribute("required")}get readOnly(){return this.hasAttribute("readonly")}set readOnly(t){!0===t?this.setAttribute("readonly",t):this.removeAttribute("readonly")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get validation(){return this.hasAttribute("validation")?this.getAttribute("validation"):"auto"}set validation(t){this.setAttribute("validation",t)}get error(){return this.getAttribute("error")}set error(t){null===t?this.removeAttribute("error"):this.setAttribute("error",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#k=null;#z={};#nt=0;#S=null;constructor(){super(),this.#k=this.attachShadow({mode:"closed",delegatesFocus:!0}),this.#k.adoptedStyleSheets=[at.#y],this.#k.append(document.importNode(at.#v.content,!0));for(let t of this.#k.querySelectorAll("[id]"))this.#z[t.id]=t;this.addEventListener("focusin",(t=>this.#te(t))),this.addEventListener("focusout",(t=>this.#ee(t))),this.addEventListener("keydown",(t=>this.#lt(t))),this.#z.input.addEventListener("change",(t=>this.#Tt(t))),this.#z.input.addEventListener("input",(t=>this.#ie(t))),this.#z.input.addEventListener("search",(t=>this.#se(t)))}connectedCallback(){this.#rt(),this.#M(),this.#_t(),"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate(),P.addEventListener("sizechange",this.#S=()=>this.#M())}disconnectedCallback(){P.removeEventListener("sizechange",this.#S)}attributeChangedCallback(t){"type"===t?this.#he():"value"===t?this.#V():"spellcheck"===t?this.#ne():"maxlength"===t?this.#oe():"readonly"===t?this.#le():"disabled"===t?this.#Et():"validation"===t?this.#ae():"size"===t&&this.#re()}validate(){this.value.length<this.minLength?this.error="Entered text is too short":this.value.length>this.maxLength?this.error="Entered text is too long":this.required&&0===this.value.length?this.error="This field is required":"email"===this.type&&!1===this.#z.input.validity.valid?this.error="Invalid e-mail address":"url"===this.type&&!1===this.#z.input.validity.valid?this.error="Invalid URL":"color"===this.type&&!1===(t=>{try{(new E).parse(t)}catch(t){return!1}return!0})(this.#z.input.value)?this.error="Invalid color":this.error=null}selectAll(){this.#z.input.select()}clear(){this.value="",this.error=null}#_t(){0===this.value.length?this.setAttribute("empty",""):this.removeAttribute("empty")}#rt(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.setAttribute("aria-readonly",this.readOnly),this.disabled?(this.#nt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#nt>0?this.#nt:0),this.#nt=0)}#M(){let t=P.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}#he(){"color"===this.type?this.#z.input.type="text":this.#z.input.type=this.type}#V(){this.value=this.hasAttribute("value")?this.getAttribute("value"):"",this.matches(":focus")&&this.selectAll()}#ne(){this.#z.input.spellcheck=this.spellcheck}#oe(){this.#z.input.maxLength=this.maxLength}#le(){this.#z.input.readOnly=this.readOnly,this.#rt()}#Et(){this.#z.input.disabled=this.disabled,this.#rt()}#ae(){"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate()}#re(){this.#M()}#te(){this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}))}#ee(){this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),"auto"===this.validation&&this.validate()}#lt(t){"Enter"===t.key&&(document.execCommand("selectAll"),"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate())}#ie(t){"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate(),t.stopPropagation(),this.#_t(),this.dispatchEvent(new CustomEvent("input",{bubbles:!0}))}#Tt(){"search"!==this.type&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}#se(){this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}}customElements.define("x-input",at);class rt extends HTMLElement{static#v=L`<template><slot></slot></template>`;static#y=T`:host{display:block;line-height:1.2;user-select:none;box-sizing:border-box}:host([disabled]){opacity:.5}:host([hidden]){display:none}slot{text-decoration:inherit}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}#k=null;constructor(){super(),this.#k=this.attachShadow({mode:"closed"}),this.#k.adoptedStyleSheets=[rt.#y],this.#k.append(document.importNode(rt.#v.content,!0))}}customElements.define("x-label",rt);let{abs:dt}=Math;class ut extends HTMLElement{static observedAttributes=["opened"];static#v=L`<template><slot id="slot"></slot></template>`;static#y=T`:host{display:none;top:0;left:0;width:fit-content;padding:4px 0;z-index:1001;box-sizing:border-box;background:#fff;cursor:default;overflow:auto;flex-direction:column;-webkit-app-region:no-drag;--align:start;--scrollbar-background:rgba(0, 0, 0, 0.2);--scrollbar-width:6px;--open-transition:100 transform cubic-bezier(0.4, 0, 0.2, 1);--close-transition:200 opacity cubic-bezier(0.4, 0, 0.2, 1)}:host([animating]),:host([opened]){display:flex}:host(:focus){outline:0}:host-context([debug]):host(:focus){outline:2px solid red}::-webkit-scrollbar{max-width:var(--scrollbar-width);background:0 0}::-webkit-scrollbar-thumb{background-color:var(--scrollbar-background)}::-webkit-scrollbar-corner{display:none}`;get opened(){return this.hasAttribute("opened")}#k=null;#z={};#de=[];#ue=null;#ce=null;#pe=0;#me=0;#be=!1;#ge=!1;#xe=null;constructor(){super(),this.#k=this.attachShadow({mode:"closed"}),this.#k.adoptedStyleSheets=[ut.#y],this.#k.append(document.importNode(ut.#v.content,!0));for(let t of this.#k.querySelectorAll("[id]"))this.#z[t.id]=t;this.addEventListener("pointerdown",(t=>this.#ot(t))),this.addEventListener("pointerover",(t=>this.#fe(t))),this.addEventListener("pointerout",(t=>this.#we(t))),this.addEventListener("pointermove",(t=>this.#ve(t))),this.addEventListener("keydown",(t=>this.#lt(t))),this.addEventListener("wheel",(t=>this.#ye(t)),{passive:!1}),this.addEventListener("scroll",(t=>this.#ze(t)),{passive:!0})}connectedCallback(){this.setAttribute("role","menu"),this.setAttribute("aria-hidden",!this.opened),this.setAttribute("tabindex","0")}attributeChangedCallback(t){"opened"===t&&this.#ke()}openOverElement(t,e){return new Promise((async i=>{let s=this.querySelectorAll(":scope > x-menuitem");if(s.length>0){this.#be=!0,this.#xe=V(),this.#Ce(),this.setAttribute("opened","");let i=[...s].find((t=>t.contains(e)))||s[0],h=this.getBoundingClientRect(),n=t.getBoundingClientRect(),o=e.getBoundingClientRect(),l=0,a=0;i.focus(),0===h.top&&0===h.left||(l=-h.left,a=-h.top),this.style.left=n.x-(o.x-h.x)+l+"px",this.style.top=n.y-(o.y-h.y)+a+"px",h=this.getBoundingClientRect(),h.left<7&&(this.style.left=7+l+"px",h=this.getBoundingClientRect());7-h.top>0&&(this.style.height=h.bottom-7+"px",this.style.top=7+a+"px",this.scrollTop=9999,h=this.getBoundingClientRect());if(h.bottom+7>window.innerHeight){let t=h.bottom-window.innerHeight,e=h.height-t-7;this.style.height=e+"px"}if(h.right+7>window.innerWidth){let t=h.right-window.innerWidth,e=h.width-t-7;this.style.width=`${e}px`}{let t=getComputedStyle(this).getPropertyValue("--open-transition"),[e,i,s]=this.#Se(t);if("transform"===e){let t=this.getBoundingClientRect(),e=n.y+n.height/2-t.top;await this.animate({transform:["scaleY(0)","scaleY(1)"],transformOrigin:[`0 ${e}px`,`0 ${e}px`]},{duration:i,easing:s}).finished}}this.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:this})),this.#me=a}i()}))}openOverLabel(t){return new Promise((async e=>{let i=this.querySelectorAll(":scope > x-menuitem");if(i.length>0){this.#Ce(),this.setAttribute("opened",""),this.#be=!0,this.#xe=V();let e=[...i].find((e=>{let i=e.querySelector("x-label");return!(!i||i.textContent!==t.textContent)}));e||(e=i[0]);let s=e.querySelector("x-label");await this.openOverElement(t,s)}e()}))}openNextToElement(t,e="horizontal",i=0){return new Promise((async s=>{this.#be=!1,this.#xe=V(),this.#Ce(),this.setAttribute("opened",""),this.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:this})),"x-menuitem"===t.localName&&t.setAttribute("expanded","");let h=getComputedStyle(this).getPropertyValue("--align").trim(),n=t.getBoundingClientRect(),o=this.getBoundingClientRect(),l=0,a=0;if(0===o.top&&0===o.left||(l=-o.left,a=-o.top),"horizontal"===e){this.style.top=n.top+a+"px",this.style.left=n.left+n.width+i+l+"px";let t="right";{let t=this.getBoundingClientRect();t.width>window.innerWidth-10&&(this.style.width=window.innerWidth-10+"px"),t.height>window.innerHeight-10&&(this.style.height=window.innerHeight-10+"px")}{let e=this.getBoundingClientRect();e.left+e.width+7>window.innerWidth&&(n.left>e.width+7?(this.style.left=n.left-e.width+l+"px",t="left"):n.left>window.innerWidth-(n.left+n.width)?(this.style.left=7+l+"px",t="left"):(this.style.left=window.innerWidth-e.width-7+l+"px",t="right"))}{let t=this.getBoundingClientRect();if(t.top+t.height+7>window.innerHeight){let e=t.top+t.height+7-window.innerHeight;this.style.top=t.top-e+a+"px"}}{let e=getComputedStyle(this).getPropertyValue("--open-transition"),[i,s,h]=this.#Se(e);"transform"===i&&await this.animate({transform:["scale(0, 0)","scale(1, 1)"],transformOrigin:["left"===t?"100% 0":"0 0","left"===t?"100% 0":"0 0"]},{duration:s,easing:h}).finished}}else if("vertical"===e){this.style.top=n.top+n.height+i+a+"px",this.style.left="0px";let e="bottom";{let t=this.getBoundingClientRect();t.width>window.innerWidth-10&&(this.style.width=window.innerWidth-10+"px"),t.height>window.innerHeight-10&&(this.style.height=window.innerHeight-10+"px")}if(t.parentElement&&"x-menubar"===t.parentElement.localName){let t=this.getBoundingClientRect();t.top+t.height+7>window.innerHeight&&(this.style.height=window.innerHeight-(n.top+n.height)-10+"px")}else{let t=this.getBoundingClientRect();t.top+t.height+7>window.innerHeight&&(n.top>t.height+7?(this.style.top=n.top-t.height-i+a+"px",e="top"):n.top>window.innerHeight-(n.top+n.height)?(this.style.top=7+a+"px",e="top"):(this.style.top=window.innerHeight-t.height-7+a+"px",e="bottom"))}if("start"===h){this.style.left=n.left+l+"px";{let t=this.getBoundingClientRect();t.left+t.width+7>window.innerWidth&&(this.style.left=n.left+n.width-t.width+l+"px")}this.getBoundingClientRect().left<7&&(this.style.left=7+l+"px")}else if("end"===h){this.style.left=n.left+n.width-o.width+l+"px";this.getBoundingClientRect().left<7&&(this.style.left=n.left+l+"px");{let t=this.getBoundingClientRect();t.left+t.width+7>window.innerWidth&&(this.style.left=window.innerWidth-7+l+"px")}}{let t=getComputedStyle(this).getPropertyValue("--open-transition"),[i,s,h]=this.#Se(t);"transform"===i&&await this.animate({transform:["scale(1, 0)","scale(1, 1)"],transformOrigin:["top"===e?"0 100%":"0 0","top"===e?"0 100%":"0 0"]},{duration:s,easing:h}).finished}}this.#me=a,s()}))}openAtPoint(t,e){return new Promise((async i=>{this.#be=!1,this.#xe=V(),this.#Ce(),this.setAttribute("opened",""),this.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:this}));let s=this.getBoundingClientRect(),h=0,n=0;0===s.top&&0===s.left||(h=-s.left,n=-s.top),this.style.left=t+h+"px",this.style.top=e+n+"px",s=this.getBoundingClientRect(),s.right+7>window.innerWidth&&(t-=s.width,this.style.left=t+h+"px",s=this.getBoundingClientRect()),s.bottom+7>window.innerHeight&&(e=e+window.innerHeight-(s.top+s.height)-7,this.style.top=e+n+"px",s=this.getBoundingClientRect(),s.top<7&&(e=7,this.style.top=e+n+"px",this.style.height=window.innerHeight-7-7+"px"));{let t=getComputedStyle(this).getPropertyValue("--open-transition"),[e,i,s]=this.#Se(t);"transform"===e&&await this.animate({transform:["scale(0)","scale(1)"],transformOrigin:["0 0","0 0"]},{duration:80,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)"}).finished}this.#me=n,i()}))}close(t=!0){return new Promise((async e=>{if(this.opened){this.removeAttribute("opened"),this.dispatchEvent(new CustomEvent("close",{bubbles:!0,detail:this}));let e=this.closest("x-menuitem");if(e&&e.removeAttribute("expanded"),t){this.setAttribute("animating","");let t=getComputedStyle(this).getPropertyValue("--close-transition"),[e,i,s]=this.#Se(t);"opacity"===e&&await this.animate({opacity:["1","0"]},{duration:i,easing:s}).finished,this.removeAttribute("animating")}for(let t of this.querySelectorAll(":scope > x-menuitem")){let e=t.querySelector("x-menu[opened]");e&&e.close()}}e()}))}focusNextMenuItem(){let t=this.querySelector(":scope > x-menuitem:focus, :scope > x-menuitem[expanded]");if(t){let e=null;for(let i=t.nextElementSibling;i;i=i.nextElementSibling)if("x-menuitem"===i.localName&&!1===i.disabled&&!1===i.hidden){e=i;break}if(null===e&&null!=t.parentElement)for(let i of t.parentElement.children)if("x-menuitem"===i.localName&&!1===i.disabled&&!1===i.hidden){e=i;break}if(e){e.focus();let i=t.querySelector("x-menu");i&&i.close()}}else this.focusFirstMenuItem()}focusPreviousMenuItem(){let t=this.querySelector(":scope > x-menuitem:focus, :scope > x-menuitem[expanded]");if(t){let e=null;for(let i=t.previousElementSibling;i;i=i.previousElementSibling)if("x-menuitem"===i.localName&&!1===i.disabled&&!1===i.hidden){e=i;break}if(null===e&&null!=t.parentElement)for(let i of[...t.parentElement.children].reverse())if("x-menuitem"===i.localName&&!1===i.disabled&&!1===i.hidden){e=i;break}if(e){e.focus();let i=t.querySelector("x-menu");i&&i.close()}}else this.focusLastMenuItem()}focusFirstMenuItem(){let t=this.querySelectorAll("x-menuitem:not([disabled]):not([hidden])")[0]||null;t&&t.focus()}focusLastMenuItem(){let t=this.querySelectorAll("x-menuitem:not([disabled]):not([hidden])"),e=t.length>0?t[t.length-1]:null;e&&e.focus()}#Ee(t){let e=0;{let t=this.#de[this.#de.length-1],i=this.#de[0];if(this.querySelector("x-menu[opened]")&&t){i||(i=t);let s=this.getBoundingClientRect(),h={x:s.left,y:s.top-75},n={x:s.left+s.width,y:h.y},o={x:s.left,y:s.top+s.height+75},l={x:s.left+s.width,y:o.y},a=!0;if((i.x<s.left||i.x>l.x||i.y<s.top||i.y>l.y)&&(a=!1),this.#ce&&t.x===this.#ce.x&&t.y===this.#ce.y&&(a=!1),a){let s,h;s=n,h=l;let o=(t,e)=>(e.y-t.y)/(e.x-t.x),a=o(t,s),r=o(t,h),d=o(i,s),u=o(i,h);a<d&&r>u?(this.#ce=t,e=300):this.#ce=null}}}e>0?this.#ue=setTimeout((()=>{this.#Ee(t)}),e):t()}#Ae(){this.#ue&&(clearTimeout(this.#ue),this.#ue=null)}#Ce(){this.style.position="fixed",this.style.top="0px",this.style.left="0px",this.style.width=null,this.style.height=null,this.style.minWidth=null,this.style.maxWidth=null}#Le(){return this.matches("*[closing], *[closing] x-menu")}#Se(t){let[e,i,...s]=t.trim().split(" ");return[i,parseFloat(e),s.join(" ")]}#ke(){this.setAttribute("aria-hidden",!this.opened)}#ot(t){if(t.target!==this&&"hr"!==t.target.localName||t.stopPropagation(),"touch"===t.pointerType&&t.target.closest("x-menu")===this){!1===this.#ge&&this.#Te();{let e=t.target.closest("x-menuitem");e&&!1===e.disabled&&e.closest("x-menu")===this?!1===e.matches(":focus")&&this.#Ee((async()=>{let t=this.querySelector(":scope > x-menuitem:focus");if(t){let e=t.querySelector("x-menu");e&&e.close()}e.closest("x-menu");let i=e.querySelector("x-menu"),s=[...this.querySelectorAll(":scope > x-menuitem")].filter((t=>t!==e));i&&(await X(60),e.matches(":focus")&&!1===i.opened&&i.openNextToElement(e,"horizontal"));for(let t of s){let e=t.querySelector("x-menu");e&&e.close()}})):this.#Ee((()=>{this.focus()}))}}}#fe(t){if(!this.#Le()&&"touch"!==t.pointerType&&t.target.closest("x-menu")===this){!1===this.#ge&&this.#Te();{let e=t.target.closest("x-menuitem");e&&!1===e.disabled&&e.closest("x-menu")===this?!1===e.matches(":focus")&&this.#Ee((async()=>{let t=this.querySelector(":scope > x-menuitem:focus");if(t){let e=t.querySelector("x-menu");e&&e.close()}e.focus(),e.closest("x-menu");let i=e.querySelector("x-menu"),s=[...this.querySelectorAll(":scope > x-menuitem")].filter((t=>t!==e));i&&(await X(60),e.matches(":focus")&&!1===i.opened&&i.openNextToElement(e,"horizontal"));for(let t of s){let e=t.querySelector("x-menu");e&&e.close()}})):this.#Ee((()=>{this.focus()}))}}}#we(t){t.relatedTarget&&j(t.relatedTarget,"x-menu")===this||!0===this.#ge&&this.#Me()}#Te(){this.#Le()||(this.#ge=!0,this.#Ae())}#Me(){this.#Le()||(this.#ge=!1,this.#Ae(),this.focus())}#ve(t){this.#de.push({x:t.clientX,y:t.clientY}),this.#de.length>3&&this.#de.shift()}#ye(t){t.target.closest("x-menu")===this?(t.preventDefault(),this.scrollTop=this.scrollTop+t.deltaY,this.#ge=!0):this.#ge=!1}#ze(){if(this.#be){let t=this.scrollTop-this.#pe;if(this.#pe=this.scrollTop,V()-this.#xe>100){let e=this.getBoundingClientRect();t<0?e.bottom+dt(t)<=window.innerHeight-7?this.style.height=e.height+dt(t)+"px":this.style.height=window.innerHeight-14+"px":t>0&&(e.top-t>=7?(this.style.top=this.#me+e.top-t+"px",this.style.height=e.height+t+"px",this.scrollTop=0,this.#pe=0):(this.style.top=7+this.#me+"px",this.style.height=window.innerHeight-14+"px"))}}}#lt(t){if(this.#Le())t.preventDefault(),t.stopPropagation();else if("ArrowUp"===t.key)t.preventDefault(),t.stopPropagation(),this.focusPreviousMenuItem();else if("ArrowDown"===t.key)t.preventDefault(),t.stopPropagation(),this.focusNextMenuItem();else if("ArrowRight"===t.code||"Enter"===t.code||"Space"===t.code){let e=this.querySelector("x-menuitem:focus");if(e){let i=e.querySelector("x-menu");if(i){t.preventDefault(),t.stopPropagation(),!1===i.opened&&i.openNextToElement(e,"horizontal");let s=i.querySelector("x-menuitem:not([disabled]):not([hidden])");s&&s.focus()}}}else if("ArrowLeft"===t.code){let e=this.querySelector("x-menuitem:focus");if(e){let i=e.closest("x-menu").closest("x-menuitem");i&&i.closest("x-menu")&&(t.preventDefault(),t.stopPropagation(),i.focus(),this.close())}}}}customElements.define("x-menu",ut);class ct extends HTMLElement{static observedAttributes=["disabled","size"];static#v=L`<template><svg id="backdrop" hidden><path id="backdrop-path"></path></svg><slot></slot></template>`;static#y=T`:host{display:flex;align-items:center;width:100%;height:30px;padding:0 6px;box-sizing:border-box}:host([disabled]){pointer-events:none;opacity:.6}:host([hidden]){display:none}#backdrop{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1000;pointer-events:none;touch-action:none}#backdrop[hidden]{display:none}#backdrop path{fill:red;fill-rule:evenodd;opacity:0;pointer-events:all}`;get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#k=null;#z={};#De=!1;#S=null;#$e=null;constructor(){super(),this.#k=this.attachShadow({mode:"closed"}),this.#k.adoptedStyleSheets=[ct.#y],this.#k.append(document.importNode(ct.#v.content,!0));for(let t of this.#k.querySelectorAll("[id]"))this.#z[t.id]=t;this.addEventListener("focusout",(t=>this.#ee(t))),this.#k.addEventListener("pointerover",(t=>this.#Pe(t))),this.#k.addEventListener("click",(t=>this.#Re(t))),this.#k.addEventListener("wheel",(t=>this.#Ie(t))),this.#k.addEventListener("keydown",(t=>this.#Oe(t)))}connectedCallback(){this.setAttribute("role","menubar"),this.setAttribute("aria-disabled",this.disabled),this.#M(),P.addEventListener("sizechange",this.#S=()=>{this.#M()}),window.addEventListener("orientationchange",this.#$e=()=>{this.#Be()})}disconnectedCallback(){P.removeEventListener("sizechange",this.#S),window.removeEventListener("orientationchange",this.#$e)}attributeChangedCallback(t){"disabled"===t?this.#Et():"size"===t&&this.#M()}#M(){let t=P.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}#He(t){let e=t.querySelector(":scope > x-menu");if(e&&!1===e.opened){t.focus(),this.#De=!0,this.style.touchAction="none";{e.openNextToElement(t,"vertical");let i=[...this.querySelectorAll(":scope > x-menuitem > x-menu")].filter((t=>t!==e));for(let t of i)t&&t.close(!1)}{let{x:t,y:e,width:i,height:s}=this.getBoundingClientRect();this.#z["backdrop-path"].setAttribute("d",`\n          M 0 0\n          L ${window.innerWidth} 0\n          L ${window.innerWidth} ${window.innerHeight}\n          L 0 ${window.innerHeight}\n          L 0 0\n          M ${t} ${e}\n          L ${t+i} ${e}\n          L ${t+i} ${e+s}\n          L ${t} ${e+s}\n        `),this.#z.backdrop.removeAttribute("hidden")}}}#Fe(){return new Promise((async t=>{this.#De=!1,this.style.touchAction=null,this.#z.backdrop.setAttribute("hidden",""),this.#z["backdrop-path"].setAttribute("d","");{let t=this.querySelectorAll(":scope > x-menuitem > x-menu[opened]");for(let e of t)await e.close(!0)}let e=this.querySelector("x-menuitem:focus");e&&e.blur(),t()}))}#Ne(){let t=[...this.querySelectorAll(":scope > x-menuitem:not([disabled])")],e=this.querySelector(":focus").closest("x-menubar > x-menuitem");if(t.length>1&&e){let i=t.indexOf(e),s=t[i-1]||t[t.length-1];this.#He(s)}}#qe(){let t=[...this.querySelectorAll(":scope > x-menuitem:not([disabled])")],e=this.querySelector(":focus").closest("x-menubar > x-menuitem");if(e&&t.length>1){let i=t.indexOf(e),s=t[i+1]||t[0];this.#He(s)}}#Et(){this.setAttribute("aria-disabled",this.disabled)}#ee(t){null!==t.relatedTarget&&!1!==this.contains(t.relatedTarget)||this.#Fe()}#Be(){this.#Fe()}#Ie(t){let e=this.querySelector("x-menu[opened]");e&&!1===e.contains(t.target)&&t.preventDefault()}async#Re(t){if(this.hasAttribute("closing"))return;let e=t.target.closest("x-menuitem"),i=t.target.closest("x-menu");if(!e||!1!==e.disabled||i&&!i.contains(e))t.target===this.#z["backdrop-path"]&&(this.#Fe(),t.preventDefault(),t.stopPropagation());else{let t=e.querySelector("x-menu");e.parentElement===this?t&&(t.opened?this.#Fe():this.#He(e)):t?t.opened&&!1===t.opened&&t.openNextToElement(e,"horizontal"):(this.setAttribute("closing",""),await e.whenTriggerEnd,await this.#Fe(),this.removeAttribute("closing"))}}#Pe(t){if(this.hasAttribute("closing"))return;let e=t.target.closest("x-menuitem");null===t.target.closest("x-menu")&&e&&e.parentElement===this&&this.#De&&"touch"!==t.pointerType&&(!1===e.hasAttribute("expanded")?this.#He(e):e.focus())}#Oe(t){if(this.hasAttribute("closing"))t.stopPropagation(),t.preventDefault();else if("Enter"===t.code||"Space"===t.code){let e=this.querySelector(":scope > x-menuitem:focus");e&&(t.preventDefault(),e.click())}else if("Escape"===t.code)this.#De&&(t.preventDefault(),this.#Fe());else if("Tab"===t.code){let t=this.querySelector(":scope > x-menuitem:focus, :scope > x-menuitem[expanded]");if(t){t.focus();let e=t.querySelector(":scope > x-menu");e&&(e.tabIndex=-1,e.close().then((()=>{e.tabIndex=-1})))}}else if("ArrowRight"===t.code)this.#qe();else if("ArrowLeft"===t.code)this.#Ne();else if("ArrowDown"===t.code){let e=this.querySelector("x-menuitem:focus > x-menu");e&&(t.preventDefault(),e.focusFirstMenuItem())}else if("ArrowUp"===t.code){let e=this.querySelector("x-menuitem:focus > x-menu");e&&(t.preventDefault(),e.focusLastMenuItem())}}}customElements.define("x-menubar",ct);let{max:pt}=Math;class mt extends HTMLElement{static observedAttributes=["disabled","size"];static#v=L`<template><div id="ripples"></div><svg id="checkmark" part="checkmark" viewBox="0 0 100 100" preserveAspectRatio="none"><path></path></svg><slot></slot><svg id="arrow" part="arrow" viewBox="0 0 100 100" hidden><path></path></svg></template>`;static#y=T`:host{display:flex;flex-flow:row;align-items:center;position:relative;padding:0 12px 0 23px;min-height:28px;box-sizing:border-box;cursor:default;user-select:none;--trigger-effect:blink}:host([hidden]){display:none}:host([disabled]){pointer-events:none;opacity:.6}:host(:focus){outline:0}:host-context([debug]):host(:focus){outline:2px solid red}#ripples{position:absolute;z-index:0;top:0;left:0;width:100%;height:100%;pointer-events:none;contain:strict;overflow:hidden}#ripples .ripple{position:absolute;top:0;left:0;width:200px;height:200px;background:currentColor;opacity:.1;border-radius:999px;transform:none;transition:all .8s cubic-bezier(.4, 0, .2, 1);will-change:opacity,transform;pointer-events:none}#checkmark{display:none;transition:transform .2s cubic-bezier(.4, 0, .2, 1);align-self:center;width:18px;height:18px;margin:0 2px 0 -20px;d:path("M 44 61 L 29 47 L 21 55 L 46 79 L 79 27 L 70 21 L 44 61 Z");color:inherit}:host([togglable]) #checkmark{display:flex;transform:scale(0);transform-origin:50% 50%}:host([toggled]) #checkmark{display:flex;transform:scale(1)}#checkmark path{d:inherit;fill:currentColor}#arrow{display:flex;width:16px;height:16px;transform:scale(1.1);align-self:center;margin-left:8px;d:path("M 26 20 L 26 80 L 74 50 Z");opacity:1;color:inherit}#arrow[hidden]{display:none}#arrow path{d:inherit;fill:currentColor}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):null}set value(t){this.value!==t&&(null===t?this.removeAttribute("value"):this.setAttribute("value",t))}get toggled(){return this.hasAttribute("toggled")}set toggled(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled")}get togglable(){return this.hasAttribute("togglable")}set togglable(t){t?this.setAttribute("togglable",""):this.removeAttribute("togglable")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}get whenTriggerEnd(){return new Promise((t=>{0===this.#z.ripples.childElementCount&&!1===this.#Ue?t():this.#je.push(t)}))}#k=null;#z={};#nt=0;#Ue=!1;#je=[];#Ke=!1;#S=null;#Xe=new MutationObserver((()=>this.#Ve()));constructor(){super(),this.#k=this.attachShadow({mode:"closed"}),this.#k.adoptedStyleSheets=[mt.#y],this.#k.append(document.importNode(mt.#v.content,!0)),this.addEventListener("pointerdown",(t=>this.#ot(t))),this.addEventListener("click",(t=>this.#L(t))),this.addEventListener("keydown",(t=>this.#lt(t)));for(let t of this.#k.querySelectorAll("[id]"))this.#z[t.id]=t}connectedCallback(){this.#Ve(),this.#rt(),this.#M(),this.#Xe.observe(this,{childList:!0,attributes:!1,characterData:!1,subtree:!1}),P.addEventListener("sizechange",this.#S=()=>this.#M())}disconnectedCallback(){this.#Xe.disconnect(),P.removeEventListener("sizechange",this.#S)}attributeChangedCallback(t){"disabled"===t?this.#rt():"size"===t&&this.#M()}#Ve(){if("x-menubar"===this.parentElement.localName)this.#z.arrow.setAttribute("hidden","");else{this.querySelector("x-menu")?this.#z.arrow.removeAttribute("hidden"):this.#z.arrow.setAttribute("hidden","")}}#rt(){this.setAttribute("role","menuitem"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#nt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#nt>0?this.#nt:0),this.#nt=0)}#M(){let t=P.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}async#ot(t){if(this.#Ke=this.matches(":focus"),t.buttons>1)return!1;if(this.matches("[closing] x-menuitem"))return t.preventDefault(),void t.stopPropagation();if(t.target.closest("x-menuitem")===this){this.setPointerCapture(t.pointerId);{let e=Date.now(),i=!0;this.addEventListener("pointerup",(async()=>{i=!1;let s=Date.now()-e,h="touch"===t.pointerType?600:150;s<h&&await X(h-s),this.removeAttribute("pressed")}),{once:!0}),i&&this.setAttribute("pressed","")}if("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim()){let e=this.#z.ripples.getBoundingClientRect(),i=1.5*pt(e.width,e.height),s=t.clientY-e.y-i/2,h=t.clientX-e.x-i/2,n=new Promise((t=>this.addEventListener("pointerup",t,{once:!0}))),o=U("div");o.setAttribute("part","ripple"),o.setAttribute("class","ripple pointer-down-ripple"),o.setAttribute("style",`width: ${i}px; height: ${i}px; top: ${s}px; left: ${h}px;`),this.#z.ripples.append(o),this.setPointerCapture(t.pointerId);let l=o.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await n,await l.finished;let a=o.animate({opacity:[getComputedStyle(o).opacity,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});if(await a.finished,o.remove(),0===this.#z.ripples.childElementCount)for(let t of this.#je)t()}}}async#L(t){if(!(t.buttons>1||t.target.closest("x-menuitem")!==this||t.target.closest("x-menu")!==this.closest("x-menu")||this.matches("[closing] x-menuitem"))){if(this.togglable){let t=new CustomEvent("toggle",{bubbles:!0,cancelable:!0});this.dispatchEvent(t),!1===t.defaultPrevented&&(this.toggled=!this.toggled)}if(!this.querySelector(":scope > x-menu")){let t=getComputedStyle(this).getPropertyValue("--trigger-effect").trim();if("ripple"===t){if(null===this.#z.ripples.querySelector(".pointer-down-ripple")){let t=this.#z.ripples.getBoundingClientRect(),e=1.5*pt(t.width,t.height),i=t.y+t.height/2-t.y-e/2,s=t.x+t.width/2-t.x-e/2,h=U("div");h.setAttribute("part","ripple"),h.setAttribute("class","ripple click-ripple"),h.setAttribute("style",`width: ${e}px; height: ${e}px; top: ${i}px; left: ${s}px;`),this.#z.ripples.append(h);let n=h.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await n.finished;let o=h.animate({opacity:[getComputedStyle(h).opacity,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});if(await o.finished,h.remove(),0===this.#z.ripples.childElementCount){for(let t of this.#je)t();this.#je=[]}}}else if("blink"===t){this.#Ue=!0,this.#Ke?(this.parentElement.focus(),await X(150),this.focus(),await X(150)):(this.focus(),await X(150),this.parentElement.focus(),await X(150));for(let t of this.#je)t();this.#je=[],this.#Ue=!1}else if("none"===t){this.#Ue=!0,await X(150);for(let t of this.#je)t();this.#je=[],this.#Ue=!1}}}}#lt(t){"Enter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.querySelector("x-menu")||(t.stopPropagation(),this.click()))}}customElements.define("x-menuitem",mt);class bt extends HTMLElement{static observedAttributes=["opened","size"];static#v=L`<template><slot></slot></template>`;static#y=T`:host{display:none;position:fixed;min-width:15px;min-height:15px;bottom:15px;left:50%;transform:translateX(-50%);padding:5px 12px;box-sizing:border-box;color:rgba(255,255,255,.9);background:#434343;z-index:9999;font-size:12px;user-select:text;transition:transform .15s cubic-bezier(.4, 0, .2, 1)}:host([animating]),:host([opened]){display:block}:host(:focus){outline:0}`;get opened(){return this.hasAttribute("opened")}set opened(t){!0===t?this.setAttribute("opened",""):this.removeAttribute("opened"),this.#Ze=0}get timeout(){return this.hasAttribute("timeout")?parseFloat(this.getAttribute("timeout")):0}set timeout(t){this.setAttribute("timeout",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#k=null;#Ze=0;#Ge=null;#S=null;#Ye=null;constructor(){super(),this.#k=this.attachShadow({mode:"closed"}),this.#k.adoptedStyleSheets=[bt.#y],this.#k.append(document.importNode(bt.#v.content,!0))}connectedCallback(){this.setAttribute("tabindex","0"),this.#M(),P.addEventListener("sizechange",this.#S=()=>this.#M())}disconnectedCallback(){P.removeEventListener("sizechange",this.#S)}attributeChangedCallback(t,e,i){e!==i&&("opened"===t?this.opened?this.#We():this.#Je():"size"===t&&this.#M())}#M(){let t=P.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}#We(){if(this.isConnected){let t=0-this.getBoundingClientRect().height-10+"px",e=getComputedStyle(this).bottom;this.animate({bottom:[t,e]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"})}{this.#Ze=0,this.#Ge=setInterval((()=>{this.#Ze+=100,this.timeout>0&&this.#Ze>this.timeout&&(this.opened=!1)}),100);let t=V();window.addEventListener("pointerdown",this.#Ye=e=>{let i=V(),s=this.getBoundingClientRect();var h,n;i-t>10&&!1==(h=s,(n=new DOMPoint(e.clientX,e.clientY)).x>=h.x&&n.x<=h.x+h.width&&n.y>=h.y&&n.y<=h.y+h.height)&&(this.opened=!1)},!0)}}async#Je(){if(clearInterval(this.#Ge),this.isConnected){this.setAttribute("animating","");let t=getComputedStyle(this).bottom,e=0-this.getBoundingClientRect().height-10+"px",i=this.animate({bottom:[t,e]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await i.finished,this.removeAttribute("animating")}window.removeEventListener("pointerdown",this.#Ye,!0)}}customElements.define("x-notification",bt);let{isFinite:gt,isNaN:xt,parseFloat:ft}=Number,{isFinite:wt}=Number;const vt=["0","1","2","3","4","5","6","7","8","9","-","+",",","."];class yt extends HTMLElement{static observedAttributes=["value","min","max","prefix","suffix","disabled","size"];static#v=L`<template><main id="main"><div id="editor-container"><div id="editor" contenteditable="plaintext-only" spellcheck="false"></div></div><slot></slot></main></template>`;static#y=T`:host{display:block;position:relative;max-width:160px;height:32px;box-sizing:border-box;font-size:12.5px}:host(:hover){cursor:text}:host([mixed]){color:rgba(0,0,0,.7)}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}:host([error]) ::selection{color:#fff;background-color:#d50000}#main{display:flex;align-items:center;height:100%}#editor-container{display:flex;align-items:center;width:100%;height:100%;padding:0 6px;box-sizing:border-box;overflow:hidden}#editor{width:100%;overflow:auto;color:inherit;background:0 0;border:none;outline:0;font-family:inherit;font-size:inherit;line-height:10;white-space:nowrap}#editor::-webkit-scrollbar{display:none}#editor::before{content:attr(data-prefix);pointer-events:none}#editor::after{content:attr(data-suffix);pointer-events:none}:host(:focus) #editor::after,:host(:focus) #editor::before,:host([empty]) #editor::after,:host([empty]) #editor::before{content:""}:host([error])::before{position:absolute;left:0;top:35px;white-space:pre;content:attr(error);font-size:11px;line-height:1.2;pointer-events:none}`;get value(){return this.hasAttribute("value")?parseFloat(this.getAttribute("value")):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get min(){return this.hasAttribute("min")?parseFloat(this.getAttribute("min")):-Infinity}set min(t){wt(t)?this.setAttribute("min",t):this.removeAttribute("min")}get max(){return this.hasAttribute("max")?parseFloat(this.getAttribute("max")):Infinity}set max(t){wt(t)?this.setAttribute("max",t):this.removeAttribute("max")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get precision(){return this.hasAttribute("precision")?parseFloat(this.getAttribute("precision")):20}set precision(t){this.setAttribute("precision",t)}get step(){return this.hasAttribute("step")?parseFloat(this.getAttribute("step")):1}set step(t){this.setAttribute("step",t)}get prefix(){return this.hasAttribute("prefix")?this.getAttribute("prefix"):""}set prefix(t){this.setAttribute("prefix",t)}get suffix(){return this.hasAttribute("suffix")?this.getAttribute("suffix"):""}set suffix(t){this.setAttribute("suffix",t)}get required(){return this.hasAttribute("required")}set required(t){t?this.setAttribute("required",""):this.removeAttribute("required")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get condensed(){return this.hasAttribute("condensed")}set condensed(t){t?this.setAttribute("condensed",""):this.removeAttribute("condensed")}get error(){return this.getAttribute("error")}set error(t){null===t?this.removeAttribute("error"):this.setAttribute("error",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#k=null;#z={};#nt=0;#S=null;#Qe=!1;#_e=!1;#ti=!1;#ei=!1;#ii=!1;#si=!1;constructor(){super(),this.#k=this.attachShadow({mode:"closed",delegatesFocus:!0}),this.#k.adoptedStyleSheets=[yt.#y],this.#k.append(document.importNode(yt.#v.content,!0));for(let t of this.#k.querySelectorAll("[id]"))this.#z[t.id]=t;this.#k.addEventListener("pointerdown",(t=>this.#hi(t))),this.#k.addEventListener("wheel",(t=>this.#ye(t))),this.#z.editor.addEventListener("paste",(t=>this.#ni(t))),this.#z.editor.addEventListener("input",(t=>this.#oi(t))),this.addEventListener("pointerdown",(t=>this.#ot(t))),this.addEventListener("keydown",(t=>this.#lt(t))),this.addEventListener("keyup",(t=>this.#li(t))),this.addEventListener("keypress",(t=>this.#ai(t))),this.addEventListener("incrementstart",(t=>this.#ri(t))),this.addEventListener("decrementstart",(t=>this.#di(t))),this.addEventListener("focusin",(t=>this.#te(t))),this.addEventListener("focusout",(t=>this.#ee(t)))}connectedCallback(){this.#rt(),this.#M(),this.#X(),P.addEventListener("sizechange",this.#S=()=>this.#M())}disconnectedCallback(){P.removeEventListener("sizechange",this.#S)}attributeChangedCallback(t){"value"===t?this.#V():"min"===t?this.#ui():"max"===t?this.#ci():"prefix"===t?this.#pi():"suffix"===t?this.#mi():"disabled"===t?this.#Et():"size"===t&&this.#Z()}validate(){this.value<this.min?this.error="Value is too low":this.value>this.max?this.error="Value is too high":this.required&&null===this.value?this.error="This field is required":this.error=null}#bi(t=!1){let e=this.value,i=this.value;i+=t?10*this.step:this.step,i=l(i,this.min,this.max,a(this.step)),e!==i&&(this.value=i),this.matches(":focus")&&document.execCommand("selectAll"),this.validate(),this.#_t()}#gi(t=!1){let e=this.value,i=this.value;i-=t?10*this.step:this.step,i=l(i,this.min,this.max,a(this.step)),e!==i&&(this.value=i),this.matches(":focus")&&document.execCommand("selectAll"),this.validate(),this.#_t()}#xi(){this.#_e||(this.#_e=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})))}#fi=G((()=>{!this.#_e||this.#ti||this.#ei||this.#ii||(this.#_e=!1,this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})))}),500);#wi(){let t=this.#z.editor.textContent,e=""===t.trim()?null:parseFloat(t),i=l(e,this.min,this.max);i!==this.value?(this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.value=i,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}))):e!==this.value&&(this.value=i),this.validate()}#X(){this.#si&&this.validate(),this.#vi(),this.#_t(),this.#yi()}#vi(){this.hasAttribute("value")?this.#z.editor.textContent=this.getAttribute("value").trim():this.#z.editor.textContent=""}#_t(){let t=null;if(this.matches(":focus")){let e=this.#z.editor.textContent;t=""===e.trim()?null:parseFloat(e)}else t=this.value;null===t?this.setAttribute("empty",""):this.removeAttribute("empty")}#yi(){let t=this.querySelector("x-stepper");if(t){let e=this.value>this.min,i=this.value<this.max;!0===i&&!0===e?t.removeAttribute("disabled"):!1===i&&!1===e?t.setAttribute("disabled",""):!1===i?t.setAttribute("disabled","increment"):!1===e&&t.setAttribute("disabled","decrement")}}#rt(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#nt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#nt>0?this.#nt:0),this.#nt=0)}#M(){let t=P.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}#V(){this.#X()}#ui(){this.#yi()}#ci(){this.#yi()}#pi(){this.#z.editor.setAttribute("data-prefix",this.prefix)}#mi(){this.#z.editor.setAttribute("data-suffix",this.suffix)}#Et(){this.#z.editor.disabled=this.disabled,this.#rt()}#Z(){this.#M()}#te(){this.#si=!0,document.execCommand("selectAll"),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}))}#ee(){this.#k.getSelection().collapse(this.#z.main),this.#z.editor.scrollLeft=0,this.#wi(),this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0}))}#oi(){this.error=null,this.#_t(),this.#yi()}#ye(t){this.matches(":focus")&&(t.preventDefault(),this.#xi(),t.wheelDeltaX>0||t.wheelDeltaY>0?(this.#bi(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))):(this.#gi(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))),this.#fi())}#L(t){t.preventDefault()}#ot(t){"x-stepper"===t.target.localName&&t.preventDefault()}#hi(t){if(t.buttons>1||!1===t.isPrimary)t.preventDefault();else if(t.target===this.#z.editor&&!1===this.#z.editor.matches(":focus")){t.preventDefault();let e,i,s=this.value,h=t.clientX,n=new DOMPoint(t.clientX,t.clientY);this.style.cursor="col-resize",this.#z.editor.setPointerCapture(t.pointerId),this.#z.editor.addEventListener("pointermove",e=e=>{let i=new DOMPoint(e.clientX,e.clientY),o=e.timeStamp-t.timeStamp,d=e.clientX!==h,u=r(n,i)>3||o>80;if(h=e.clientX,d&&u&&e.isPrimary){!1===this.#Qe&&(this.#Qe=!0,this.#_e=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})));let i=e.clientX-t.clientX,h=s+i*this.step;h=l(h,this.min,this.max,a(this.step)),this.value=h,this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}}),this.#z.editor.addEventListener("pointerup",i=()=>{this.#z.editor.removeEventListener("pointermove",e),this.#z.editor.removeEventListener("pointerup",i),this.style.cursor=null,!0===this.#Qe?(this.#Qe=!1,this.#_e=!1,this.dispatchEvent(new CustomEvent("changeend",{detail:this.value!==s,bubbles:!0}))):(this.#z.editor.focus(),document.execCommand("selectAll"))})}}#ri(t){let e,i;this.matches(":focus")&&this.#wi(),this.#ii=!0,this.addEventListener("increment",e=t=>{this.#xi(),this.#bi(t.detail.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.#fi(),this.#X()}),this.addEventListener("incrementend",i=t=>{this.#ii=!1,this.removeEventListener("increment",e),this.removeEventListener("incrementend",i)})}#di(t){let e,i;this.matches(":focus")&&this.#wi(),this.#ii=!0,this.addEventListener("decrement",e=t=>{this.#xi(),this.#gi(t.detail.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.#fi(),this.#X()}),this.addEventListener("decrementend",i=t=>{this.#ii=!1,this.removeEventListener("decrement",e),this.removeEventListener("decrementend",i)})}#lt(t){"ArrowDown"===t.code?(t.preventDefault(),this.#ti=!0,this.#xi(),this.#gi(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.#fi(),this.#X()):"ArrowUp"===t.code?(t.preventDefault(),this.#ti=!0,this.#xi(),this.#bi(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.#fi(),this.#X()):"Backspace"===t.code?this.#ei=!0:"Enter"===t.code&&(this.#wi(),document.execCommand("selectAll"))}#li(t){"ArrowDown"===t.code||"ArrowUp"===t.code?(this.#ti=!1,this.#fi()):"Backspace"===t.code&&(this.#ei=!1)}#ai(t){!1===vt.includes(t.key)&&t.preventDefault()}async#ni(t){t.preventDefault();let e=t.clipboardData.getData("text/plain").trim();(t=>{let e=ft(t);return!1===xt(e)&&gt(e)})(e)&&(await X(1),document.execCommand("insertText",!1,e))}}customElements.define("x-numberinput",yt);class zt extends HTMLElement{static observedAttributes=["modal"];static#v=L`<template><svg id="arrow" viewBox="0 0 100 100" preserveAspectRatio="none"><path id="arrow-path"></path></svg><slot></slot></template>`;static#y=T`:host{position:fixed;display:none;top:0;left:0;min-height:30px;z-index:1001;box-sizing:border-box;background:#fff;-webkit-app-region:no-drag;--align:bottom;--arrow-size:20px;--open-transition:900 transform cubic-bezier(0.4, 0, 0.2, 1);--close-transition:200 opacity cubic-bezier(0.4, 0, 0.2, 1)}:host(:focus){outline:0}:host([animating]),:host([opened]){display:flex}#arrow{position:fixed;box-sizing:border-box;content:""}#arrow[data-align=bottom],#arrow[data-align=top]{width:var(--arrow-size);height:calc(var(--arrow-size) * .6);transform:translate(-50%,0)}#arrow[data-align=left],#arrow[data-align=right]{width:calc(var(--arrow-size) * .6);height:var(--arrow-size);transform:translate(0,-50%)}#arrow path{stroke-width:1;vector-effect:non-scaling-stroke}#arrow[data-align=bottom] path{d:path("M 0 100, L 50 0, L 100 100")}#arrow[data-align=top] path{d:path("M 0 0, L 50 100, L 100 0")}#arrow[data-align=left] path{d:path("M 0 0, L 100 50, L 00 100")}#arrow[data-align=right] path{d:path("M 100 0, L 0 50, L 100 100")}`;get opened(){return this.hasAttribute("opened")}get modal(){return this.hasAttribute("modal")}set modal(t){t?this.setAttribute("modal",""):this.removeAttribute("modal")}#k=null;#z={};#zi=null;#ki=null;constructor(){super(),this.#k=this.attachShadow({mode:"closed"}),this.#k.adoptedStyleSheets=[zt.#y],this.#k.append(document.importNode(zt.#v.content,!0));for(let t of this.#k.querySelectorAll("[id]"))this.#z[t.id]=t;this.#z.backdrop=U("x-backdrop"),this.#z.backdrop.style.background="rgba(0, 0, 0, 0)",this.#z.backdrop.ownerElement=this,this.#z.backdrop.addEventListener("click",(t=>{t.preventDefault()})),this.#z.backdrop.addEventListener("pointerdown",(t=>{this.hasAttribute("animating")&&t.stopPropagation()}))}connectedCallback(){this.tabIndex=-1}attributeChangedCallback(t,e,i){e!==i&&"modal"===t&&(this.modal&&this.opened?this.#z.backdrop.show():this.#z.backdrop.hide())}open(t,e=!0){return new Promise((async i=>{if(!1===this.opened){if(this.modal&&this.#z.backdrop.show(!1),this.setAttribute("opened",""),this.#Ci(),this.#Si(t),this.#zi=K(this),this.#zi&&this.#zi.addEventListener("scroll",this.#ki=()=>{this.close()},{once:!0}),e){let t=getComputedStyle(this).getPropertyValue("--open-transition"),[e,i,s]=this.#Se(t);"transform"===e&&await this.animate({transform:["scale(1, 0)","scale(1, 1)"],transformOrigin:["0 0","0 0"]},{duration:i,easing:s}).finished}this.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:this}))}i()}))}close(t=!0){return new Promise((async e=>{if(!0===this.opened&&(this.removeAttribute("opened"),this.#z.backdrop.hide(),this.dispatchEvent(new CustomEvent("close",{bubbles:!0,detail:this})),this.#zi.removeEventListener("scroll",this.#ki),t)){let t=getComputedStyle(this).getPropertyValue("--close-transition"),[e,i,s]=this.#Se(t);this.setAttribute("animating",""),"opacity"===e&&await this.animate({opacity:["1","0"]},{duration:i,easing:s}).finished,this.removeAttribute("animating")}e()}))}#Si(t){let e=getComputedStyle(this).getPropertyValue("--align").trim(),i=parseInt(getComputedStyle(this).borderWidth),s=0,h=0,n=null;this.style.maxWidth=null,this.style.maxHeight=null,this.style.left="0px",this.style.top="0px";{let e=o(this.getBoundingClientRect());0===e.top&&0===e.left||(s=-e.left,h=-e.top),n=t instanceof DOMPoint?new DOMRect(t.x,t.y,0,0):t instanceof DOMRect?t:t instanceof Element?t.getBoundingClientRect():new DOMRect}if("bottom"===e||"top"===e){let t=(t=!1)=>{this.style.maxHeight=null,this.#z.arrow.setAttribute("data-align","bottom");let e=o(this.getBoundingClientRect()),s=o(this.#z.arrow.getBoundingClientRect()),l=0;if(this.#z.arrow.style.top=h+n.bottom+2+i+"px",this.style.top=h+n.bottom+2+s.height+"px",e=o(this.getBoundingClientRect()),l=e.bottom+8-window.innerHeight,t&&l>0){let t=e.height-l;l=0,this.style.maxHeight=t+"px"}return l},l=(t=!1)=>{this.style.maxHeight=null,this.#z.arrow.setAttribute("data-align","top");let e=o(this.getBoundingClientRect()),s=o(this.#z.arrow.getBoundingClientRect()),l=0;if(this.#z.arrow.style.top=h+n.top-2-i-s.height+"px",this.style.top=h+n.top-2-s.height-e.height+"px",e=o(this.getBoundingClientRect()),l=-(e.top-8),t&&l>0){let t=e.height-l;l=0,this.style.maxHeight=t+"px",this.style.top=h+n.top-2-s.height-t+"px"}return l},a=()=>{this.style.maxWidth=null;let t=o(this.getBoundingClientRect()),e=0,i=0;return this.#z.arrow.style.left=s+n.left+n.width/2+"px",this.style.left=s+n.left+n.width/2-t.width/2+"px",t=o(this.getBoundingClientRect()),e=-(t.left-8),i=t.right+8-window.innerWidth,[e,i]},r=(t=!1)=>{this.style.maxWidth=null;let e=o(this.getBoundingClientRect()),i=0;if(this.#z.arrow.style.left=s+n.left+n.width/2+"px",this.style.left=s+window.innerWidth-8-e.width+"px",e=o(this.getBoundingClientRect()),i=-(e.left-8),t&&i>0){let t=e.width-i;i=0,this.style.maxWidth=t+"px",this.style.left=s+window.innerWidth-8-t+"px"}return i},d=(t=!1)=>{this.style.maxWidth=null;let e=o(this.getBoundingClientRect()),i=0;if(this.#z.arrow.style.left=s+n.left+n.width/2+"px",this.style.left=s+8+"px",e=o(this.getBoundingClientRect()),i=e.right+8-window.innerWidth,t&&i>0){let t=e.width-i;i=0,this.style.maxWidth=t+"px"}return i};if("bottom"===e){let e=t();if(e>0){let i=l();i>0&&(i>e?t(!0):l(!0))}}else if("top"===e){let e=l();if(e>0){let i=t();i>0&&(i>e?l(!0):t(!0))}}{let[t,e]=a();e>0?(t=r(),t>0&&r(!0)):t>0&&(e=d(),e>0&&d(!0))}}else if("right"===e||"left"===e){let t=(t=!1)=>{this.style.maxWidth=null,this.#z.arrow.setAttribute("data-align","right");let e=o(this.getBoundingClientRect()),h=o(this.#z.arrow.getBoundingClientRect()),l=0;if(this.#z.arrow.style.left=s+n.right+2+i+"px",this.style.left=s+n.right+2+h.width+"px",e=o(this.getBoundingClientRect()),l=e.right+8-window.innerWidth,t&&l>0){let t=e.width-l;l=0,this.style.maxWidth=t+"px"}return l},l=(t=!1)=>{this.style.maxWidth=null,this.#z.arrow.setAttribute("data-align","left");let e=o(this.getBoundingClientRect()),h=o(this.#z.arrow.getBoundingClientRect()),l=0;if(this.#z.arrow.style.left=s+n.left-2-i-h.width+"px",this.style.left=s+n.left-2-h.width-e.width+"px",e=o(this.getBoundingClientRect()),l=-(e.left-8),t&&l>0){let t=e.width-l;l=0,this.style.maxWidth=t+"px",this.style.left=s+n.left-2-h.width-t+"px"}return l},a=()=>{this.style.maxHeight=null;let t=o(this.getBoundingClientRect()),e=0,i=0;return this.#z.arrow.style.top=h+n.top+n.height/2+"px",this.style.top=h+n.top+n.height/2-t.height/2+"px",t=o(this.getBoundingClientRect()),e=-(t.top-8),i=t.bottom+8-window.innerHeight,[e,i]},r=(t=!1)=>{this.style.maxHeight=null;let e=o(this.getBoundingClientRect()),i=0;if(this.#z.arrow.style.top=h+n.top+n.height/2+"px",this.style.top=h+window.innerHeight-8-e.height+"px",e=o(this.getBoundingClientRect()),i=-(e.top-8),t&&i>0){let t=e.height-i;i=0,this.style.maxHeight=t+"px",this.style.top=h+window.innerHeight-8-t+"px"}return i},d=(t=!1)=>{this.style.maxHeight=null;let e=o(this.getBoundingClientRect()),i=0;if(this.#z.arrow.style.top=h+n.top+n.height/2+"px",this.style.top=h+8+"px",e=o(this.getBoundingClientRect()),i=e.bottom+8-window.innerHeight,t&&i>0){let t=e.height-i;i=0,this.style.maxHeight=t+"px"}return i};if("right"===e){let e=t();if(e>0){let i=l();i>0&&(i>e?t(!0):l(!0))}}else if("left"===e){let e=l();if(e>0){let i=t();i>0&&(i>e?l(!0):t(!0))}}{let[t,e]=a();e>0?(t=r(),t>0&&r(!0)):t>0&&(e=d(),e>0&&d(!0))}}}#Ci(){{let{backgroundColor:t,borderColor:e,borderWidth:i}=getComputedStyle(this);this.#z["arrow-path"].style.fill=t,this.#z["arrow-path"].style.stroke=e,this.#z["arrow-path"].style.strokeWidth=i}}#Se(t){let[e,i,...s]=t.trim().split(" ");return[i,parseFloat(e),s.join(" ")]}}customElements.define("x-popover",zt);class kt extends HTMLElement{static observedAttributes=["value","max","disabled","size"];static#v=L`<template><div id="determinate-bar" part="bar"></div><div id="indeterminate-bars"><div id="primary-indeterminate-bar" part="bar"></div><div id="secondary-indeterminate-bar" part="bar"></div></div></template>`;static#y=T`:host{display:block;box-sizing:border-box;height:8px;width:100%;position:relative;contain:strict;overflow:hidden;background:#acece6;cursor:default}:host([hidden]){display:none}#indeterminate-bars{width:100%;height:100%}#determinate-bar{position:absolute;top:0;left:0;bottom:0;width:0%;height:100%;background:#3b99fb;box-shadow:0 0 0 1px #3385db;transition:width .4s ease-in-out;will-change:left,right}:host([value="-1"]) #determinate-bar{visibility:hidden}#primary-indeterminate-bar{position:absolute;top:0;left:0;bottom:0;height:100%;background:#3b99fb;will-change:left,right}#secondary-indeterminate-bar{position:absolute;top:0;left:0;bottom:0;height:100%;background:#3b99fb;will-change:left,right}`;get value(){return this.hasAttribute("value")?parseFloat(this.getAttribute("value")):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get max(){return this.hasAttribute("max")?parseFloat(this.getAttribute("max")):1}set max(t){this.setAttribute("max",t)}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#k=null;#z={};#Ei=null;#S=null;constructor(){super(),this.#k=this.attachShadow({mode:"closed"}),this.#k.adoptedStyleSheets=[kt.#y],this.#k.append(document.importNode(kt.#v.content,!0));for(let t of this.#k.querySelectorAll("[id]"))this.#z[t.id]=t}connectedCallback(){P.addEventListener("sizechange",this.#S=()=>this.#M()),this.#X(),this.#M()}disconnectedCallback(){P.removeEventListener("sizechange",this.#S)}attributeChangedCallback(t,e,i){e!==i&&("value"===t||"disabled"===t?this.#X():"size"===t&&this.#M())}#X(){if(null===this.value||-1===this.value||this.disabled?this.#z["determinate-bar"].style.width="0%":this.#z["determinate-bar"].style.width=this.value/this.max*100+"%",null!==this.value||this.disabled){if(this.#Ei){for(let t of this.#Ei)t.cancel();this.#Ei=null}}else this.#Ei||(this.#Ei=[this.#z["primary-indeterminate-bar"].animate([{left:"-35%",right:"100%",offset:0},{left:"100%",right:"-90%",offset:.6},{left:"100%",right:"-90%",offset:1}],{duration:2e3,easing:"ease-in-out",iterations:Infinity}),this.#z["secondary-indeterminate-bar"].animate([{left:"-100%",right:"100%",offset:0},{left:"110%",right:"-30%",offset:.8},{left:"110%",right:"-30%",offset:1}],{duration:2e3,delay:1e3,easing:"ease-in-out",iterations:Infinity})])}#M(){let t=P.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}}customElements.define("x-progressbar",kt);class Ct extends HTMLElement{static observedAttributes=["toggled","disabled","size"];static#v=L`<template><main id="main"><div id="indicator" part="indicator"><div id="indicator-dot" part="indicator-dot"></div></div><div id="description"><slot></slot></div></main></template>`;static#y=T`:host{display:block;position:relative;width:fit-content}:host(:focus){outline:0}:host([disabled]){opacity:.4;pointer-events:none}:host([hidden]){display:none}#main{display:flex;align-items:center}#indicator{position:relative;border:3px solid #000;width:19px;height:19px;border-radius:99px;display:flex;align-items:center;justify-content:center}#indicator-dot{width:100%;height:100%;background:currentColor;border-radius:99px;transform:scale(0)}:host([mixed][toggled]) #indicator-dot{height:33%;border-radius:0}:host([toggled]) #indicator-dot{transform:scale(.5)}#description{flex:1}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get toggled(){return this.hasAttribute("toggled")}set toggled(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#k=null;#z={};#nt=0;#S=null;constructor(){super(),this.#k=this.attachShadow({mode:"closed"}),this.#k.adoptedStyleSheets=[Ct.#y],this.#k.append(document.importNode(Ct.#v.content,!0));for(let t of this.#k.querySelectorAll("[id]"))this.#z[t.id]=t;this.addEventListener("click",(t=>this.#L(t))),this.addEventListener("pointerdown",(t=>this.#ot(t))),this.addEventListener("keydown",(t=>this.#lt(t)))}connectedCallback(){P.addEventListener("sizechange",this.#S=()=>this.#M()),this.#rt(),this.#M()}disconnectedCallback(){P.removeEventListener("sizechange",this.#S)}attributeChangedCallback(t){"toggled"===t?this.#St():"disabled"===t?this.#Et():"size"===t&&this.#M()}#rt(){this.setAttribute("role","radio"),this.setAttribute("aria-checked",this.toggled),this.setAttribute("aria-disabled",this.disabled),this.closest("x-radios")||(this.disabled?(this.#nt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#nt>0?this.#nt:0),this.#nt=0))}#M(){let t=P.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}#St(){this.setAttribute("aria-checked",this.toggled)}#Et(){this.#rt()}#L(t){this.closest("x-radios")||(this.toggled&&this.mixed?this.mixed=!1:(this.mixed=!1,this.toggled=!this.toggled),this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0})))}#ot(t){if(!1===this.matches(":focus")){t.preventDefault();let e=j(this.parentNode,"[tabindex]");e&&e.focus()}}#lt(t){"Enter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.click())}}customElements.define("x-radio",Ct);class St extends HTMLElement{get value(){let t=this.querySelector("x-radio[toggled]");return t?t.value:null}set value(t){for(let e of this.querySelectorAll("x-radio"))e.toggled=e.value===t&&null!==t}#k=null;constructor(){super(),this.#k=this.attachShadow({mode:"closed"}),this.#k.innerHTML="<slot></slot>",this.addEventListener("click",(t=>this.#L(t)),!0),this.addEventListener("keydown",(t=>this.#lt(t)))}connectedCallback(){this.setAttribute("role","radiogroup");let t=[...this.querySelectorAll("x-radio")].filter((t=>t.closest("x-radios")===this)),e=t.find((t=>t.toggled&&!t.disabled))||t.find((t=>!t.disabled));for(let i of t)i.setAttribute("tabindex",i===e?"0 ":"-1"),i.setAttribute("aria-checked",i===e)}#L(t){let e=t.target.closest("x-radio");if(e&&!e.toggled&&!e.disabled&&t.buttons<=1){let t=[...this.querySelectorAll("x-radio")].filter((t=>t.closest("x-radios")===this&&t!==e));if(!1===e.toggled||!0===e.mixed){e.toggled=!0,e.mixed=!1,e.tabIndex=0;for(let e of t)e.toggled=!1,e.tabIndex=-1;this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}))}}}#lt(t){let{key:e}=t;if("ArrowDown"===e||"ArrowRight"===e){let e=[...this.querySelectorAll("x-radio")],i=e.filter((t=>!1===t.disabled&&t.closest("x-radios")===this)),s=e.find((t=>t.matches(":focus")));if(s){let e=i.indexOf(s),h=i.length>1?i[e+1]||i[0]:null;h&&(t.preventDefault(),h.focus(),h.tabIndex=0,s.tabIndex=-1)}}else if("ArrowUp"===e||"ArrowLeft"===e){let e=[...this.querySelectorAll("x-radio")],i=e.filter((t=>!1===t.disabled&&t.closest("x-radios")===this)),s=e.find((t=>t.matches(":focus")));if(s){let e=i.indexOf(s),h=i[i.length-1],n=i.length>1?i[e-1]||h:null;n&&(t.preventDefault(),n.focus(),n.tabIndex=0,s.tabIndex=-1)}}}}customElements.define("x-radios",St);class Et extends HTMLElement{static observedAttributes=["value","size"];static#v=L`<template><x-box vertical><div id="hue-slider"><div id="hue-slider-track"><div id="hue-slider-marker"></div></div></div><div id="satlight-slider"><div id="satlight-marker"></div></div><div id="alpha-slider"><div id="alpha-slider-gradient"></div><div id="alpha-slider-track"><div id="alpha-slider-marker"></div></div></div></x-box></template>`;static#y=T`:host{display:block;width:100%;user-select:none}:host([hidden]){display:none}#hue-slider{width:100%;height:30px;padding:0 calc(var(--marker-width)/ 2);margin-bottom:14px;box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px;background:red}:host([computedsize=small]) #hue-slider{height:24px}:host([computedsize=large]) #hue-slider{height:35px}#hue-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center;background:linear-gradient(to right,red,#ff0,#0f0,#0ff,#00f,#f0f,red)}#hue-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#satlight-slider{width:100%;height:174px;border-radius:2px;position:relative;touch-action:pinch-zoom}#satlight-marker{position:absolute;top:0;left:0;width:var(--marker-size);height:var(--marker-size);transform:translate(calc(var(--marker-size)/ -2),calc(var(--marker-size)/ -2));box-sizing:border-box;background:rgba(0,0,0,.3);border:3px solid #fff;border-radius:999px;box-shadow:0 0 3px #000;--marker-size:20px}#alpha-slider{position:relative;display:none;width:100%;height:30px;margin-top:14px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px;background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}:host([alphaslider]) #alpha-slider{display:block}:host([computedsize=small]) #alpha-slider{height:24px}:host([computedsize=large]) #alpha-slider{height:35px}#alpha-slider-gradient{position:absolute;top:0;left:0;width:100%;height:100%}#alpha-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#alpha-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):"hsla(0, 0%, 100%, 1)"}set value(t){this.setAttribute("value",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#k=null;#z={};#S=null;#P=0;#R=0;#Ai=100;#O=1;#B=!1;#Li=!1;#N=!1;constructor(){super(),this.#k=this.attachShadow({mode:"closed"}),this.#k.adoptedStyleSheets=[Et.#y],this.#k.append(document.importNode(Et.#v.content,!0));for(let t of this.#k.querySelectorAll("[id]"))this.#z[t.id]=t;this.#z["hue-slider"].addEventListener("pointerdown",(t=>this.#q(t))),this.#z["satlight-slider"].addEventListener("pointerdown",(t=>this.#Ti(t))),this.#z["alpha-slider"].addEventListener("pointerdown",(t=>this.#K(t)))}connectedCallback(){this.#X(),this.#M(),P.addEventListener("sizechange",this.#S=()=>this.#M())}disconnectedCallback(){P.removeEventListener("sizechange",this.#S)}attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.#V():"size"===t&&this.#Z())}#X(){this.#G(),this.#Mi(),this.#Di(),this.#_(),this.#tt()}#G(){this.#z["hue-slider-marker"].style.left=l(this.#P,0,360,0)/360*100+"%"}#Mi(){let t=this.#R/100*100,e=100-this.#Ai/100*100;this.#z["satlight-marker"].style.left=`${t}%`,this.#z["satlight-marker"].style.top=`${e}%`}#Di(){let t=v([this.#P,100,50,1],"hsla","hex");this.#z["satlight-slider"].style.background=`linear-gradient(to bottom, rgba(0,0,0,0), rgba(0,0,0,1)), linear-gradient(to left, rgba(255,255,255,0), rgba(255,255,255,1)), ${t}`}#_(){this.#z["alpha-slider-marker"].style.left=l(100*(1-this.#O),0,100,2)+"%"}#tt(){let[t,e,i]=w(this.#P,this.#R,this.#Ai).map((t=>n(t,0)));this.#z["alpha-slider-gradient"].style.background=`\n      linear-gradient(to right, rgba(${t}, ${e}, ${i}, 1), rgba(${t}, ${e}, ${i}, 0))\n    `}#M(){let t=P.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}#V(){if(!1===this.#B&&!1===this.#Li&&!1===this.#N){let[t,e,i,s]=(new E).parse(this.value,"hsva");this.#P=t,this.#R=e,this.#Ai=i,this.#O=s,this.#X()}}#Z(){this.#M()}#Ti(t){if(t.buttons>1)return;let e,i,s=this.#z["satlight-slider"].getBoundingClientRect();this.#Li=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.#z["satlight-slider"].setPointerCapture(t.pointerId);let h=(t,e)=>{let i=(t-s.left)/s.width*100,h=(e-s.top)/s.height*100;i=l(i,0,100,2),h=l(h,0,100,2),this.#R=i,this.#Ai=100-h,this.value=v([this.#P,this.#R,this.#Ai,this.#O],"hsva","hsla"),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.#Mi(),this.#Di(),this.#tt()};h(t.clientX,t.clientY),this.#z["satlight-slider"].addEventListener("pointermove",e=t=>{h(t.clientX,t.clientY)}),this.#z["satlight-slider"].addEventListener("pointerup",i=t=>{this.#z["satlight-slider"].removeEventListener("pointermove",e),this.#z["satlight-slider"].removeEventListener("pointerup",i),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.#Li=!1})}#q(t){if(t.buttons>1)return;let e,i,s=this.#z["hue-slider-track"].getBoundingClientRect();this.#B=!0,this.#z["hue-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let h=t=>{let e=(t-s.x)/s.width*360;e=l(e,0,360,0),e!==this.#P&&(this.#P=e,this.value=v([this.#P,this.#R,this.#Ai,this.#O],"hsva","hsla"),this.#G(),this.#Di(),this.#Mi(),this.#tt(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};h(t.clientX),this.#z["hue-slider"].addEventListener("pointermove",e=t=>{h(t.clientX)}),this.#z["hue-slider"].addEventListener("pointerup",i=()=>{this.#z["hue-slider"].removeEventListener("pointermove",e),this.#z["hue-slider"].removeEventListener("pointerup",i),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.#B=!1})}#K(t){if(t.buttons>1)return;let e,i,s=this.#z["alpha-slider-track"].getBoundingClientRect();this.#N=!0,this.#z["alpha-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let h=t=>{let e=1-(t-s.x)/s.width;e=l(e,0,1,2),e!==this.#O&&(this.#O=e,this.value=v([this.#P,this.#R,this.#Ai,this.#O],"hsva","hsla"),this.#_(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};h(t.clientX),this.#z["alpha-slider"].addEventListener("pointermove",e=t=>{h(t.clientX)}),this.#z["alpha-slider"].addEventListener("pointerup",i=()=>{this.#z["alpha-slider"].removeEventListener("pointermove",e),this.#z["alpha-slider"].removeEventListener("pointerup",i),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.#N=!1})}}customElements.define("x-rectcolorpicker",Et);let At=Symbol();class Lt extends HTMLElement{static observedAttributes=["disabled","size"];static#v=L`<template><div id="button"><div id="arrow-container"><svg id="arrow" part="arrow" viewBox="0 0 100 100" preserveAspectRatio="none"><path></path></svg></div></div><slot></slot></template>`;static#y=T`:host{display:block;width:fit-content;height:32px;padding:0 0 0 9px;max-width:100%;box-sizing:border-box;position:relative;outline:0;font-size:14px;user-select:none}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}:host(:hover){cursor:default}#button{display:flex;flex-flow:row;align-items:center;justify-content:flex-start;flex:1;width:100%;height:100%}:host([mixed]) #button>*{opacity:.7}#button>x-label{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}#button>#arrow-container{margin:0 0 0 auto;z-index:999}#button>#arrow-container #arrow{display:flex;width:13px;height:13px;min-width:13px;margin:0 2px 0 11px;color:currentColor;d:path("M 25 41 L 50 16 L 75 41 L 83 34 L 50 1 L 17 34 Z M 17 66 L 50 100 L 83 66 L 75 59 L 50 84 L 25 59 Z")}#button>#arrow-container #arrow path{fill:currentColor;d:inherit}`;get value(){let t=this.querySelector("x-menuitem[toggled]");return t?t.value:null}set value(t){for(let e of this.querySelectorAll("x-menuitem"))e.toggled=e.value===t&&null!==t}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#k=null;#z={};#nt=0;#st=!1;#$i=null;#Pi=null;#S=null;#Ri=new MutationObserver((t=>this.#Ii(t)));#C=new ResizeObserver((()=>this.#Oi()));constructor(){super(),this.#k=this.attachShadow({mode:"closed"}),this.#k.adoptedStyleSheets=[Lt.#y],this.#k.append(document.importNode(Lt.#v.content,!0));for(let t of this.#k.querySelectorAll("[id]"))this.#z[t.id]=t;this.#z.backdrop=U("x-backdrop"),this.#z.backdrop.style.opacity="0",this.#z.backdrop.ownerElement=this,this.#z.backdrop.addEventListener("click",(t=>this.#Bi(t))),this.addEventListener("pointerdown",(t=>this.#ot(t))),this.addEventListener("toggle",(t=>this.#Hi(t))),this.addEventListener("click",(t=>this.#L(t))),this.addEventListener("keydown",(t=>this.#lt(t)))}connectedCallback(){this.#Ri.observe(this,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),this.#C.observe(this),this.#Fi(),this.#rt(),this.#M(),P.addEventListener("sizechange",this.#S=()=>this.#M())}disconnectedCallback(){this.#Ri.disconnect(),this.#C.disconnect(),P.removeEventListener("sizechange",this.#S)}attributeChangedCallback(t){"disabled"===t?this.#rt():"size"===t&&this.#M()}#Dt(){if(!1===this.#Ni())return;this.#st=this.matches(":focus"),this.#z.backdrop.show(!1),window.addEventListener("resize",this.#$i=()=>{this.#$t()}),window.addEventListener("blur",this.#Pi=()=>{this.#$t()});let t=this.querySelector(":scope > x-menu");{let e=null;for(let i of t.querySelectorAll("x-menuitem"))i.togglable=!0,i.toggled&&(null===e?e=i:i.toggled=!1)}if(t.querySelector("x-menuitem[toggled]")){let e=this.#z.button.querySelector("x-label")||this.#z.button.firstElementChild,i=e[At];t.openOverElement(e,i)}else{let e=t.querySelector("x-menuitem").firstElementChild;t.openOverElement(this.#z.button,e)}{let e=t.getBoundingClientRect(),i=this.#z.button.getBoundingClientRect(),s=parseFloat(getComputedStyle(this).paddingRight);e.right-s<i.right&&(t.style.minWidth=i.right-e.left+s+"px")}{let t=this.getBoundingClientRect();t.right+7>window.innerWidth&&(this.style.maxWidth=window.innerWidth-t.left-7+"px")}}async#$t(t=null){if(!1===this.#qi())return;let e=this.querySelector(":scope > x-menu");if(e.setAttribute("closing",""),await t,this.#z.backdrop.hide(!1),this.#st)this.focus();else{let t=j(this.parentNode,"[tabindex]");t&&t.focus()}window.removeEventListener("resize",this.#$i),window.removeEventListener("blur",this.#Pi),await e.close(),e.removeAttribute("closing")}#Ni(){if(this.disabled)return!1;{let t=this.querySelector(":scope > x-menu"),e=t.querySelector("x-menuitem");return null!==t&&!1===t.opened&&!1===t.hasAttribute("closing")&&null!==e}}#qi(){if(this.disabled)return!1;{let t=this.querySelector(":scope > x-menu");return t.querySelector("x-menuitem"),null!==t&&!0===t.opened&&!1===t.hasAttribute("closing")}}#Fi(){let t=this.querySelector(":scope > x-menu x-menuitem[toggled]");if(this.#z.button.innerHTML="",t){for(let e of t.children){let t=e.cloneNode(!0);t[At]=e,t.removeAttribute("id"),t.removeAttribute("style"),this.#z.button.append(t)}this.#Ui()}this.#z.button.append(this.#z["arrow-container"])}#ji=Z(this.#Fi,300,this);#Ui(){for(let t of this.#z.button.children)if(t!==this.#z["arrow-container"]){let{width:e,height:i,margin:s,padding:h,border:n,borderRadius:o}=getComputedStyle(t[At]);["x-icon","x-swatch","img","svg"].includes(t[At].localName)&&(t.style.width=e,t.style.height=i,t.style.minWidth=e,t.style.borderRadius=o),t.style.margin=s,t.style.padding=h,t.style.border=n}}#rt(){this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#nt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#nt>0?this.#nt:0),this.#nt=0);{this.setAttribute("role","button");let t=this.querySelector(":scope > x-menu");if(t){t.setAttribute("role","listbox");for(let e of t.querySelectorAll("x-menuitem"))e.setAttribute("role","option")}}}#M(){let t=P.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}#Ii(t){for(let e of t)"attributes"===e.type&&"x-menuitem"===e.target.localName&&"toggled"===e.attributeName&&this.#ji()}#Oi(){this.#Ui()}#ot(t){t.target.closest("x-menu")||!1!==this.matches(":focus")||t.preventDefault()}async#L(t){if(!(t.buttons>1))if(this.#Ni())this.#Dt();else if(this.#qi()){let e=t.target.closest("x-menuitem");if(e){let t=this.value,i=e.value;for(let t of this.querySelectorAll("x-menuitem"))t.toggled=t===e;await this.#$t(e.whenTriggerEnd),(t!==i||this.mixed)&&(this.mixed=!1,this.dispatchEvent(new CustomEvent("change",{bubbles:!0,detail:{oldValue:t,newValue:i}})))}}}#Hi(t){t.preventDefault()}#Bi(t){this.#$t()}#lt(t){!1===t.defaultPrevented&&(this.querySelector(":scope > x-menu"),"Enter"===t.key||"Space"===t.key||"ArrowUp"===t.key||"ArrowDown"===t.key?this.#Ni()&&(t.preventDefault(),this.#Dt()):"Escape"===t.key&&this.#qi()&&(t.preventDefault(),this.#$t()))}}customElements.define("x-select",Lt);const Tt=navigator.platform.startsWith("Mac")||["iPhone","iPad"].includes(navigator.platform),Mt=["Alt","AltGraph","CapsLock","Control","Fn","FnLock","Meta","NumLock","ScrollLock","Shift","Symbol","SymbolLock"];class Dt extends HTMLElement{static observedAttributes=["value"];static#v=L`<template><main id="main"></main></template>`;static#y=T`:host{display:inline-block;box-sizing:border-box;font-size:14px;line-height:1}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}`;get value(){let t=[];if(this.hasAttribute("value")){let e=this.getAttribute("value").replace("++","+PLUS").split("+");e=e.map((t=>t.trim().replace("PLUS","+"))).filter((t=>""!==t)),t=e}return t}set value(t){this.setAttribute("value",t.join("+"))}get modKeys(){return this.value.filter((t=>Mt.includes(t)))}get normalKey(){let t=this.value.find((t=>!1===Mt.includes(t)));return void 0===t?null:t}#k=null;#z={};constructor(){super(),this.#k=this.attachShadow({mode:"closed"}),this.#k.adoptedStyleSheets=[Dt.#y],this.#k.append(document.importNode(Dt.#v.content,!0));for(let t of this.#k.querySelectorAll("[id]"))this.#z[t.id]=t}attributeChangedCallback(t){"value"===t&&this.#X()}#X(){let t="";this.value;let e=this.modKeys,i=this.normalKey;if(Tt){e.includes("Meta")&&(t+="^"),e.includes("Alt")&&(t+="⌥"),e.includes("Shift")&&(t+="⇧"),e.includes("Control")&&(t+="⌘"),e.includes("Symbol")&&(t+="☺");let s={ArrowUp:"↑",ArrowDown:"↓",ArrowLeft:"←",ArrowRight:"→",Backspace:"⌦"};void 0!==i&&(t+=s[i]||i)}else{let s=[];e.includes("Control")&&s.push("Ctrl"),e.includes("Alt")&&s.push("Alt"),e.includes("Meta")&&s.push("Meta"),e.includes("Shift")&&s.push("Shift"),e.includes("Symbol")&&s.push("Symbol");let h={ArrowUp:"Up",ArrowDown:"Down",ArrowLeft:"Left",ArrowRight:"Right"};null!==i&&s.push(h[i]||i),t=s.join("+")}this.#z.main.textContent=t}}customElements.define("x-shortcut",Dt);let $t=(t,e,i=!1)=>{if(t.length!==e.length)return!1;if(i)for(let i in t){if(t[i]!==e[i])return!1}else{for(let i=0;i<t.length;i+=1)if(!e.includes(t[i]))return!1;for(let i=0;i<e.length;i+=1)if(!t.includes(e[i]))return!1}return!0};class Pt extends HTMLElement{static observedAttributes=["value","buffer","min","max","size"];static#v=L`<template><main id="main"><div id="tracks-and-thumbs"><div id="groove-track" part="track groove-track"></div><div id="buffer-track" part="track buffer-track"></div><div id="range-track" part="track range-track"></div><div id="thumbs"><div id="start-thumb" class="thumb" part="thumb start-thumb" data-value="start" tabindex="0"></div><div id="end-thumb" class="thumb" part="thumb end-thumb" data-value="end" tabindex="0"></div></div></div><div id="ticks"></div><div id="labels"><slot></slot></div></main></template>`;static#y=T`:host{display:block;width:100%;position:relative;box-sizing:border-box;touch-action:pan-y}:host(:focus){outline:0}:host(:hover){cursor:default}:host([disabled]){pointer-events:none;opacity:.4}:host([vertical]){width:fit-content;height:200px}#main{display:flex;flex-flow:column;width:100%;height:100%}:host([vertical]) #main{flex-flow:row}#tracks-and-thumbs{position:relative;width:100%;height:100%}#range-track{position:absolute;width:0%;height:3px;background:#000;top:50%;transform:translateY(-50%)}:host([vertical]) #range-track{width:3px;height:0%;top:initial;left:50%;transform:translateX(-50%)}#groove-track{position:absolute;width:100%;height:3px;background:gray;border-radius:10px;top:50%;transform:translateY(-50%)}:host([vertical]) #groove-track{width:3px;height:100%;top:initial;left:50%;transform:translateX(-50%)}#buffer-track{position:absolute;width:0%;height:3px;background:red;top:50%;transform:translateY(-50%)}:host([vertical]) #buffer-track{width:3px;height:0%;top:initial;left:50%;transform:translateX(-50%)}#thumbs{position:relative;width:calc(100% - var(--computed-thumb-width));height:100%;margin:0 auto}:host([vertical]) #thumbs{height:calc(100% - var(--computed-thumb-height));width:100%;margin:auto 0}#thumbs .thumb{position:absolute;top:0;left:0;width:20px;height:20px;margin-left:calc(var(--computed-thumb-width)/ -2);box-sizing:border-box;background:gray;border:1px solid rgba(0,0,0,.2)}:host([vertical]) #thumbs .thumb{margin-left:0}#thumbs .thumb:first-child{position:relative}#thumbs .thumb:focus{outline:0;z-index:2}#ticks{position:relative;width:calc(100% - var(--computed-thumb-width));margin:0 calc(var(--computed-thumb-width)/ 2)}:host([vertical]) #ticks{width:initial;height:calc(100% - var(--computed-thumb-height));margin:calc(var(--computed-thumb-height)/ 2) 0}#ticks:empty{display:none}#ticks .tick{position:absolute;left:0;top:0;width:1px;height:5px;background:rgba(0,0,0,.4)}:host([vertical]) #ticks .tick{width:5px;height:1px;left:0;top:0}#ticks .tick:first-child{position:relative}#labels{position:relative;width:calc(100% - var(--computed-thumb-width));margin:0 calc(var(--computed-thumb-width)/ 2)}:host([vertical]) #labels{width:initial;height:calc(100% - var(--computed-thumb-height));margin:calc(var(--computed-thumb-height)/ 2) 0}:host(:empty) #labels{display:none}::slotted(x-label){display:inline-block;top:0;position:absolute;vertical-align:top;transform:translateX(-50%);white-space:nowrap}:host([vertical]) ::slotted(x-label){top:initial;left:4px;transform:translateY(-50%)}`;get min(){return this.hasAttribute("min")?parseFloat(this.getAttribute("min")):0}set min(t){this.setAttribute("min",t)}get max(){return this.hasAttribute("max")?parseFloat(this.getAttribute("max")):100}set max(t){this.setAttribute("max",t)}get value(){if(this.hasAttribute("value")){let t=this.getAttribute("value").split(/[ ,]+/);return t.length>=2?t.map((t=>parseFloat(t))).slice(0,2):parseFloat(t[0])}return this.max>=this.min?this.min+(this.max-this.min)/2:this.min}set value(t){Array.isArray(t)?((t=t.map((t=>l(t,this.min,this.max)))).length=2,this.setAttribute("value",t.join(" "))):(t=l(t,this.min,this.max),this.setAttribute("value",t))}get buffer(){if(this.hasAttribute("buffer")){let t=this.getAttribute("buffer").split(/[ ,]+/);return t.length>=2?t.map((t=>parseFloat(t))).slice(0,2):[0,parseFloat(t[0])]}return[0,0]}set buffer(t){(t=t.map((t=>l(t,this.min,this.max)))).length=2,this.setAttribute("buffer",t.join(" "))}get step(){return this.hasAttribute("step")?parseFloat(this.getAttribute("step")):1}set step(t){this.setAttribute("step",t)}get vertical(){return this.hasAttribute("vertical")}set vertical(t){t?this.setAttribute("vertical",""):this.removeAttribute("vertical")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}get dragging(){return this.getAttribute("dragging")}#k=null;#z={};#nt=0;#S=null;#Ri=new MutationObserver((t=>this.#Ii(t)));#Ki=new ResizeObserver((()=>this.#Xi()));constructor(){super(),this.#k=this.attachShadow({mode:"closed",delegatesFocus:!0}),this.#k.adoptedStyleSheets=[Pt.#y],this.#k.append(document.importNode(Pt.#v.content,!0));for(let t of this.#k.querySelectorAll("[id]"))this.#z[t.id]=t;this.#k.addEventListener("pointerdown",(t=>this.#hi(t))),this.addEventListener("pointerdown",(t=>this.#ot(t))),this.addEventListener("keydown",(t=>this.#lt(t)))}connectedCallback(){this.setAttribute("value",this.value),P.addEventListener("sizechange",this.#S=()=>this.#M()),this.#Ki.observe(this.#z["start-thumb"]),this.#Ri.observe(this,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"],characterData:!1}),this.#Vi(),this.#Zi(),this.#Gi(),this.#rt(),this.#M()}disconnectedCallback(){P.removeEventListener("sizechange",this.#S),this.#Ki.unobserve(this.#z["start-thumb"]),this.#Ri.disconnect()}attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.#V():"buffer"===t?this.#Yi():"min"===t?this.#ui():"max"===t?this.#ci():"size"===t&&this.#Z())}#V(){this.#Vi(),this.#Zi()}#Yi(){this.#Vi()}#ui(){this.#Vi(),this.#Zi(),this.#Gi()}#ci(){this.#Vi(),this.#Zi(),this.#Gi()}#Z(){this.#M()}#Ii(t){for(let e of t){if("attributes"===e.type&&e.target===this)return;this.#Wi()}}#Xi(){let t=this.#z["start-thumb"].getBoundingClientRect();this.#z.main.style.setProperty("--computed-thumb-width",t.width+"px"),this.#z.main.style.setProperty("--computed-thumb-height",t.height+"px")}#ot(t){if(!1===this.matches(":focus")){t.preventDefault();let e=j(this.parentNode,"[tabindex]");e&&e.focus()}}#hi(t){if(t.buttons>1||!1===t.isPrimary)return;let e,i,s=null,{width:h,height:o}=this.#z["start-thumb"].getBoundingClientRect(),d=this.#z.main.getBoundingClientRect(),u=!1;if(t.target.matches(".thumb"))s=t.target;else if(!0===this.#z["end-thumb"].hidden)s=this.#z["start-thumb"];else{let e=this.#z["start-thumb"].getBoundingClientRect(),i=this.#z["end-thumb"].getBoundingClientRect(),h=new DOMPoint(e.x+e.width/2,e.y+e.height/2),n=new DOMPoint(i.x+i.width/2,i.y+i.height/2),o=new DOMPoint(t.clientX,t.clientY),l=r(o,h),a=r(o,n);s=l<=a?this.#z["start-thumb"]:this.#z["end-thumb"]}let c=(t,e)=>{let i=0;if(this.vertical){let t=d.y+d.height-o/2-e;t=l(t,0,d.height-o),i=t/(d.height-o)*(this.max-this.min)+this.min}else{let e=t-(d.x+h/2);e=l(e,0,d.width-h),i=e/(d.width-h)*(this.max-this.min)+this.min}var r,c;if(r=i,c=this.step,i=n(n(r/c)*c,a(c)),Array.isArray(this.value)){let[t,e]=this.value;s===this.#z["start-thumb"]?(i>=e&&(i=e),i!==t&&(this.value=[i,e],!1===u&&(u=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}))),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))):s===this.#z["end-thumb"]&&(i<=t&&(i=t),i!==e&&(this.value=[t,i],!1===u&&(u=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}))),this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))))}else this.value!==i&&(this.value=i,!1===u&&(u=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}))),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};s.setPointerCapture(t.pointerId),this.setAttribute("dragging",s.dataset.value),c(t.clientX,t.clientY);for(let t of this.#z.thumbs.children)t.style.zIndex=t===s?"1":"0";s.addEventListener("pointermove",e=t=>{t.isPrimary&&c(t.clientX,t.clientY)}),s.addEventListener("pointerup",i=()=>{s.removeEventListener("pointermove",e),s.removeEventListener("pointerup",i),this.removeAttribute("dragging"),u&&this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}))})}#lt(t){if("ArrowLeft"===t.code||"ArrowDown"===t.code){t.preventDefault(),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let e=this.value;if(Array.isArray(this.value)){let[i,s]=this.value;this.#k.activeElement===this.#z["start-thumb"]?t.shiftKey?i-=10*this.step:i-=this.step:this.#k.activeElement===this.#z["end-thumb"]&&(t.shiftKey?s-=10*this.step:s-=this.step,s<=i&&(s=i)),this.value=[i,s],!1===$t(e,this.value)&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}else t.shiftKey?this.value-=10*this.step:this.value-=this.step,e!==this.value&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}))}else if("ArrowRight"===t.code||"ArrowUp"===t.code){t.preventDefault(),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let e=this.value;if(Array.isArray(this.value)){let[i,s]=this.value;this.#k.activeElement===this.#z["start-thumb"]?(t.shiftKey?i+=10*this.step:i+=this.step,i>=s&&(i=s)):this.#k.activeElement===this.#z["end-thumb"]&&(t.shiftKey?s+=10*this.step:s+=this.step),this.value=[i,s],!1===$t(e,this.value)&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}else t.shiftKey?this.value+=10*this.step:this.value+=this.step,e!==this.value&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}))}}#Zi(){if(Array.isArray(this.value)){let[t,e]=this.value;{let e=(t-this.min)/(this.max-this.min)*100;this.vertical?(this.#z["start-thumb"].style.top=100-e+"%",this.#z["start-thumb"].hidden=!1):(this.#z["start-thumb"].style.left=e+"%",this.#z["start-thumb"].hidden=!1)}{let t=(e-this.min)/(this.max-this.min)*100;this.vertical?(this.#z["end-thumb"].style.top=100-t+"%",this.#z["end-thumb"].hidden=!1):(this.#z["end-thumb"].style.left=t+"%",this.#z["end-thumb"].hidden=!1)}}else{let t=(this.value-this.min)/(this.max-this.min)*100;this.vertical?(this.#z["start-thumb"].style.top=100-t+"%",this.#z["start-thumb"].hidden=!1,this.#z["end-thumb"].hidden=!0):(this.#z["start-thumb"].style.left=t+"%",this.#z["start-thumb"].hidden=!1,this.#z["end-thumb"].hidden=!0)}}#Vi(){if(Array.isArray(this.value)){let[t,e]=this.value,i=(t-this.min)/(this.max-this.min)*100,s=(e-this.min)/(this.max-this.min)*100;this.vertical?(this.#z["range-track"].style.bottom=`${i}%`,this.#z["range-track"].style.height=s-i+"%"):(this.#z["range-track"].style.left=`${i}%`,this.#z["range-track"].style.width=s-i+"%")}else{let t=(this.value-this.min)/(this.max-this.min)*100,e=((this.min>0?this.min:0)-this.min)/(this.max-this.min)*100;this.vertical?t>=e?(this.#z["range-track"].style.bottom=`${e}%`,this.#z["range-track"].style.height=t-e+"%"):(this.#z["range-track"].style.bottom=`${t}%`,this.#z["range-track"].style.height=e-t+"%"):t>=e?(this.#z["range-track"].style.left=`${e}%`,this.#z["range-track"].style.width=t-e+"%"):(this.#z["range-track"].style.left=`${t}%`,this.#z["range-track"].style.width=e-t+"%")}{let[t,e]=this.buffer,i=(t-this.min)/(this.max-this.min)*100,s=(e-this.min)/(this.max-this.min)*100;this.vertical?(this.#z["buffer-track"].style.bottom=i+"%",this.#z["buffer-track"].style.height=s-i+"%"):(this.#z["buffer-track"].style.left=i+"%",this.#z["buffer-track"].style.width=s-i+"%")}}async#Gi(){await customElements.whenDefined("x-label"),this.#z.ticks.innerHTML="";for(let t of this.querySelectorAll(":scope > x-label"))this.vertical?t.style.top=100-(t.value-this.min)/(this.max-this.min)*100+"%":t.style.left=(t.value-this.min)/(this.max-this.min)*100+"%",t===this.firstElementChild?t.style.position="relative":t.style.position=null,this.vertical?this.#z.ticks.insertAdjacentHTML("beforeend",`<div class="tick" part="tick" style="top: ${t.style.top}"></div>`):this.#z.ticks.insertAdjacentHTML("beforeend",`<div class="tick" part="tick" style="left: ${t.style.left}"></div>`)}#Wi=Z(this.#Gi,500,this);#rt(){this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#nt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#nt>0?this.#nt:0),this.#nt=0)}#M(){let t=P.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}}customElements.define("x-slider",Pt);class Rt extends HTMLElement{static observedAttributes=["disabled"];static#v=L`<template><div id="decrement-button" part="decrement-button" class="button"><svg id="decrement-arrow" part="decrement-arrow" viewBox="0 0 100 100" preserveAspectRatio="none"><path id="decrement-arrow-path"></path></svg></div><div id="increment-button" part="increment-button" class="button"><svg id="increment-arrow" part="increment-arrow" viewBox="0 0 100 100" preserveAspectRatio="none"><path id="increment-arrow-path"></path></svg></div></template>`;static#y=T`:host{display:flex;flex-flow:column-reverse;align-items:center;justify-content:center;box-sizing:border-box;height:100%;width:fit-content;color:rgba(0,0,0,.6)}:host(:hover){cursor:default}:host([disabled=""]){opacity:.5;pointer-events:none}.button{display:flex;align-items:center;justify-content:center;width:100%;height:100%;user-select:none;box-sizing:border-box;color:inherit;border-left:none}.button[data-pressed]{color:#fff;background:rgba(0,0,0,.3)}:host([disabled=decrement]) #decrement-button,:host([disabled=increment]) #increment-button{opacity:.3;pointer-events:none}#increment-arrow{width:11px;height:11px;pointer-events:none;d:path("M 24 69 L 50 43 L 76 69 L 69 76 L 50 58 L 31 76 L 24 69 Z" )}#decrement-arrow{width:11px;height:11px;pointer-events:none;d:path("M 24 32 L 50 58 L 76 32 L 69 25 L 50 44 L 31 25 L 24 32 Z" )}#decrement-arrow-path,#increment-arrow-path{d:inherit;fill:currentColor}`;get disabled(){return!!this.hasAttribute("disabled")&&("increment"===this.getAttribute("disabled")?"increment":"decrement"!==this.getAttribute("disabled")||"decrement")}set disabled(t){!0===t?this.setAttribute("disabled",""):!1===t?this.removeAttribute("disabled"):this.setAttribute("disabled",t)}#k=null;#z={};#Ji=null;constructor(){super(),this.#k=this.attachShadow({mode:"closed"}),this.#k.adoptedStyleSheets=[Rt.#y],this.#k.append(document.importNode(Rt.#v.content,!0));for(let t of this.#k.querySelectorAll("[id]"))this.#z[t.id]=t;this.#k.addEventListener("pointerdown",(t=>this.#ot(t)))}connectedCallback(){"x-numberinput"===this.parentElement.localName&&(this.#Ji=this.parentElement,this.#Ji.setAttribute("hasstepper",""))}disconnectedCallback(){this.#Ji&&(null===this.#Ji.querySelector(":scope > x-stepper")&&this.#Ji.removeAttribute("hasstepper",""),this.#Ji=null)}attributeChangedCallback(t){"disabled"===t&&this.#Et()}#Et(){this.hasAttribute("disabled")&&(this.removeAttribute("pressed"),this.#z["increment-button"].removeAttribute("data-pressed"),this.#z["decrement-button"].removeAttribute("data-pressed"))}#ot(t){let e=t.target.closest(".button"),i=null;if(e===this.#z["increment-button"]?i="increment":e===this.#z["decrement-button"]&&(i="decrement"),!(t.buttons>1||null===i)){{let s=Date.now();e.setAttribute("data-pressed",""),this.setAttribute("pressed",i),this.setPointerCapture(t.pointerId),this.addEventListener("pointerup",(async t=>{let i=Date.now()-s;i<100&&await X(100-i),e.removeAttribute("data-pressed"),this.removeAttribute("pressed")}),{once:!0})}{let e=null,s=Date.now(),{shiftKey:h}=t;this.dispatchEvent(new CustomEvent(i+"start",{bubbles:!0})),this.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{shiftKey:h}})),this.addEventListener("pointerup",(t=>{clearInterval(e),this.dispatchEvent(new CustomEvent(i+"end",{bubbles:!0}))}),{once:!0}),e=setInterval((()=>{Date.now()-s>500&&this.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{shiftKey:h}}))}),100)}}}}customElements.define("x-stepper",Rt);class It extends HTMLElement{static observedAttributes=["value","size"];static#v=L`<template><div id="preview"></div></template>`;static#y=T`:host{display:block;width:18px;height:18px;cursor:default;box-sizing:border-box;overflow:hidden}#preview{width:100%;height:100%;position:relative}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):"white"}set value(t){this.setAttribute("value",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#k=null;#z={};#S=null;constructor(){super(),this.#k=this.attachShadow({mode:"closed"}),this.#k.adoptedStyleSheets=[It.#y],this.#k.append(document.importNode(It.#v.content,!0));for(let t of this.#k.querySelectorAll("[id]"))this.#z[t.id]=t}connectedCallback(){this.#Qi(),this.#M(),P.addEventListener("sizechange",this.#S=()=>this.#M())}disconnectedCallback(){P.removeEventListener("sizechange",this.#S)}attributeChangedCallback(t){"value"===t?this.#Qi():"size"===t&&this.#M()}#Qi(){this.#z.preview.style.background=this.value}#M(){let t=P.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}}customElements.define("x-swatch",It);class Ot extends HTMLElement{static observedAttributes=["toggled","disabled","size"];static#v=L`<template><main id="main"><div id="indicator" part="indicator"><div id="indicator-track" part="indicator-track"><div id="indicator-thumb" part="indicator-thumb"></div></div></div><div id="description"><slot></slot></div></main></template>`;static#y=T`:host{display:block;width:fit-content;margin:2px 0}:host([disabled]){opacity:.4;pointer-events:none}#main{display:flex;align-items:center}#indicator{position:relative;width:34px;height:15px;display:flex;align-items:center}#indicator-track{display:flex;align-items:center;width:100%;height:65%;background:currentColor;border-radius:999px}#indicator-thumb{position:absolute;left:0;width:16px;height:16px;background:currentColor;border-radius:999px;transition:left .2s cubic-bezier(.4, 0, .2, 1)}:host([toggled]) #indicator-thumb{left:calc(100% - 16px)}:host([mixed]) #indicator-thumb{left:calc(50% - 16px / 2)}#description{flex:1}`;get toggled(){return this.hasAttribute("toggled")}set toggled(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#k=null;#z={};#nt=0;#S=null;constructor(){super(),this.#k=this.attachShadow({mode:"closed"}),this.#k.adoptedStyleSheets=[Ot.#y],this.#k.append(document.importNode(Ot.#v.content,!0));for(let t of this.#k.querySelectorAll("[id]"))this.#z[t.id]=t;this.addEventListener("pointerdown",(t=>this.#ot(t))),this.addEventListener("click",(t=>this.#L(t))),this.addEventListener("keydown",(t=>this.#lt(t)))}connectedCallback(){P.addEventListener("sizechange",this.#S=()=>this.#M()),this.#rt(),this.#M()}disconnectedCallback(){P.removeEventListener("sizechange",this.#S)}attributeChangedCallback(t){"toggled"===t?this.#St():"disabled"===t?this.#Et():"size"===t&&this.#M()}#rt(){this.setAttribute("role","switch"),this.setAttribute("aria-checked",this.mixed?"mixed":this.toggled),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#nt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#nt>0?this.#nt:0),this.#nt=0)}#M(){let t=P.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}#St(){this.setAttribute("aria-checked",this.mixed?"mixed":this.toggled)}#Et(){this.#rt()}#ot(t){if(t.buttons>1)t.preventDefault();else if(!1===this.matches(":focus")){t.preventDefault();let e=j(this.parentNode,"[tabindex]");e&&e.focus()}}async#L(t){this.mixed?this.mixed=!1:this.toggled=!this.toggled,this.dispatchEvent(new CustomEvent("toggle"))}#lt(t){"Enter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.click())}}customElements.define("x-switch",Ot);let{max:Bt}=Math;class Ht extends HTMLElement{static observedAttributes=["selected","disabled","size"];static#v=L`<template><div id="ripples"></div><div id="selection-indicator" part="selection-indicator"></div><div id="content"><slot></slot></div></template>`;static#y=T`:host{position:relative;display:flex;align-items:center;justify-content:center;min-height:30px;padding:2px 12px;box-sizing:border-box;cursor:default;user-select:none;box-sizing:border-box;font-size:14px;--trigger-effect:none}:host(:focus){z-index:10;outline:0}#content{display:inherit;flex-flow:inherit;align-items:inherit;z-index:100}#ripples{position:absolute;z-index:0;top:0;left:0;width:100%;height:100%;overflow:hidden;pointer-events:none}#ripples .ripple{position:absolute;top:0;left:0;width:200px;height:200px;background:currentColor;opacity:.2;border-radius:999px;transform:none;transition:all .8s cubic-bezier(.4, 0, .2, 1);will-change:opacity,transform;pointer-events:none}#selection-indicator{display:none;width:100%;height:0;background:var(--accent-color);position:absolute;bottom:0;left:0}:host([selected]) #selection-indicator{display:block}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):""}set value(t){this.setAttribute("value",t)}get selected(){return this.hasAttribute("selected")}set selected(t){t?this.setAttribute("selected",""):this.removeAttribute("selected")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#k=null;#z={};#S=null;constructor(){super(),this.#k=this.attachShadow({mode:"closed"}),this.#k.adoptedStyleSheets=[Ht.#y],this.#k.append(document.importNode(Ht.#v.content,!0));for(let t of this.#k.querySelectorAll("[id]"))this.#z[t.id]=t;this.addEventListener("pointerdown",(t=>this.#ot(t))),this.addEventListener("click",(t=>this.#L(t)))}connectedCallback(){this.#rt(),this.#M(),P.addEventListener("sizechange",this.#S=()=>this.#M())}disconnectedCallback(){P.removeEventListener("sizechange",this.#S)}attributeChangedCallback(t){"selected"===t||"disabled"===t?this.#rt():"size"===t&&this.#M()}animateSelectionIndicator(t){return new Promise((async e=>{if("0px"!==this.#z["selection-indicator"].style.height){let e=this.getBoundingClientRect(),i=t.getBoundingClientRect(),s=this.#z["selection-indicator"].animate([{left:"0px",width:e.width+"px"},{left:i.left-e.left+"px",width:i.width+"px"}],{duration:100,iterations:1,delay:0,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)"});await s.finished}e()}))}#rt(){this.setAttribute("role","tab"),this.setAttribute("aria-selected",this.selected),this.setAttribute("aria-disabled",this.disabled),this.setAttribute("tabindex",this.selected?"0":"-1")}#M(){let t=P.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}async#ot(t){if(!1===this.matches(":focus")){t.preventDefault();let e=j(this.parentNode,"[tabindex]");e&&e.focus()}if(!(t.buttons>1)){{let e=Date.now();this.setAttribute("pressed",""),this.setPointerCapture(t.pointerId),this.addEventListener("pointerup",(async t=>{if(!0===this.selected){let t=Date.now()-e,i=100;t<i&&await X(i-t)}this.removeAttribute("pressed")}),{once:!0})}if("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim()){let e=this.#z.ripples.getBoundingClientRect(),i=1.5*Bt(e.width,e.height),s=t.clientY-e.y-i/2,h=t.clientX-e.x-i/2,n=new Promise((t=>this.addEventListener("pointerup",t,{once:!0}))),o=U("div");o.setAttribute("part","ripple"),o.setAttribute("class","ripple pointer-down-ripple"),o.setAttribute("style",`width: ${i}px; height: ${i}px; top: ${s}px; left: ${h}px;`),this.#z.ripples.append(o),this.setPointerCapture(t.pointerId),o.hidden=!0,await X(10),o.hidden=!1;let l=o.animate({transform:["scale(0)","scale(1)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await n,await l.finished;let a=getComputedStyle(o).opacity,r=o.animate({opacity:[a,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await r.finished,o.remove()}}}async#L(t){if(null===this.#z.ripples.querySelector(".pointer-down-ripple")){if("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim()){let t=this.#z.ripples.getBoundingClientRect(),e=1.5*Bt(t.width,t.height),i=t.y+t.height/2-t.y-e/2,s=t.x+t.width/2-t.x-e/2,h=U("div");h.setAttribute("part","ripple"),h.setAttribute("class","ripple click-ripple"),h.setAttribute("style",`width: ${e}px; height: ${e}px; top: ${i}px; left: ${s}px;`),this.#z.ripples.append(h);let n=h.animate({transform:["scale(0)","scale(1)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await n.finished;let o=getComputedStyle(h).opacity,l=h.animate({opacity:[o,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});await l.finished,h.remove()}}}}customElements.define("x-tab",Ht);class Ft extends HTMLElement{static#v=L`<template><slot></slot></template>`;static#y=T`:host{position:relative;display:flex;margin:0 auto;width:fit-content;max-width:100%;box-sizing:border-box;justify-content:center}::slotted(x-tab){flex:0}`;get value(){let t=this.querySelector("x-tab[selected]");return t?t.value:null}set value(t){let e=[...this.querySelectorAll("x-tab")],i=null===t?null:e.find((e=>e.value===t));for(let t of e)t.selected=t===i}#k=null;constructor(){super(),this.#k=this.attachShadow({mode:"closed"}),this.#k.adoptedStyleSheets=[Ft.#y],this.#k.append(document.importNode(Ft.#v.content,!0)),this.addEventListener("click",(t=>this.#L(t))),this.addEventListener("keydown",(t=>this.#lt(t)))}connectedCallback(){this.setAttribute("role","tablist")}async#L(t){if(!(t.buttons>1)&&t.target.closest("x-tab")){let e=this.querySelectorAll("x-tab"),i=t.target.closest("x-tab"),s=this.querySelector("x-tab[selected]");if(i!==s){s&&await s.animateSelectionIndicator(i);for(let t of e)t.selected=t===i;this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))}}}#lt(t){if("Enter"===t.code||"Space"===t.code){let e=t.target;e.querySelector("x-label"),t.preventDefault(),e.click()}else if("ArrowLeft"===t.code){let e=[...this.querySelectorAll("x-tab:not([disabled])")],i=this.querySelector('x-tab[tabindex="0"]');if(t.target,t.preventDefault(),i&&e.length>0){let t=e.indexOf(i),s=e[t-1]||e[e.length-1];i.tabIndex=-1,s.tabIndex=0,s.focus()}}else if("ArrowRight"===t.code){let e=[...this.querySelectorAll("x-tab:not([disabled])")],i=this.querySelector('x-tab[tabindex="0"]');if(t.target,t.preventDefault(),i&&e.length>0){let t=e.indexOf(i),s=e[t+1]||e[0];i.tabIndex=-1,s.tabIndex=0,s.focus()}}}}customElements.define("x-tabs",Ft);class Nt extends HTMLElement{static observedAttributes=["disabled","size"];static#v=L`<template><div id="container"><div id="scope" part="scope"><slot id="scope-slot" name="scope"></slot></div><main id="main" part="main"><slot></slot><svg id="remove-button" part="remove-button" viewBox="0 0 100 100"><path id="remove-button-path"></path></svg></main></div></template>`;static#y=T`:host{display:inline-block;height:25px;box-sizing:border-box;overflow:hidden;color:var(--text-color);border-width:1px;border-style:solid}:host([toggled]){background:gray;color:#fff;outline:0}:host([disabled]){opacity:.5}:host([hidden]){display:none}:host(:focus){outline:0}#container{width:100%;height:100%;display:flex;align-items:center;justify-content:center}#scope{height:100%;padding:0 6px;display:none;align-items:center;justify-content:center;border-right-width:1px;border-right-style:solid}:host([scoped]) #scope{display:flex}#main{height:100%;padding:0 6px;display:flex;align-items:center;justify-content:center}#remove-button{display:none;opacity:.8;width:12px;height:12px;vertical-align:middle;margin-left:4px;d:path("M 25 16 L 50 41 L 75 16 L 84 25 L 59 50 L 84 75 L 75 84 L 50 59 L 25 84 L 16 75 L 41 50 L 16 25 Z");fill:currentColor;color:inherit}:host([removable]) #remove-button{display:block}#remove-button:hover{background:rgba(0,0,0,.1);opacity:1}#remove-button path{d:inherit;fill:inherit;pointer-events:none}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):null}set value(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t)}get removable(){return this.hasAttribute("removable")}set removable(t){t?this.setAttribute("removable",""):this.removeAttribute("removable")}get toggled(){return this.hasAttribute("toggled")}set toggled(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#k=null;#z={};#S=null;constructor(){super(),this.#k=this.attachShadow({mode:"closed"}),this.#k.adoptedStyleSheets=[Nt.#y],this.#k.append(document.importNode(Nt.#v.content,!0));for(let t of this.#k.querySelectorAll("[id]"))this.#z[t.id]=t;this.#z["scope-slot"].addEventListener("slotchange",(()=>this.#_i())),this.#z["remove-button"].addEventListener("click",(t=>this.#ts(t)))}connectedCallback(){this.#M(),this.#_i(),P.addEventListener("sizechange",this.#S=()=>this.#M()),this.closest("x-tags")?(this.tabIndex=0,this.removable=!1):this.closest("x-tagsinput")?(this.toggled=!1,this.tabIndex=0,this.removable=!0):this.removable=!1}disconnectedCallback(){P.removeEventListener("sizechange",this.#S)}attributeChangedCallback(t){"size"===t&&this.#M()}#ts(t){t.buttons<=1&&this.dispatchEvent(new CustomEvent("remove",{bubbles:!0}))}#M(){let t=P.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}#_i(){0===this.#z["scope-slot"].assignedElements().length?this.removeAttribute("scoped"):this.setAttribute("scoped","")}}customElements.define("x-tag",Nt);class qt extends HTMLElement{static#v=L`<template><slot></slot></template>`;static#y=T`:host{display:flex;box-sizing:border-box;align-items:center;justify-content:flex-start}:host([hidden]){display:none}`;get value(){return[...this.children].filter((t=>"x-tag"===t.localName)).filter((t=>t.toggled)).map((t=>t.value)).filter((t=>null!==t))}set value(t){let e=[...this.children].filter((t=>"x-tag"===t.localName));for(let i of e)i.toggled=t.includes(i.value)}#k=null;constructor(){super(),this.#k=this.attachShadow({mode:"closed"}),this.#k.adoptedStyleSheets=[qt.#y],this.#k.append(document.importNode(qt.#v.content,!0)),this.addEventListener("pointerdown",(t=>this.#ot(t))),this.addEventListener("click",(t=>this.#L(t))),this.addEventListener("keydown",(t=>this.#lt(t)))}#ot(t){if(t.buttons>1)t.preventDefault();else if(t.preventDefault(),!1===this.matches(":focus")){let t=j(this.parentNode,"*[tabindex]:not(a)");this.addEventListener("pointerup",(()=>{t?t.focus():this.blur()}),{once:!0})}}#L(t){let e=t.target.closest("x-tag");e&&!1===t.defaultPrevented&&(e.toggled=!e.toggled,this.dispatchEvent(new CustomEvent("toggle",{detail:e})))}#lt(t){if(!1===t.defaultPrevented)if("Enter"===t.code||"Space"===t.code){let e=this.querySelector("x-tag:focus");e&&(t.preventDefault(),e.click())}else if("ArrowRight"===t.key){let t=this.querySelector("x-tag:focus");t&&(t.nextElementSibling?t.nextElementSibling.focus():t!==t.parentElement.firstElementChild&&t.parentElement.firstElementChild.focus())}else if("ArrowLeft"===t.key){let t=this.querySelector("x-tag:focus");t&&(t.previousElementSibling?t.previousElementSibling.focus():t!==t.parentElement.lastElementChild&&t.parentElement.lastElementChild.focus())}}}customElements.define("x-tags",qt);class Ut extends HTMLElement{static observedAttributes=["spellcheck","disabled","size"];static#v=L`<template><main id="main"><div id="tags"><slot></slot><span id="input" part="input" spellcheck="false" tabindex="0"></span></div></main><x-popover id="suggestions-popover" part="suggestions"><div id="suggested-tags"></div></x-popover></template>`;static#y=T`:host{display:block;position:relative;min-height:29px;border:1px solid #bfbfbf;font-size:12px}:host(:focus){z-index:10}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}:host([error]) ::selection{color:#fff;background-color:#d50000}#main{width:100%;height:100%;cursor:text}#tags{display:flex;flex-wrap:wrap}:host([mixed]) #tags{opacity:.7}#input{align-items:center;justify-content:flex-start;height:25px;margin:2px;padding:0 3px 0 6px;box-sizing:border-box;line-height:25px;color:inherit;outline:0;white-space:pre;cursor:text;user-select:text;pointer-events:none}#input[contenteditable]:focus{flex-grow:1;pointer-events:all}#suggestions-popover{width:200px;max-height:200px;padding:4px;box-sizing:border-box}#suggestions-popover #suggested-tags{flex:1;overflow:auto}#suggestions-popover x-tag{display:block;margin:4px 0 0 0}#suggestions-popover x-tag:first-child{margin-top:0}:host([error])::before{position:absolute;left:0;top:35px;white-space:pre;content:attr(error);font-size:11px;line-height:1.2;pointer-events:none}`;get value(){return[...this.children].filter((t=>"x-tag"===t.localName)).map((t=>t.value)).filter((t=>null!==t))}get delimiter(){return this.hasAttribute("delimiter")?this.getAttribute("delimiter"):","}set delimiter(t){this.setAttribute("delimiter",t)}get spellcheck(){return this.hasAttribute("spellcheck")}set spellcheck(t){t?this.setAttribute("spellcheck",""):this.removeAttribute("spellcheck")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get required(){return this.hasAttribute("required")}set required(t){t?this.setAttribute("required",""):this.removeAttribute("required")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get suggestions(){return this.hasAttribute("suggestions")}set suggestions(t){t?this.setAttribute("suggestions",""):this.removeAttribute("suggestions")}get error(){return this.getAttribute("error")}set error(t){null===t?this.removeAttribute("error"):this.setAttribute("error",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#k=null;#z={};#nt=0;#S=null;constructor(){super(),this.#k=this.attachShadow({mode:"closed",delegatesFocus:!0}),this.#k.adoptedStyleSheets=[P.themeStyleSheet,Ut.#y],this.#k.append(document.importNode(Ut.#v.content,!0));for(let t of this.#k.querySelectorAll("[id]"))this.#z[t.id]=t;this.addEventListener("focusout",(t=>this.matches(":focus-within")?null:this.#Ht(t))),this.#z.input.addEventListener("focusin",(t=>this.#es(t))),this.#z.input.addEventListener("focusout",(t=>this.#is(t))),this.#k.addEventListener("pointerdown",(t=>this.#hi(t))),this.#k.addEventListener("remove",(t=>this.#ts(t))),this.#k.addEventListener("keydown",(t=>this.#lt(t))),this.#z.input.addEventListener("input",(t=>this.#ie(t)))}connectedCallback(){this.#ss(),this.#rt(),this.#M(),P.addEventListener("sizechange",this.#S=()=>this.#M())}disconnectedCallback(){P.removeEventListener("sizechange",this.#S)}attributeChangedCallback(t,e,i){e!==i&&("spellcheck"===t?this.#ne():"disabled"===t?this.#Et():"size"===t&&this.#Z())}clear(){let t=[...this.children].filter((t=>"x-tag"===t.localName));if(t.length>0){for(let e of t)e.remove(),this.dispatchEvent(new CustomEvent("remove",{detail:e}));this.error=null,this.#hs(),this.#ss(),this.dispatchEvent(new CustomEvent("change"))}}getSuggestions(t){return[]}#ns(){let t=new Range;t.selectNodeContents(this.#z.input);let e=t.getBoundingClientRect();return 0===e.x&&0===e.width&&(e=this.#z.input.getBoundingClientRect(),e.width=20),e}#os(){let t=this.#z.input.textContent.trim();if(this.#z.input.textContent="",t.length>0&&!1===this.value.includes(t)){let e;if(t.includes(":")){let[i,s]=t.split(":").map((t=>t.trim()));e=L`<x-tag class="tag" value="${t}" removable><x-label slot="scope">${i}</x-label><x-label>${s}</x-label></x-tag>`}else e=L`<x-tag class="tag" value="${t}" removable><x-label>${t}</x-label></x-tag>`;this.append(e),this.#hs(),this.#ss(),this.dispatchEvent(new CustomEvent("add",{detail:e})),this.dispatchEvent(new CustomEvent("change"))}}#hi(t){if(t.target===this.#z.main||t.target===this.#z.tags)t.preventDefault(),this.#z.input.setAttribute("contenteditable",""),this.#ls();else if(t.target===this.#z.input)this.#z.input.setAttribute("contenteditable",""),this.#hs();else if(t.target.closest("x-popover")){t.preventDefault();let e=t.target.closest("x-tag");e&&(this.#z.input.textContent="",this.#z["suggestions-popover"].close(),this.append(e),this.dispatchEvent(new CustomEvent("add",{detail:e})),this.dispatchEvent(new CustomEvent("change")))}else t.target.closest("x-tag")&&(this.#z.input.focus(),this.#os())}#ts(t){t.stopPropagation();let e=t.target;e.remove(),this.#ss(),this.dispatchEvent(new CustomEvent("remove",{detail:e})),this.dispatchEvent(new CustomEvent("change"))}#ne(){this.#z.input.spellcheck=this.spellcheck}#Et(){this.#rt()}#Z(){this.#M()}#Ht(){if(this.required){0===[...this.children].filter((t=>"x-tag"===t.localName)).length&&(this.error="This field is required")}}async#es(){this.#z.input.setAttribute("contenteditable",""),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0})),await X(10),this.#z.input.matches(":focus")&&(this.#ls(),this.#hs())}#is(){this.#os(),this.#z.input.removeAttribute("contenteditable"),this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),this.hasAttribute("error")&&(this.#z.input.textContent="",this.removeAttribute("error")),this.#z["suggestions-popover"].close()}#ie(t){this.#z.input.textContent.includes(this.delimiter)&&this.#os(),this.#ss(),this.hasAttribute("error")&&this.removeAttribute("error"),this.dispatchEvent(new CustomEvent("input")),this.#hs(t.inputType)}#lt(t){if("Enter"===t.key)t.target===this.#z.input&&(t.preventDefault(),this.#os());else if("Backspace"===t.key){if(t.target===this.#z.input){if(0===this.#z.input.textContent.length){let t=[...this.children].filter((t=>"x-tag"===t.localName)),e=t[t.length-1]||null;e&&(e.remove(),this.#hs(),this.#ss(),this.dispatchEvent(new CustomEvent("remove",{detail:e})),this.dispatchEvent(new CustomEvent("change")))}}else if("x-tag"===t.target.localName){let e=[...this.children].filter((t=>"x-tag"===t.localName)),i=t.target,s=e.indexOf(i),h=e[s+1]||null,n=e[s-1]||null;h?h.focus():n?n.focus():this.#z.input.focus(),i.remove(),this.#ss(),this.dispatchEvent(new CustomEvent("remove",{detail:i})),this.dispatchEvent(new CustomEvent("change"))}}else if("ArrowDown"===t.key){if(this.#z["suggestions-popover"].opened){let e=[...this.#z["suggested-tags"].children];if(e.length>1){t.preventDefault();let i=null;{let t=e.find((t=>t.toggled));if(t){t.toggled=!1;let s=e.indexOf(t);i=e[s+1]||e[0]}else i=e[0]}i.toggled=!0,i.scrollIntoViewIfNeeded();{let t=this.#k.getSelection().getRangeAt(0).startOffset,e=i.querySelector("x-label").textContent;this.#z.input.textContent=e,this.#ls(t,e.length)}}}}else if("ArrowUp"===t.key&&this.#z["suggestions-popover"].opened){let e=[...this.#z["suggested-tags"].children];if(e.length>1){t.preventDefault();let i=null;{let t=e.find((t=>t.toggled));if(t){t.toggled=!1;let s=e.indexOf(t);i=e[s-1]||e[e.length-1]}else i=e[e.length-1]}i.toggled=!0,i.scrollIntoViewIfNeeded();{let t=this.#k.getSelection().getRangeAt(0).startOffset,e=i.querySelector("x-label").textContent;this.#z.input.textContent=e,this.#ls(t,e.length)}}}}#X(){this.#ss()}#ss(){let t=this.querySelector(":scope > x-label");t&&(t.hidden=this.value.length>0||this.#z.input.textContent.length>0)}#rt(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#nt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#nt>0?this.#nt:0),this.#nt=0)}#M(){let t=P.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}#ls(t=0,e=this.#z.input.textContent.length){let i=new Range;0===t&&e===this.#z.input.textContent.length?i.selectNodeContents(this.#z.input):(i.setStart(this.#z.input.firstChild,t),i.setEnd(this.#z.input.firstChild,e));let s=window.getSelection();s.removeAllRanges(),s.addRange(i)}#hs(t="insertText"){if(this.suggestions){let e=this.#z.input.textContent,i=this.#k.getSelection().getRangeAt(0);!1===i.collapsed&&(e=e.substring(0,i.startOffset));let s=this.getSuggestions(e);if(s.length>0&&"deleteContentBackward"!==t){let t=this.#z.input.textContent,e=s[0].querySelector("x-label").textContent,i=this.#z.input.firstChild;i&&(i.textContent=e,this.#ls(t.length,e.length))}if(0===s.length)this.#z["suggested-tags"].innerHTML="",!0===this.#z["suggestions-popover"].opened&&this.#z["suggestions-popover"].close();else{let i=this.#ns();this.#z["suggested-tags"].innerHTML="",this.#z["suggested-tags"].append(...s),"deleteContentBackward"!==t&&e.length>0&&(s[0].toggled=!0),!1===this.#z["suggestions-popover"].opened||this.#z["suggestions-popover"].close(!1),this.#z["suggestions-popover"].open(i),this.#z["suggested-tags"].scrollTop=0}}}}customElements.define("x-tagsinput",Ut);class jt extends HTMLElement{static observedAttributes=["value","spellcheck","disabled","validation","size"];static#v=L`<template><main id="main"><slot></slot><div id="editor" contenteditable="plaintext-only" spellcheck="false"></div></main></template>`;static#y=T`:host{display:block;position:relative;width:100%;min-height:100px;box-sizing:border-box;background:#fff;font-size:12.5px;overflow:auto}:host(:hover){cursor:text}:host([mixed]){color:rgba(0,0,0,.7)}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}:host([error]) ::selection{color:#fff;background-color:#d50000}::-webkit-scrollbar{max-width:6px;max-height:6px;background:0 0}::-webkit-scrollbar-track{border-radius:25px}::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,.2);border-radius:25px}::-webkit-scrollbar-corner{display:none}#main{display:flex;flex-flow:column;width:100%;min-height:100%}#editor{flex:1;padding:2px 6px;box-sizing:border-box;color:inherit;background:0 0;border:none;outline:0;font-family:inherit;font-size:inherit}:host([error])::before{position:absolute;left:0;bottom:-20px;box-sizing:border-box;font-family:inherit;font-size:11px;line-height:1.2;white-space:pre;content:attr(error) " "}`;get value(){return this.#z.editor.textContent}set value(t){this.#z.editor.textContent=t,"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate(),this.#_t()}get spellcheck(){return this.hasAttribute("spellcheck")}set spellcheck(t){t?this.setAttribute("spellcheck",""):this.removeAttribute("spellcheck")}get minLength(){return this.hasAttribute("minlength")?parseInt(this.getAttribute("minlength")):0}set minLength(t){this.setAttribute("minlength",t)}get maxLength(){return this.hasAttribute("maxlength")?parseInt(this.getAttribute("maxlength")):Infinity}set maxLength(t){this.setAttribute("maxlength",t)}get required(){return this.hasAttribute("required")}set required(t){t?this.setAttribute("required",""):this.removeAttribute("required")}get mixed(){return this.hasAttribute("mixed")}set mixed(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed")}get disabled(){return this.hasAttribute("disabled")}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get validation(){return this.hasAttribute("validation")?this.getAttribute("validation"):"auto"}set validation(t){this.setAttribute("validation",t)}get error(){return this.getAttribute("error")}set error(t){null===t?this.removeAttribute("error"):this.setAttribute("error",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#k=null;#z={};#as="";#nt=0;#S=null;constructor(){super(),this.#k=this.attachShadow({mode:"closed",delegatesFocus:!0}),this.#k.adoptedStyleSheets=[jt.#y],this.#k.append(document.importNode(jt.#v.content,!0));for(let t of this.#k.querySelectorAll("[id]"))this.#z[t.id]=t;this.addEventListener("focusin",(t=>this.#te(t))),this.addEventListener("focusout",(t=>this.#ee(t))),this.#z.editor.addEventListener("click",(t=>this.#rs(t))),this.#z.editor.addEventListener("input",(t=>this.#oi(t)))}connectedCallback(){this.#_t(),this.#rt(),this.#M(),"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate(),P.addEventListener("sizechange",this.#S=()=>this.#M())}disconnectedCallback(){P.removeEventListener("sizechange",this.#S)}attributeChangedCallback(t){"value"===t?this.#V():"spellcheck"===t?this.#ne():"disabled"===t?this.#Et():"validation"===t?this.#ae():"size"===t&&this.#Z()}validate(){this.value.length<this.minLength?this.error="Entered text is too short":this.value.length>this.maxLength?this.error="Entered text is too long":this.required&&0===this.value.length?this.error="This field is required":this.error=null}#_t(){0===this.value.length?this.setAttribute("empty",""):this.removeAttribute("empty")}#rt(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.#nt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.#nt>0?this.#nt:0),this.#nt=0)}#M(){let t=P.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}#V(){this.value=this.hasAttribute("value")?this.getAttribute("value"):"",this.matches(":focus")&&document.execCommand("selectAll")}#ne(){this.#z.editor.spellcheck=this.spellcheck}#Et(){this.#z.editor.disabled=this.disabled,this.#rt()}#ae(){"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate()}#Z(){this.#M()}#te(){this.#as=this.value,this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}))}#ee(){this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),this.#k.getSelection().collapse(this.#z.main),"auto"===this.validation&&this.validate(),null!==this.error||this.value===this.#as&&!this.mixed||(this.mixed=!1,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))}#rs(t){t.detail>=4&&document.execCommand("selectAll")}#oi(t){this.dispatchEvent(new CustomEvent("input",{bubbles:!0})),this.#_t(),("instant"===this.validation||"auto"===this.validation&&null!==this.error)&&this.validate()}}customElements.define("x-texteditor",jt);class Kt extends HTMLElement{static observedAttributes=["type","size"];static#ds=L`<template><svg data-type="ring" viewBox="0 0 100 100"><ellipse ry="40" rx="40" cy="50" cx="50" stroke-width="10"/></svg></template>`;static#us=L`<template><svg data-type="spin" viewBox="0 0 100 100"><rect transform="rotate(  0 50 50) translate(0 -38)"></rect><rect transform="rotate( 30 50 50) translate(0 -38)"></rect><rect transform="rotate( 60 50 50) translate(0 -38)"></rect><rect transform="rotate( 90 50 50) translate(0 -38)"></rect><rect transform="rotate(120 50 50) translate(0 -38)"></rect><rect transform="rotate(150 50 50) translate(0 -38)"></rect><rect transform="rotate(180 50 50) translate(0 -38)"></rect><rect transform="rotate(210 50 50) translate(0 -38)"></rect><rect transform="rotate(240 50 50) translate(0 -38)"></rect><rect transform="rotate(270 50 50) translate(0 -38)"></rect><rect transform="rotate(300 50 50) translate(0 -38)"></rect><rect transform="rotate(330 50 50) translate(0 -38)"></rect></svg></template>`;static#y=T`:host{display:block;width:30px;height:30px;box-sizing:border-box}:host([hidden]){display:none}:host([type=ring]){color:#4285f4}:host([type=spin]){color:#404040}svg{color:inherit;width:100%;height:100%}svg[data-type=ring] ellipse{fill:none;stroke:currentColor;stroke-linecap:round;stroke-dasharray:10,1000;animation:ring-dash-animation 2s cubic-bezier(.8,.25,.25,.9) infinite,ring-rotate-animation 2s linear infinite;transform-origin:center}@keyframes ring-rotate-animation{to{transform:rotate(360deg)}}@keyframes ring-dash-animation{50%{stroke-dasharray:200;stroke-dashoffset:0}100%{stroke-dasharray:245;stroke-dashoffset:-260}}svg[data-type=spin] rect{x:46.5px;y:40px;width:7px;height:22px;rx:5px;ry:5px;fill:currentColor;animation-name:spin-animation;animation-duration:1s;animation-timing-function:linear;animation-iteration-count:infinite;animation-delay:0s}svg[data-type=spin] rect:nth-child(1){animation-delay:calc(1s *  1/12)}svg[data-type=spin] rect:nth-child(2){animation-delay:calc(1s *  2/12)}svg[data-type=spin] rect:nth-child(3){animation-delay:calc(1s *  3/12)}svg[data-type=spin] rect:nth-child(4){animation-delay:calc(1s *  4/12)}svg[data-type=spin] rect:nth-child(5){animation-delay:calc(1s *  5/12)}svg[data-type=spin] rect:nth-child(6){animation-delay:calc(1s *  6/12)}svg[data-type=spin] rect:nth-child(7){animation-delay:calc(1s *  7/12)}svg[data-type=spin] rect:nth-child(8){animation-delay:calc(1s *  8/12)}svg[data-type=spin] rect:nth-child(9){animation-delay:calc(1s *  9/12)}svg[data-type=spin] rect:nth-child(10){animation-delay:calc(1s * 10/12)}svg[data-type=spin] rect:nth-child(11){animation-delay:calc(1s * 11/12)}svg[data-type=spin] rect:nth-child(12){animation-delay:calc(1s * 12/12)}@keyframes spin-animation{0%{opacity:1}100%{opacity:0}}`;get type(){return this.hasAttribute("type")?this.getAttribute("type"):"ring"}set type(t){this.setAttribute("type",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#k=null;#S=null;constructor(){super(),this.#k=this.attachShadow({mode:"closed"}),this.#k.adoptedStyleSheets=[Kt.#y]}connectedCallback(){this.#X(),this.#M(),P.addEventListener("sizechange",this.#S=()=>this.#M())}disconnectedCallback(){P.removeEventListener("sizechange",this.#S)}attributeChangedCallback(t,e,i){e!==i&&("type"===t?this.#X():"size"===t&&this.#M())}#X(){let t=this.#k.firstElementChild,e="ring"===this.type?Kt.#ds:Kt.#us;null===t?this.#k.append(document.importNode(e.content,!0)):t.dataset.type!==this.type&&t.replaceWith(document.importNode(e.content,!0)),!1===this.hasAttribute("type")&&this.setAttribute("type",this.type)}#M(){let t=P.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}}customElements.define("x-throbber",Kt);let{PI:Xt,sqrt:Vt,atan2:Zt,sin:Gt,cos:Yt,pow:Wt}=Math;class Jt extends HTMLElement{static observedAttributes=["value","size"];static#v=L`<template><x-box vertical><div id="huesat-slider"><img id="huesat-image"><div id="huesat-marker"></div></div><div id="value-slider"><div id="value-slider-track"><div id="value-slider-marker"></div></div></div><div id="alpha-slider"><div id="alpha-slider-gradient"></div><div id="alpha-slider-track"><div id="alpha-slider-marker"></div></div></div></x-box></template>`;static#y=T`:host{display:block;width:100%;user-select:none;--wheel-max-width:none}:host([hidden]){display:none}#huesat-slider{display:flex;position:relative;width:100%;max-width:var(--wheel-max-width);margin:0 auto;height:auto;touch-action:pinch-zoom}#huesat-image{width:100%;height:100%;border-radius:999px;pointer-events:none}#huesat-marker{position:absolute;top:0;left:0;width:var(--marker-size);height:var(--marker-size);transform:translate(calc(var(--marker-size)/ -2),calc(var(--marker-size)/ -2));box-sizing:border-box;background:rgba(0,0,0,.3);border:3px solid #fff;border-radius:999px;box-shadow:0 0 3px #000;--marker-size:20px}#value-slider{width:100%;height:30px;margin-top:10px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px}:host([computedsize=small]) #value-slider{height:24px}:host([computedsize=large]) #value-slider{height:35px}#value-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#value-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#alpha-slider{position:relative;display:none;width:100%;height:30px;margin-top:14px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px;background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}:host([alphaslider]) #alpha-slider{display:block}:host([computedsize=small]) #alpha-slider{height:24px}:host([computedsize=large]) #alpha-slider{height:35px}#alpha-slider-gradient{position:absolute;top:0;left:0;width:100%;height:100%}#alpha-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#alpha-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}`;get value(){return this.hasAttribute("value")?this.getAttribute("value"):"hsla(0, 0%, 100%, 1)"}set value(t){this.setAttribute("value",t)}get size(){return this.hasAttribute("size")?this.getAttribute("size"):null}set size(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t)}get computedSize(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium"}#k=null;#z={};#S=null;#P=0;#R=0;#Ai=100;#O=1;#cs=!1;#ps=!1;#N=!1;constructor(){super(),this.#k=this.attachShadow({mode:"closed"}),this.#k.adoptedStyleSheets=[Jt.#y],this.#k.append(document.importNode(Jt.#v.content,!0));for(let t of this.#k.querySelectorAll("[id]"))this.#z[t.id]=t;this.#z["huesat-slider"].addEventListener("pointerdown",(t=>this.#ms(t))),this.#z["value-slider"].addEventListener("pointerdown",(t=>this.#bs(t))),this.#z["alpha-slider"].addEventListener("pointerdown",(t=>this.#K(t)))}async connectedCallback(){this.#X(),this.#M(),""===this.#z["huesat-image"].src&&(this.#z["huesat-image"].src=await k()),P.addEventListener("sizechange",this.#S=()=>this.#M())}disconnectedCallback(){P.removeEventListener("sizechange",this.#S)}attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.#V():"size"===t&&this.#Z())}#X(){this.#gs(),this.#xs(),this.#fs(),this.#_(),this.#tt()}#gs(){let t=this.#P,e=this.#R,i=100,s=h*t/180;let n=e/100*i/2,o=50,l=(i-(50+n*Yt(s)))/i*100,a=(o-n*Gt(s))/i*100;this.#z["huesat-marker"].style.left=l+"%",this.#z["huesat-marker"].style.top=a+"%"}#xs(){this.#z["value-slider-marker"].style.left=100-l(this.#Ai,0,100,2)+"%"}#fs(){let t=v([this.#P,this.#R,100,1],"hsva","hex");this.#z["value-slider"].style.background=`linear-gradient(to right, rgba(0,0,0,0), rgba(0,0,0,1)), ${t}`}#_(){this.#z["alpha-slider-marker"].style.left=l(100*(1-this.#O),0,100,2)+"%"}#tt(){let[t,e,i]=w(this.#P,this.#R,this.#Ai).map((t=>n(t,0)));this.#z["alpha-slider-gradient"].style.background=`\n      linear-gradient(to right, rgba(${t}, ${e}, ${i}, 1), rgba(${t}, ${e}, ${i}, 0))\n    `}#M(){let t=P.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i)}#V(){if(!1===this.#cs&&!1===this.#ps&&!1===this.#N){let[t,e,i,s]=(new E).parse(this.value,"hsva");this.#P=t,this.#R=e,this.#Ai=i,this.#O=s,this.#X()}}#Z(){this.#M()}#ms(t){if(t.buttons>1)return;let e,i,s=this.#z["huesat-slider"].getBoundingClientRect();this.#cs=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.#z["huesat-slider"].style.cursor="default",this.#z["huesat-slider"].setPointerCapture(t.pointerId);let h=(t,e)=>{let i=s.width/2,h=t-s.left-i,o=e-s.top-i,l=Wt(h,2)+Wt(o,2),a=Zt(o,h);l>Wt(i,2)&&(h=i*Yt(a),o=i*Gt(a),l=Wt(h,2)+Wt(o,2),a=Zt(o,h)),this.#P=n((a+Xt)/(2*Xt)*360,3),this.#R=n(Vt(l)/i*100,3),this.value=v([this.#P,this.#R,this.#Ai,this.#O],"hsva","hsla"),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.#gs(),this.#fs(),this.#tt()};h(t.clientX,t.clientY),this.#z["huesat-slider"].addEventListener("pointermove",e=t=>{h(t.clientX,t.clientY)}),this.#z["huesat-slider"].addEventListener("pointerup",i=t=>{this.#z["huesat-slider"].removeEventListener("pointermove",e),this.#z["huesat-slider"].removeEventListener("pointerup",i),this.#z["huesat-slider"].style.cursor=null,this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.#cs=!1})}#bs(t){if(t.buttons>1)return;let e,i,s=this.#z["value-slider-track"].getBoundingClientRect();this.#ps=!0,this.#z["value-slider"].style.cursor="default",this.#z["value-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let h=t=>{let e=100-(t-s.x)/s.width*100;e=l(e,0,100,2),e!==this.#Ai&&(this.#Ai=e,this.value=v([this.#P,this.#R,this.#Ai,this.#O],"hsva","hsla"),this.#xs(),this.#tt(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};h(t.clientX),this.#z["value-slider"].addEventListener("pointermove",e=t=>{h(t.clientX)}),this.#z["value-slider"].addEventListener("pointerup",i=()=>{this.#z["value-slider"].removeEventListener("pointermove",e),this.#z["value-slider"].removeEventListener("pointerup",i),this.#z["value-slider"].style.cursor=null,this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.#ps=!1})}#K(t){if(t.buttons>1)return;let e,i,s=this.#z["alpha-slider-track"].getBoundingClientRect();this.#N=!0,this.#z["alpha-slider"].style.cursor="default",this.#z["alpha-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));let h=t=>{let e=1-(t-s.x)/s.width;e=l(e,0,1,2),e!==this.#O&&(this.#O=e,this.value=v([this.#P,this.#R,this.#Ai,this.#O],"hsva","hsla"),this.#_(),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})))};h(t.clientX),this.#z["alpha-slider"].addEventListener("pointermove",e=t=>{h(t.clientX)}),this.#z["alpha-slider"].addEventListener("pointerup",i=()=>{this.#z["alpha-slider"].removeEventListener("pointermove",e),this.#z["alpha-slider"].removeEventListener("pointerup",i),this.#z["alpha-slider"].style.cursor=null,this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),this.#N=!1})}}customElements.define("x-wheelcolorpicker",Jt);export{P as default};