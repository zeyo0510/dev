let t;var i,s;i=this,s=function(){const t=134217729;function i(t,i,s,n,e){let r,h,l,o,a=i[0],f=n[0],u=0,c=0;f>a==f>-a?(r=a,a=i[++u]):(r=f,f=n[++c]);let _=0;if(u<t&&c<s)for(f>a==f>-a?(h=a+r,l=r-(h-a),a=i[++u]):(h=f+r,l=r-(h-f),f=n[++c]),r=h,0!==l&&(e[_++]=l);u<t&&c<s;)f>a==f>-a?(h=r+a,o=h-r,l=r-(h-o)+(a-o),a=i[++u]):(h=r+f,o=h-r,l=r-(h-o)+(f-o),f=n[++c]),r=h,0!==l&&(e[_++]=l);for(;u<t;)h=r+a,o=h-r,l=r-(h-o)+(a-o),a=i[++u],r=h,0!==l&&(e[_++]=l);for(;c<s;)h=r+f,o=h-r,l=r-(h-o)+(f-o),f=n[++c],r=h,0!==l&&(e[_++]=l);return 0===r&&0!==_||(e[_++]=r),_}function s(t){return new Float64Array(t)}const n=s(4),e=s(8),r=s(12),h=s(16),l=s(4);function o(s,o,a,f,u,c){const _=(o-c)*(a-u),d=(s-u)*(f-c),y=_-d;if(0===_||0===d||_>0!=d>0)return y;const g=Math.abs(_+d);return Math.abs(y)>=33306690738754716e-32*g?y:-function(s,o,a,f,u,c,_){let d,y,g,w,b,A,k,p,x,M,I,S,T,z,U,m,K,v;const L=s-u,D=a-u,F=o-c,P=f-c;z=L*P,A=t*L,k=A-(A-L),p=L-k,A=t*P,x=A-(A-P),M=P-x,U=p*M-(z-k*x-p*x-k*M),m=F*D,A=t*F,k=A-(A-F),p=F-k,A=t*D,x=A-(A-D),M=D-x,K=p*M-(m-k*x-p*x-k*M),I=U-K,b=U-I,n[0]=U-(I+b)+(b-K),S=z+I,b=S-z,T=z-(S-b)+(I-b),I=T-m,b=T-I,n[1]=T-(I+b)+(b-m),v=S+I,b=v-S,n[2]=S-(v-b)+(I-b),n[3]=v;let E=function(t,i){let s=i[0];for(let n=1;n<t;n++)s+=i[n];return s}(4,n),H=22204460492503146e-32*_;if(E>=H||-E>=H)return E;if(b=s-L,d=s-(L+b)+(b-u),b=a-D,g=a-(D+b)+(b-u),b=o-F,y=o-(F+b)+(b-c),b=f-P,w=f-(P+b)+(b-c),0===d&&0===y&&0===g&&0===w)return E;if(H=11093356479670487e-47*_+33306690738754706e-32*Math.abs(E),E+=L*w+P*d-(F*g+D*y),E>=H||-E>=H)return E;z=d*P,A=t*d,k=A-(A-d),p=d-k,A=t*P,x=A-(A-P),M=P-x,U=p*M-(z-k*x-p*x-k*M),m=y*D,A=t*y,k=A-(A-y),p=y-k,A=t*D,x=A-(A-D),M=D-x,K=p*M-(m-k*x-p*x-k*M),I=U-K,b=U-I,l[0]=U-(I+b)+(b-K),S=z+I,b=S-z,T=z-(S-b)+(I-b),I=T-m,b=T-I,l[1]=T-(I+b)+(b-m),v=S+I,b=v-S,l[2]=S-(v-b)+(I-b),l[3]=v;const N=i(4,n,4,l,e);z=L*w,A=t*L,k=A-(A-L),p=L-k,A=t*w,x=A-(A-w),M=w-x,U=p*M-(z-k*x-p*x-k*M),m=F*g,A=t*F,k=A-(A-F),p=F-k,A=t*g,x=A-(A-g),M=g-x,K=p*M-(m-k*x-p*x-k*M),I=U-K,b=U-I,l[0]=U-(I+b)+(b-K),S=z+I,b=S-z,T=z-(S-b)+(I-b),I=T-m,b=T-I,l[1]=T-(I+b)+(b-m),v=S+I,b=v-S,l[2]=S-(v-b)+(I-b),l[3]=v;const j=i(N,e,4,l,r);z=d*w,A=t*d,k=A-(A-d),p=d-k,A=t*w,x=A-(A-w),M=w-x,U=p*M-(z-k*x-p*x-k*M),m=y*g,A=t*y,k=A-(A-y),p=y-k,A=t*g,x=A-(A-g),M=g-x,K=p*M-(m-k*x-p*x-k*M),I=U-K,b=U-I,l[0]=U-(I+b)+(b-K),S=z+I,b=S-z,T=z-(S-b)+(I-b),I=T-m,b=T-I,l[1]=T-(I+b)+(b-m),v=S+I,b=v-S,l[2]=S-(v-b)+(I-b),l[3]=v;const q=i(j,r,4,l,h);return h[q-1]}(s,o,a,f,u,c,g)}const a=Math.pow(2,-52),f=new Uint32Array(512);class Delaunator{static from(t,i=g,s=w){const n=t.length,e=new Float64Array(2*n);for(let r=0;r<n;r++){const n=t[r];e[2*r]=i(n),e[2*r+1]=s(n)}return new Delaunator(e)}constructor(t){const i=t.length>>1;if(i>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const s=Math.max(2*i-5,0);this._triangles=new Uint32Array(3*s),this._halfedges=new Int32Array(3*s),this._hashSize=Math.ceil(Math.sqrt(i)),this._hullPrev=new Uint32Array(i),this._hullNext=new Uint32Array(i),this._hullTri=new Uint32Array(i),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(i),this._dists=new Float64Array(i),this.update()}update(){const{coords:t,_hullPrev:i,_hullNext:s,_hullTri:n,_hullHash:e}=this,r=t.length>>1;let h=Infinity,l=Infinity,f=-Infinity,c=-Infinity;for(let i=0;i<r;i++){const s=t[2*i],n=t[2*i+1];s<h&&(h=s),n<l&&(l=n),s>f&&(f=s),n>c&&(c=n),this._ids[i]=i}const y=(h+f)/2,g=(l+c)/2;let w,b,A,k=Infinity;for(let i=0;i<r;i++){const s=u(y,g,t[2*i],t[2*i+1]);s<k&&(w=i,k=s)}const p=t[2*w],x=t[2*w+1];k=Infinity;for(let i=0;i<r;i++){if(i===w)continue;const s=u(p,x,t[2*i],t[2*i+1]);s<k&&s>0&&(b=i,k=s)}let M=t[2*b],I=t[2*b+1],S=Infinity;for(let i=0;i<r;i++){if(i===w||i===b)continue;const s=_(p,x,M,I,t[2*i],t[2*i+1]);s<S&&(A=i,S=s)}let T=t[2*A],z=t[2*A+1];if(Infinity===S){for(let i=0;i<r;i++)this._dists[i]=t[2*i]-t[0]||t[2*i+1]-t[1];d(this._ids,this._dists,0,r-1);const i=new Uint32Array(r);let s=0;for(let t=0,n=-Infinity;t<r;t++){const e=this._ids[t];this._dists[e]>n&&(i[s++]=e,n=this._dists[e])}return this.hull=i.subarray(0,s),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(o(p,x,M,I,T,z)<0){const t=b,i=M,s=I;b=A,M=T,I=z,A=t,T=i,z=s}const U=function(t,i,s,n,e,r){const h=s-t,l=n-i,o=e-t,a=r-i,f=h*h+l*l,u=o*o+a*a,c=.5/(h*a-l*o);return{x:t+(a*f-l*u)*c,y:i+(h*u-o*f)*c}}(p,x,M,I,T,z);this._cx=U.x,this._cy=U.y;for(let i=0;i<r;i++)this._dists[i]=u(t[2*i],t[2*i+1],U.x,U.y);d(this._ids,this._dists,0,r-1),this._hullStart=w;let m=3;s[w]=i[A]=b,s[b]=i[w]=A,s[A]=i[b]=w,n[w]=0,n[b]=1,n[A]=2,e.fill(-1),e[this._hashKey(p,x)]=w,e[this._hashKey(M,I)]=b,e[this._hashKey(T,z)]=A,this.trianglesLen=0,this._addTriangle(w,b,A,-1,-1,-1);for(let r,h,l=0;l<this._ids.length;l++){const f=this._ids[l],u=t[2*f],c=t[2*f+1];if(l>0&&Math.abs(u-r)<=a&&Math.abs(c-h)<=a)continue;if(r=u,h=c,f===w||f===b||f===A)continue;let _=0;for(let t=0,i=this._hashKey(u,c);t<this._hashSize&&(_=e[(i+t)%this._hashSize],-1===_||_===s[_]);t++);_=i[_];let d,y=_;for(;d=s[y],o(u,c,t[2*y],t[2*y+1],t[2*d],t[2*d+1])>=0;)if(y=d,y===_){y=-1;break}if(-1===y)continue;let g=this._addTriangle(y,f,s[y],-1,-1,n[y]);n[f]=this._legalize(g+2),n[y]=g,m++;let k=s[y];for(;d=s[k],o(u,c,t[2*k],t[2*k+1],t[2*d],t[2*d+1])<0;)g=this._addTriangle(k,f,d,n[f],-1,n[k]),n[f]=this._legalize(g+2),s[k]=k,m--,k=d;if(y===_)for(;d=i[y],o(u,c,t[2*d],t[2*d+1],t[2*y],t[2*y+1])<0;)g=this._addTriangle(d,f,y,-1,n[y],n[d]),this._legalize(g+2),n[d]=g,s[y]=y,m--,y=d;this._hullStart=i[f]=y,s[y]=i[k]=f,s[f]=k,e[this._hashKey(u,c)]=f,e[this._hashKey(t[2*y],t[2*y+1])]=y}this.hull=new Uint32Array(m);for(let t=0,i=this._hullStart;t<m;t++)this.hull[t]=i,i=s[i];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,i){return Math.floor(function(t,i){const s=t/(Math.abs(t)+Math.abs(i));return(i>0?3-s:1+s)/4}(t-this._cx,i-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:i,_halfedges:s,coords:n}=this;let e=0,r=0;for(;;){const h=s[t],l=t-t%3;if(r=l+(t+2)%3,-1===h){if(0===e)break;t=f[--e];continue}const o=h-h%3,a=l+(t+1)%3,u=o+(h+2)%3,_=i[r],d=i[t],y=i[a],g=i[u];if(c(n[2*_],n[2*_+1],n[2*d],n[2*d+1],n[2*y],n[2*y+1],n[2*g],n[2*g+1])){i[t]=g,i[h]=_;const n=s[u];if(-1===n){let i=this._hullStart;do{if(this._hullTri[i]===u){this._hullTri[i]=t;break}i=this._hullPrev[i]}while(i!==this._hullStart)}this._link(t,n),this._link(h,s[r]),this._link(r,u);const l=o+(h+1)%3;e<f.length&&(f[e++]=l)}else{if(0===e)break;t=f[--e]}}return r}_link(t,i){this._halfedges[t]=i,-1!==i&&(this._halfedges[i]=t)}_addTriangle(t,i,s,n,e,r){const h=this.trianglesLen;return this._triangles[h]=t,this._triangles[h+1]=i,this._triangles[h+2]=s,this._link(h,n),this._link(h+1,e),this._link(h+2,r),this.trianglesLen+=3,h}}function u(t,i,s,n){const e=t-s,r=i-n;return e*e+r*r}function c(t,i,s,n,e,r,h,l){const o=t-h,a=i-l,f=s-h,u=n-l,c=e-h,_=r-l,d=f*f+u*u,y=c*c+_*_;return o*(u*y-d*_)-a*(f*y-d*c)+(o*o+a*a)*(f*_-u*c)<0}function _(t,i,s,n,e,r){const h=s-t,l=n-i,o=e-t,a=r-i,f=h*h+l*l,u=o*o+a*a,c=.5/(h*a-l*o),_=(a*f-l*u)*c,d=(h*u-o*f)*c;return _*_+d*d}function d(t,i,s,n){if(n-s<=20)for(let e=s+1;e<=n;e++){const n=t[e],r=i[n];let h=e-1;for(;h>=s&&i[t[h]]>r;)t[h+1]=t[h--];t[h+1]=n}else{let e=s+1,r=n;y(t,s+n>>1,e),i[t[s]]>i[t[n]]&&y(t,s,n),i[t[e]]>i[t[n]]&&y(t,e,n),i[t[s]]>i[t[e]]&&y(t,s,e);const h=t[e],l=i[h];for(;;){do{e++}while(i[t[e]]<l);do{r--}while(i[t[r]]>l);if(r<e)break;y(t,e,r)}t[s+1]=t[r],t[r]=h,n-e+1>=r-s?(d(t,i,e,n),d(t,i,s,r-1)):(d(t,i,s,r-1),d(t,i,e,n))}}function y(t,i,s){const n=t[i];t[i]=t[s],t[s]=n}function g(t){return t[0]}function w(t){return t[1]}return Delaunator},"object"==typeof exports&&"undefined"!=typeof module?module.exports=s():"function"==typeof define&&define.amd?define(s):(i="undefined"!=typeof globalThis?globalThis:i||self,t=s());export default t;