window.store={chromeSupport:function(){return chrome&&chrome.storage&&chrome.storage.local},localStoreSupport:function(){try{return chrome&&chrome.storage&&chrome.storage.local||"localStorage"in window&&window.localStorage!==null}catch(n){return!1}},set:function(n,t){var i,r;if(t?(i=new Date,i.setTime(i.getTime()+t*864e5),r="; expires="+i.toGMTString()):r="",this.localStoreSupport())if(this.chromeSupport())store.set(n);else for(name in n)localStorage.setItem(name,n[name]);else for(name in n)document.cookie=name+"="+n[name]+r+"; path=/"},get:function(n,t){var f,e,u,i,r;if(this.localStoreSupport())this.chromeSupport()?store.get(n,t):(r={},r[n]=localStorage.getItem(n),t(r));else{for(f=n+"=",e=document.cookie.split(";"),u=0;u<e.length;u++){for(i=e[u];i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(f)==0){r={};r[n]=i.substring(f.length,i.length);return}}t({})}},del:function(n){if(this.localStoreSupport())this.chromeSupport()?store.remove(n):localStorage.removeItem(n);else{var t={};t[n]="";this.set(t,-1)}}}