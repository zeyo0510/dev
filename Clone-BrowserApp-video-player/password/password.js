function showPasswordDialog(n){function c(){var i=document.getElementById("passwordElement");i&&window.gPasswordMD5==MD5(i.value)&&(t&&window.wizardDialog.closeDialog(t),n(!0))}function l(){t&&window.wizardDialog.closeDialog(t);n(!1)}var t,i,h,f,r,s,e,o,u;if(!window.gPasswordMD5||window.gDisablePasswordProtection){n(!0);return}t=document.createElement("div");t.id="password";t.className="bbm-modal bbm-modal--psw";window.wizardDialog.openDialog(t,.7,!1,l)&&(i=document.createElement("div"),i.className="bbm-views bbm-modal__views",t.appendChild(i),h=document.createElement("h"),h.textContent=chrome.i18n.getMessage("enterPassword"),i.appendChild(h),f=document.createElement("div"),f.className="password-wrapper",i.appendChild(f),r=document.createElement("input"),r.id="passwordElement",r.type="password",r.value="",f.appendChild(r),addEventListener("keyup",function(n){n&&n.keyCode==13&&c()}),r.focus(),s=document.createElement("div"),s.className="password-text",s.textContent=chrome.i18n.getMessage("passwordReset"),f.appendChild(s),e=document.createElement("div"),e.className="buttons-wrapper",i.appendChild(e),o=document.createElement("button"),o.className="right",o.textContent="Cancel",o.onclick=l,e.appendChild(o),u=document.createElement("button"),u.className="right bold",u.id="gdrive-ok-button",u.textContent="OK",u.onclick=c,e.appendChild(u))}function changePasswordDialog(){function c(){var i=document.getElementById("passwordElement1"),t;i&&(window.gPasswordMD5=MD5(i.value));t=document.getElementById("password-checkbox");t&&(t.checked=!0);configureMainButtons();saveLastState();n&&window.wizardDialog.closeDialog(n)}function a(){window.gDisablePasswordProtection=!0;window.gPasswordMD5="";var t=document.getElementById("password-checkbox-wrapper");t&&(t.style.display="none");saveLastState();n&&window.wizardDialog.closeDialog(n)}function v(){window.gPasswordMD5="";var t=document.getElementById("password-checkbox");t&&(t.checked=!1);saveLastState();n&&window.wizardDialog.closeDialog(n)}function l(){var n=document.getElementById("passwordElement1"),t=document.getElementById("passwordElement2"),i=document.getElementById("password-ok-button");i&&(i.disabled=!n||!t||n.value!=t.value)}var n,u,h,e,i,t,f,o,r,s;window.gDisablePasswordProtection||(n=document.createElement("div"),n.id="password",n.className="bbm-modal bbm-modal--psw",window.wizardDialog.openDialog(n,.1,!0)&&(u=document.createElement("div"),u.className="bbm-views bbm-modal__views",n.appendChild(u),h=document.createElement("h"),h.textContent=chrome.i18n.getMessage("passwordSettings"),u.appendChild(h),e=document.createElement("div"),e.className="password-wrapper",u.appendChild(e),i=document.createElement("input"),i.className="password-text",i.id="passwordElement1",i.type="password",i.value="",e.appendChild(i),i.oninput=l,i.focus(),i.addEventListener("keyup",function(n){n&&n.keyCode==13&&t&&t.focus()}),t=document.createElement("input"),t.className="password-text",t.id="passwordElement2",t.type="password",t.value="",e.appendChild(t),t.oninput=l,t.addEventListener("keyup",function(n){n&&n.keyCode==13&&!r.disabled&&c()}),f=document.createElement("div"),f.className="buttons-wrapper",u.appendChild(f),o=document.createElement("button"),o.className="right",o.textContent="Cancel",o.onclick=v,f.appendChild(o),r=document.createElement("button"),r.className="right bold",r.id="password-ok-button",r.textContent="OK",r.onclick=c,r.disabled=!0,f.appendChild(r),s=document.createElement("button"),s.className="right",s.textContent=chrome.i18n.getMessage("disablePasswordProtect"),s.onclick=a,f.appendChild(s)))}