TipDialog=function(){var c={showAtStartup:!0,lastIndex:-1,lastRunningTime:0},b=this,d;this.active=this.cancelled=!1;this.showAtStartup=function(){var e=(new Date).getTime();return c.showAtStartup&&432E5<e-c.lastRunningTime};this.loadStatus=function(e){try{chrome.storage.local.get("tip_of_the_day",function(b){b.tip_of_the_day&&(c=JSON.parse(b.tip_of_the_day));e&&e(c)})}catch(b){console.log(b)}};this.saveStatus=function(){try{c.lastRunningTime=(new Date).getTime(),c.lastIndex=d.currentIndex,chrome.storage.local.set({tip_of_the_day:JSON.stringify(c)})}catch(b){console.log(b)}};
this.cancel=function(){this.active?(d.close(),this.active=!1):this.cancelled=!0};this.open=function(){function e(a,b,d){if(a>b)return d();var f="click #step"+a;h[f]=$("<div/>").load("tipDialog/view"+a+".html",function(){g[f]={id:a,view:function(a){a=h[f].html();0==c.showAtStartup&&(a=a.replace('"show_at_startup" checked','"show_at_startup"'));gAnalyticsConfig&&0==gAnalyticsConfig.isTrackingPermitted()&&(a=a.replace('"send_statistics" checked','"send_statistics"'));return a},onActive:"setActive"};
e(a+1,b,d)})}var g={},h=[],k=Backbone.Modal.extend({template:function(a){return'<div class="my-container"></div>'},viewContainer:".my-container",submitEl:".done",cancelEl:".cancel",views:g,setActive:function(a){this.$(a.myActiveTabClass).addClass("active");b.active&&sendEventStatistic("Help","Tip","View",a.id)},submit:function(){b.saveStatus();b.active=!1},cancel:function(){b.saveStatus();b.active=!1},events:{"click .previous":"previousStep","click .next":"nextStep","click .bbm-checkbox":"checkBox",
"click .bbm-statistics-checkbox":"statisticsCheckBox","click .help-3dview":"help3DView","click .help-get3d":"helpGet3D","click .help-prepare":"helpPrepare","click .help-print":"helpPrint","click .license":"license","click .feedback":"feedback","click .webgl":"webgl","click .thingiverse":"thingiverse","click .shapequote":"shapequote"},previousStep:function(a){a.preventDefault();this.previous()},nextStep:function(a){a.preventDefault();this.next()},checkBox:function(a){c.showAtStartup=a.target.checked},
statisticsCheckBox:function(a){gAnalyticsConfig&&gAnalyticsConfig.setTrackingPermitted(a.target.checked)},help3DView:function(a){openHelp("manual.html")},helpGet3D:function(a){openHelp("model.html")},helpPrepare:function(a){openHelp("quality.html")},helpPrint:function(a){openHelp("print.html")},license:function(a){openHelp("license.html")},feedback:function(a){window.open("https://chrome.google.com/webstore/detail/3dview/hhngciknjebkeffhafnaodkfidcdlcao/support","_blank")},webgl:function(a){window.open("https://wikipedia.org/wiki/WebGL",
"_blank")},thingiverse:function(a){window.open("http://www.thingiverse.com/","_blank")},shapequote:function(a){window.open("http://shapequote.com/","_blank")}});e(1,19,function(){b.cancelled?b.cancelled=!1:(d=new k,$(".app").html(d.render().el),c.lastIndex=c.lastIndex<d.views.length?c.lastIndex+1:0,b.active=!0,d.openAt(c.lastIndex))})}};
