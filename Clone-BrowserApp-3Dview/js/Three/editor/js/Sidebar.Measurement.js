Sidebar.Measurement=function(h){function p(){var a=h.selected;null!==a&&a instanceof T.Measurement&&(a.setComments(e.getValue()),l.objectChanged.dispatch(a))}function q(){var a=h.selected;if(a&&a.measurementGizmo){c.setDisplay("block");f.setDisplay("block");r.setValue(a.getType());null!==a.getValue()?(m.setValue(a.getType().toUpperCase()+" MEASUREMENT"),t.setValue(a.getValue().toFixed(4))):(m.setValue(a.getType().toUpperCase()),f.setDisplay("none"));for(var b=0;b<d.length;++b)c.remove(d[b]);d=[];
for(var k=a.getInfo(),b=0;b<k.length;++b){d[b]=new UI.Panel;d[b].add((new UI.Text(k[b].name)).setWidth("90px").setColor("#666"));for(j=0;j<k[b].values.length;j++){var g=k[b].values[j];"number"===typeof g&&isFinite(g)&&(g=g.toFixed(2));d[b].add((new UI.Text(g)).setWidth("57px").setColor("#444").setFontSize("12px"))}c.add(d[b])}e.setValue(a.getComments())}else c.setDisplay("none")}var l=h.signals,d=[],c=new UI.CollapsiblePanel;c.setBorderTop("1px solid #ccc");c.setPadding("10px");c.setDisplay("none");
var m=(new UI.Text).setValue("MEASUREMENT").setColor("#666");c.addStatic(m);c.add(new UI.Break);var f=new UI.Panel,r=(new UI.Text).setWidth("90px").setColor("#666"),t=(new UI.Text).setWidth("57px").setColor("#444").setFontSize("12px");f.add(r);f.add(t);c.add(f);var n=new UI.Panel,e=(new UI.TextArea).setWidth("270px").setHeight("80px").setColor("#444").setFontSize("12px");e.onChange(p);e.onKeyUp(p);n.add((new UI.Text("Notes")).setWidth("90px").setColor("#666"));n.add(e);c.add(n);l.objectChanged.add(function(a){a===
h.selected&&q()});l.objectSelected.add(function(a){q()});return c};
