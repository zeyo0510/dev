Sidebar.Object3D=function(d){function b(){var a=d.selected;!(null!==a&&a instanceof T.Object3D)||a instanceof T.Camera||a instanceof T.Platform||(a.name=k.getValue(),a.position.x=t.getValue(),a.position.y=u.getValue(),a.position.z=v.getValue(),a.rotation.x=w.getValue(),a.rotation.y=x.getValue(),a.rotation.z=y.getValue(),a.scale.x=f.getValue(),a.scale.y=g.getValue(),a.scale.z=h.getValue(),a.updateMatrixWorld(),e.objectChanged.dispatch(a))}function z(){c.setDisplay("none");var a=d.selected;if(!(null===
a||!(a instanceof T.Mesh||a instanceof T.Object3D)||a instanceof T.Camera||a instanceof T.Platform)){c.setDisplay("block");var b=d.selected,e=b instanceof T.Camera||b instanceof T.Measurement?"none":"";q.setDisplay(b instanceof T.Camera?"none":"");n.setDisplay(e);p.setDisplay(e);l.setDisplay(e);m.setDisplay(e);k.setValue(a.name);n.setDisplay(isNaN(a.position.x+a.position.y+a.position.z)?"none":"");t.setValue(a.position.x);u.setValue(a.position.y);v.setValue(a.position.z);p.setDisplay(isNaN(a.rotation.x+
a.rotation.y+a.rotation.z)?"none":"");w.setValue(a.rotation.x);x.setValue(a.rotation.y);y.setValue(a.rotation.z);l.setDisplay(isNaN(a.scale.x+a.scale.y+a.scale.z)?"none":"");f.setValue(a.scale.x);g.setValue(a.scale.y);h.setValue(a.scale.z)}}function A(){var a=d.selected;null===a||a instanceof T.Camera||a instanceof T.Platform||!(a=T.GeometryUtils.getGlobalBoundingBox(a))||(a=(new T.V3).subVectors(a.max,a.min),m.setDisplay(Infinity===Math.abs(a.x)&&Infinity===Math.abs(a.y)&&Infinity===Math.abs(a.z)?
"none":""),B.setValue(Math.abs(a.x).toFixed(2)),C.setValue(Math.abs(a.y).toFixed(2)),D.setValue(Math.abs(a.z).toFixed(2)))}var e=d.signals,c=new UI.CollapsiblePanel;c.setBorderTop("1px solid #ccc");c.setPadding("10px");c.setDisplay("none");c.addStatic((new UI.Text).setValue("OBJECT").setColor("#666"));c.add(new UI.Break);var q=new UI.Panel,k=(new UI.Input).setWidth("165px").setColor("#444").setFontSize("12px");k.onChange(b);k.onKeyUp(function(){var a=d.selected;null!==a&&a instanceof T.Object3D&&
!(a instanceof T.Camera)&&(a.name=k.getValue())});q.add((new UI.Text("Name")).setWidth("90px").setColor("#666"));q.add(k);c.add(q);var n=new UI.Panel,t=(new UI.Number).setWidth("50px").onChange(b),u=(new UI.Number).setWidth("50px").onChange(b),v=(new UI.Number).setWidth("50px").onChange(b);n.add((new UI.Text("Position")).setWidth("90px").setColor("#666"));n.add(t,u,v);c.add(n);var p=new UI.Panel,w=(new UI.Number).setWidth("50px").onChange(b),x=(new UI.Number).setWidth("50px").onChange(b),y=(new UI.Number).setWidth("50px").onChange(b);
p.add((new UI.Text("Rotation")).setWidth("90px").setColor("#666"));p.add(w,x,y);c.add(p);var l=new UI.Panel,r=new UI.Checkbox,f=(new UI.Number(1)).setWidth("50px").onChange(function(){var a=d.selected;!0===r.getValue()&&0!==a.scale.x&&(a=f.getValue()/a.scale.x,g.setValue(g.getValue()*a),h.setValue(h.getValue()*a));b()}),g=(new UI.Number(1)).setWidth("50px").onChange(function(){var a=d.selected;!0===r.getValue()&&(a=g.getValue()/a.scale.y,f.setValue(f.getValue()*a),h.setValue(h.getValue()*a));b()}),
h=(new UI.Number(1)).setWidth("50px").onChange(function(){var a=d.selected;!0===r.getValue()&&(a=h.getValue()/a.scale.z,f.setValue(f.getValue()*a),g.setValue(g.getValue()*a));b()});l.add((new UI.Text("Scale")).setWidth("72px").setColor("#666"));l.add(r);l.add(f,g,h);c.add(l);var m=new UI.Panel,B=(new UI.Text(1)).setWidth("56px").setColor("#444").setFontSize("12px"),C=(new UI.Text(1)).setWidth("56px").setColor("#444").setFontSize("12px"),D=(new UI.Text(1)).setWidth("56px").setColor("#444").setFontSize("12px");
m.add((new UI.Text("Dimensions\t")).setWidth("93px").setColor("#666"));m.add(B,C,D);m.setStyle("-webkit-user-select",["text"]);c.add(m);e.objectSelected.add(function(a){z();A()});e.objectChanged.add(function(a){a===d.selected&&(z(),A())});e.objectChanging.add(function(a){a===d.selected&&z()});return c};
