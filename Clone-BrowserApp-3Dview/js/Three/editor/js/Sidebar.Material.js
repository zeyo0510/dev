Sidebar.Material=function(E){function c(){var a=E.selected,c=a.geometry,b=a.material,d=!1,e=!1;c instanceof T.Geometry&&0<c.faceVertexUvs[0].length&&(e=!0);c instanceof T.BufferGeometry&&void 0!==c.attributes.uv&&(e=!0);b&&(void 0!==b.uuid&&(b.uuid=p.getValue()),void 0!==b.name&&(b.name=F.getValue()),!1===b instanceof q[r.getValue()]&&(b=new (q[r.getValue()]),a.material=b),void 0!==b.color&&b.color.setHex(G.getHexValue()),void 0!==b.ambient&&b.ambient.setHex(H.getHexValue()),void 0!==b.emissive&&
b.emissive.setHex(I.getHexValue()),void 0!==b.specular&&b.specular.setHex(J.getHexValue()),void 0!==b.shininess&&(b.shininess=K.getValue()),void 0!==b.vertexColors&&(c.buffersNeedUpdate=!0,c.colorsNeedUpdate=!0,b.vertexColors=parseInt(L.getValue()),b.needsUpdate=!0),void 0!==b.map&&(a=!0===M.getValue(),e?(c.buffersNeedUpdate=!0,c.uvsNeedUpdate=!0,b.map=a?N.getValue():null,b.needsUpdate=!0):a&&(d=!0)),void 0!==b.bumpMap&&(a=!0===O.getValue(),e?(c.buffersNeedUpdate=!0,c.uvsNeedUpdate=!0,b.bumpMap=a?
P.getValue():null,b.bumpScale=Q.getValue(),b.needsUpdate=!0):a&&(d=!0)),void 0!==b.normalMap&&(a=!0===R.getValue(),e?(c.buffersNeedUpdate=!0,c.uvsNeedUpdate=!0,b.normalMap=a?S.getValue():null,b.needsUpdate=!0):a&&(d=!0)),void 0!==b.specularMap&&(a=!0===U.getValue(),e?(c.buffersNeedUpdate=!0,c.uvsNeedUpdate=!0,b.specularMap=a?V.getValue():null,b.needsUpdate=!0):a&&(d=!0)),void 0!==b.envMap&&(a=!0===W.getValue(),e?(c.buffersNeedUpdate=!0,c.uvsNeedUpdate=!0,b.envMap=a?X.getValue():null,b.reflectivity=
Y.getValue(),b.needsUpdate=!0):a&&(d=!0)),void 0!==b.blending&&(b.blending=parseInt(Z.getValue())),void 0!==b.side&&(b.side=parseInt(aa.getValue())),void 0!==b.opacity&&(b.opacity=ba.getValue()),void 0!==b.transparent&&(b.transparent=ca.getValue()),void 0!==b.wireframe&&(b.wireframe=da.getValue()),void 0!==b.wireframeLinewidth&&(b.wireframeLinewidth=ea.getValue()),ga(),ha.materialChanged.dispatch(b));d&&console.warn("Can't set texture, model doesn't have texture coordinates")}function ga(){var a=
{name:t,color:u,ambient:v,emissive:w,specular:x,shininess:y,vertexColors:z,map:h,lightMap:k,bumpMap:f,normalMap:l,specularMap:m,envMap:g,blending:A,side:B,opacity:C,transparent:D,wireframe:n},c=E.selected,b;for(b in a)a[b].setDisplay(void 0!==c.material[b]?"":"none")}function ia(a){for(var c in q)if(a instanceof q[c])return c}var ha=E.signals,q={LineBasicMaterial:T.LineBasicMaterial,LineDashedMaterial:T.LineDashedMaterial,MeshBasicMaterial:T.MeshBasicMaterial,MeshDepthMaterial:T.MeshDepthMaterial,
MeshFaceMaterial:T.MeshFaceMaterial,MeshLambertMaterial:T.MeshLambertMaterial,MeshNormalMaterial:T.MeshNormalMaterial,MeshPhongMaterial:T.MeshPhongMaterial,ParticleBasicMaterial:T.ParticleBasicMaterial,ParticleCanvasMaterial:T.ParticleCanvasMaterial,ShaderMaterial:T.ShaderMaterial,Material:T.Material},d=new UI.CollapsiblePanel;d.setBorderTop("1px solid #ccc");d.setPadding("10px");d.setDisplay("none");d.add((new UI.Text).setValue("MATERIAL").setColor("#666"));d.add(new UI.Break);var e=new UI.Panel,
p=(new UI.Input).setWidth("115px").setColor("#444").setFontSize("12px").setDisabled(!0),fa=(new UI.Button("\u27f3")).setMarginLeft("7px").onClick(function(){p.setValue(T.Math.generateUUID());c()});e.add((new UI.Text("UUID")).setWidth("90px").setColor("#666"));e.add(p);e.add(fa);d.add(e);var t=new UI.Panel,F=(new UI.Input).setWidth("150px").setColor("#444").setFontSize("12px").onChange(c);t.add((new UI.Text("Name")).setWidth("90px").setColor("#666"));t.add(F);d.add(t);var e=new UI.Panel,r=(new UI.Select).setOptions({LineBasicMaterial:"LineBasicMaterial",
LineDashedMaterial:"LineDashedMaterial",MeshBasicMaterial:"MeshBasicMaterial",MeshDepthMaterial:"MeshDepthMaterial",MeshFaceMaterial:"MeshFaceMaterial",MeshLambertMaterial:"MeshLambertMaterial",MeshNormalMaterial:"MeshNormalMaterial",MeshPhongMaterial:"MeshPhongMaterial"}).setWidth("150px").setColor("#444").setFontSize("12px").onChange(c);e.add((new UI.Text("Class")).setWidth("90px").setColor("#666"));e.add(r);d.add(e);var u=new UI.Panel,G=(new UI.Color).onChange(c);u.add((new UI.Text("Color")).setWidth("90px").setColor("#666"));
u.add(G);d.add(u);var v=new UI.Panel,H=(new UI.Color).onChange(c);v.add((new UI.Text("Ambient")).setWidth("90px").setColor("#666"));v.add(H);d.add(v);var w=new UI.Panel,I=(new UI.Color).onChange(c);w.add((new UI.Text("Emissive")).setWidth("90px").setColor("#666"));w.add(I);d.add(w);var x=new UI.Panel,J=(new UI.Color).onChange(c);x.add((new UI.Text("Specular")).setWidth("90px").setColor("#666"));x.add(J);d.add(x);var y=new UI.Panel,K=(new UI.Number(30)).onChange(c);y.add((new UI.Text("Shininess")).setWidth("90px").setColor("#666"));
y.add(K);d.add(y);var z=new UI.Panel,L=(new UI.Select).setOptions({0:"No",1:"Face",2:"Vertex"}).onChange(c);z.add((new UI.Text("Vertex Colors")).setWidth("90px").setColor("#666"));z.add(L);d.add(z);var h=new UI.Panel,M=(new UI.Checkbox(!1)).onChange(c),N=(new UI.Texture).setColor("#444").onChange(c);h.add((new UI.Text("Map")).setWidth("90px").setColor("#666"));h.add(M);h.add(N);d.add(h);var k=new UI.Panel,e=(new UI.Checkbox(!1)).onChange(c),fa=(new UI.Texture).setColor("#444").onChange(c);k.add((new UI.Text("Light Map")).setWidth("90px").setColor("#666"));
k.add(e);k.add(fa);d.add(k);var f=new UI.Panel,O=(new UI.Checkbox(!1)).onChange(c),P=(new UI.Texture).setColor("#444").onChange(c),Q=(new UI.Number(1)).setWidth("30px").onChange(c);f.add((new UI.Text("Bump Map")).setWidth("90px").setColor("#666"));f.add(O);f.add(P);f.add(Q);d.add(f);var l=new UI.Panel,R=(new UI.Checkbox(!1)).onChange(c),S=(new UI.Texture).setColor("#444").onChange(c);l.add((new UI.Text("Normal Map")).setWidth("90px").setColor("#666"));l.add(R);l.add(S);d.add(l);var m=new UI.Panel,
U=(new UI.Checkbox(!1)).onChange(c),V=(new UI.Texture).setColor("#444").onChange(c);m.add((new UI.Text("Specular Map")).setWidth("90px").setColor("#666"));m.add(U);m.add(V);d.add(m);var g=new UI.Panel,W=(new UI.Checkbox(!1)).onChange(c),X=(new UI.CubeTexture).setColor("#444").onChange(c),Y=(new UI.Number(1)).setWidth("30px").onChange(c);g.add((new UI.Text("Env Map")).setWidth("90px").setColor("#666"));g.add(W);g.add(X);g.add(Y);d.add(g);var A=new UI.Panel,Z=(new UI.Select).setOptions({0:"No",1:"Normal",
2:"Additive",3:"Subtractive",4:"Multiply",5:"Custom"}).setWidth("150px").setColor("#444").setFontSize("12px").onChange(c);A.add((new UI.Text("Blending")).setWidth("90px").setColor("#666"));A.add(Z);d.add(A);var B=new UI.Panel,aa=(new UI.Select).setOptions({0:"Front",1:"Back",2:"Double"}).setWidth("150px").setColor("#444").setFontSize("12px").onChange(c);B.add((new UI.Text("Side")).setWidth("90px").setColor("#666"));B.add(aa);d.add(B);var C=new UI.Panel,ba=(new UI.Number).setWidth("60px").setRange(0,
1).onChange(c);C.add((new UI.Text("Opacity")).setWidth("90px").setColor("#666"));C.add(ba);d.add(C);var D=new UI.Panel,ca=(new UI.Checkbox).setLeft("100px").onChange(c);D.add((new UI.Text("Transparent")).setWidth("90px").setColor("#666"));D.add(ca);d.add(D);var n=new UI.Panel,da=(new UI.Checkbox(!1)).onChange(c),ea=(new UI.Number(1)).setWidth("60px").setRange(0,100).onChange(c);n.add((new UI.Text("Wireframe")).setWidth("90px").setColor("#666"));n.add(da);n.add(ea);d.add(n);ha.objectSelected.add(function(a){a&&
a.material?(d.setDisplay(""),a=a.material,void 0!==a.uuid&&p.setValue(a.uuid),void 0!==a.name&&F.setValue(a.name),r.setValue(ia(a)),void 0!==a.color&&G.setValue("#"+a.color.getHexString()),void 0!==a.ambient&&H.setValue("#"+a.ambient.getHexString()),void 0!==a.emissive&&I.setValue("#"+a.emissive.getHexString()),void 0!==a.specular&&J.setValue("#"+a.specular.getHexString()),void 0!==a.shininess&&K.setValue(a.shininess),void 0!==a.vertexColors&&L.setValue(a.vertexColors),void 0!==a.map&&(M.setValue(null!==
a.map),N.setValue(a.map)),void 0!==a.bumpMap&&(O.setValue(null!==a.bumpMap),P.setValue(a.bumpMap),Q.setValue(a.bumpScale)),void 0!==a.normalMap&&(R.setValue(null!==a.normalMap),S.setValue(a.normalMap)),void 0!==a.specularMap&&(U.setValue(null!==a.specularMap),V.setValue(a.specularMap)),void 0!==a.envMap&&(W.setValue(null!==a.envMap),X.setValue(a.envMap),Y.setValue(a.reflectivity)),void 0!==a.blending&&Z.setValue(a.blending),void 0!==a.side&&aa.setValue(a.side),void 0!==a.opacity&&ba.setValue(a.opacity),
void 0!==a.transparent&&ca.setValue(a.transparent),void 0!==a.wireframe&&da.setValue(a.wireframe),void 0!==a.wireframeLinewidth&&ea.setValue(a.wireframeLinewidth),ga()):d.setDisplay("none")});return d};
