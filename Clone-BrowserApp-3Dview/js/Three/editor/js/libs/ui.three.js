UI.Texture=function(){UI.Element.call(this);var c=this,b=document.createElement("span"),e=document.createElement("input");e.type="file";e.addEventListener("change",function(a){d(a.target.files[0])});var a=document.createElement("canvas");a.width=32;a.height=16;a.style.cursor="pointer";a.style.marginRight="5px";a.style.border="1px solid #888";a.addEventListener("click",function(a){e.click()},!1);a.addEventListener("drop",function(a){a.preventDefault();a.stopPropagation();d(a.dataTransfer.files[0])},
!1);b.appendChild(a);a=document.createElement("input");a.disabled=!0;a.style.width="64px";a.style.border="1px solid #ccc";b.appendChild(a);var d=function(a){if(a.type.match("image.*")){var b=new FileReader;b.addEventListener("load",function(b){var d=document.createElement("img");d.addEventListener("load",function(b){b=new T.Texture(this);b.sourceFile=a.name;b.needsUpdate=!0;c.setValue(b);if(c.onChangeCallback)c.onChangeCallback()},!1);d.src=b.target.result},!1);b.readAsDataURL(a)}};this.dom=b;this.onChangeCallback=
this.texture=null;return this};UI.Texture.prototype=Object.create(UI.Element.prototype);UI.Texture.prototype.getValue=function(){return this.texture};
UI.Texture.prototype.setValue=function(c){var b=this.dom.children[0],e=this.dom.children[1],a=b.getContext("2d");if(null!==c){var d=c.image;0<d.width?(e.value=c.sourceFile,b=b.width/d.width,a.drawImage(d,0,0,d.width*b,d.height*b)):(e.value=c.sourceFile+" (error)",a.clearRect(0,0,b.width,b.height))}else e.value="",a.clearRect(0,0,b.width,b.height);this.texture=c};UI.Texture.prototype.onChange=function(c){this.onChangeCallback=c;return this};
UI.CubeTexture=function(){UI.Element.call(this);var c=this,b=document.createElement("span"),e=document.createElement("input");e.type="file";e.addEventListener("change",function(a){d(a.target.files[0])},!1);var a=document.createElement("canvas");a.width=32;a.height=16;a.style.cursor="pointer";a.style.marginRight="5px";a.style.border="1px solid #888";a.addEventListener("click",function(a){e.click()},!1);a.addEventListener("drop",function(a){a.preventDefault();a.stopPropagation();d(a.dataTransfer.files[0])},
!1);b.appendChild(a);a=document.createElement("input");a.disabled=!0;a.style.width="64px";a.style.border="1px solid #ccc";b.appendChild(a);var d=function(a){if(a.type.match("image.*")){var b=new FileReader;b.addEventListener("load",function(b){var d=document.createElement("img");d.addEventListener("load",function(b){b=new T.Texture([this,this,this,this,this,this],new T.CubeReflectionMapping);b.sourceFile=a.name;b.needsUpdate=!0;c.setValue(b);if(c.onChangeCallback)c.onChangeCallback()},!1);d.src=b.target.result},
!1);b.readAsDataURL(a)}};this.dom=b;this.onChangeCallback=this.texture=null;return this};UI.CubeTexture.prototype=Object.create(UI.Element.prototype);UI.CubeTexture.prototype.getValue=function(){return this.texture};
UI.CubeTexture.prototype.setValue=function(c){var b=this.dom.children[0],e=this.dom.children[1],a=b.getContext("2d");if(null!==c){var d=c.image[0];0<d.width?(e.value=c.sourceFile,b=b.width/d.width,a.drawImage(d,0,0,d.width*b,d.height*b)):(e.value=c.sourceFile+" (error)",a.clearRect(0,0,b.width,b.height))}else e.value="",a.clearRect(0,0,b.width,b.height);this.texture=c};UI.CubeTexture.prototype.onChange=function(c){this.onChangeCallback=c;return this};
