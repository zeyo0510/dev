T.VTKLoader=function(){};
T.VTKLoader.prototype={constructor:T.VTKLoader,load:function(e,d){var f=this,c=new XMLHttpRequest;c.addEventListener("load",function(a){200===a.target.status||0===a.target.status?(a=f.parse(a.target.responseText),f.dispatchEvent({type:"load",content:a}),d&&d(a)):f.dispatchEvent({type:"error",message:"Couldn't load URL ["+e+"]",responseStatus:a.target.status})},!1);c.addEventListener("progress",function(a){f.dispatchEvent({type:"progress",loaded:a.loaded,total:a.total})},!1);c.addEventListener("error",
function(){f.dispatchEvent({type:"error",message:"Couldn't load URL ["+e+"]"})},!1);c.open("GET",e,!0);T.FileOperations.setXHRHeader&&T.FileOperations.setXHRHeader(c,e);c.send(null);return c},parse:function(e){var d=new T.Geometry,f=function(a,b,c){d.vertices.push(new T.V3(a,b,c))},c=function(a,b,c){d.faces.push(new T.F3(a,b,c))},a,b;for(a=/([\+|\-]?[\d]+[\.][\d|\-|e]+)[ ]+([\+|\-]?[\d]+[\.][\d|\-|e]+)[ ]+([\+|\-]?[\d]+[\.][\d|\-|e]+)/g;null!==(b=a.exec(e));)f(parseFloat(b[1]),parseFloat(b[2]),parseFloat(b[3]));
for(a=/3[ ]+([\d]+)[ ]+([\d]+)[ ]+([\d]+)/g;null!==(b=a.exec(e));)c(parseInt(b[1]),parseInt(b[2]),parseInt(b[3]));for(a=/4[ ]+([\d]+)[ ]+([\d]+)[ ]+([\d]+)[ ]+([\d]+)/g;null!==(b=a.exec(e));)c(parseInt(b[1]),parseInt(b[2]),parseInt(b[4])),c(parseInt(b[2]),parseInt(b[3]),parseInt(b[4]));d.computeCentroids();d.computeFaceNormals();d.computeVertexNormals();d.computeBoundingSphere();return d}};T.EventDispatcher.prototype.apply(T.VTKLoader.prototype);
