(function(){function f(b){function c(e,c){var d;a.data?e():(d=new XMLHttpRequest,d.addEventListener("load",function(){a.size||(a.size=Number(d.getResponseHeader("Content-Length")));a.data=new Uint8Array(d.response);e()},!1),d.addEventListener("error",c,!1),d.open("GET",b),d.responseType="arraybuffer",d.send())}var a=this;a.size=0;a.init=function(e,c){var d=new XMLHttpRequest;d.addEventListener("load",function(){a.size=Number(d.getResponseHeader("Content-Length"));e()},!1);d.addEventListener("error",
c,!1);d.open("HEAD",b);d.send()};a.readUint8Array=function(e,b,d,f){c(function(){d(new Uint8Array(a.data.subarray(e,e+b)))},f)}}function h(b){function c(e,a,d,c){var g=new XMLHttpRequest;g.open("GET",b);g.responseType="arraybuffer";g.setRequestHeader("Range","bytes="+e+"-"+(e+a-1));g.addEventListener("load",function(){d(g.response)},!1);g.addEventListener("error",c,!1);g.send()}var a=this;a.size=0;a.init=function(e,c){var d=new XMLHttpRequest;d.addEventListener("load",function(){a.size=Number(d.getResponseHeader("Content-Length"));
"bytes"==d.getResponseHeader("Accept-Ranges")?e():c("HTTP Range not supported.")},!1);d.addEventListener("error",c,!1);d.open("HEAD",b);d.send()};a.readUint8Array=function(a,b,d,f){c(a,b,function(a){d(new Uint8Array(a))},f)}}function k(b){var c=this;c.size=0;c.init=function(a,e){c.size=b.byteLength;a()};c.readUint8Array=function(a,c,f,d){f(new Uint8Array(b.slice(a,a+c)))}}function l(){var b;this.init=function(c,a){b=new Uint8Array;c()};this.writeUint8Array=function(c,a,e){e=new Uint8Array(b.length+
c.length);e.set(b);e.set(c,b.length);b=e;a()};this.getData=function(c){c(b.buffer)}}function m(b,c){var a;this.init=function(c,f){b.createWriter(function(b){a=b;c()},f)};this.writeUint8Array=function(b,f,d){b=new Blob([q?b:b.buffer],{type:c});a.onwrite=function(){a.onwrite=null;f()};a.onerror=d;a.write(b)};this.getData=function(a){b.file(a)}}var p=zip.Reader,r=zip.Writer,n,q;try{q=0===(new Blob([new DataView(new ArrayBuffer(0))])).size}catch(b){}f.prototype=new p;f.prototype.constructor=f;h.prototype=
new p;h.prototype.constructor=h;k.prototype=new p;k.prototype.constructor=k;l.prototype=new r;l.prototype.constructor=l;m.prototype=new r;m.prototype.constructor=m;zip.FileWriter=m;zip.HttpReader=f;zip.HttpRangeReader=h;zip.ArrayBufferReader=k;zip.ArrayBufferWriter=l;zip.fs&&(n=zip.fs.ZipDirectoryEntry,n.prototype.addHttpContent=function(b,c,a){c={data:c,Reader:a?h:f};if(this.directory)b=new zip.fs.ZipFileEntry(this.fs,b,c,this);else throw"Parent entry is not a directory.";return b},n.prototype.importHttpContent=
function(b,c,a,e){this.importZip(c?new h(b):new f(b),a,e)},zip.fs.FS.prototype.importHttpContent=function(b,c,a,e){this.entries=[];this.root=new n(this);this.root.importHttpContent(b,c,a,e)})})();
