<div class="edit-form__title">
    {{ isNewModel ? 'Add Rule' : 'Edit Rule' }}
</div>
<form name="ruleForm"
      class="edit-form__content">

    <div class="edit-form__content__wrapper">
        <md-tabs class="edit-pf-tabs"
                 md-stretch-tabs="always"
                 md-dynamic-height="false"
                 md-no-pagination="true"
                 md-center-tabs="true">
            <md-tab ng-repeat="type in types"
                    label={{type}}
                    md-on-select="selectType(type)"
                    md-active="type == activeType">
                <div class="edit-pf-tabs__tab">
                    <div class="edit-form__item">
                        <md-input-container ng-click="openSelectHost()">
                            <label>Host from</label>
                            <input class="edit-form__item__input"
                                   ng-model="rule.host.uri"
                                   readonly
                                   required>
                        </md-input-container>
                        <div class="edit-form__item__btn"
                             ng-click="openSelectHost()">
                            <span>Hosts</span>
                            <i class="edit-form__item__btn__icon arrow-right-blue"></i>
                        </div>
                    </div>
                    <md-input-container>
                        <label>Port from</label>
                        <input ng-model="rule.local_port"
                               required
                               ng-pattern="/^([0-9]{1,4}|[1-5][0-9]{4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-5])$/">
                    </md-input-container>
                    <md-input-container>
                        <label>Host to</label>
                        <input ng-model="rule.hostname"
                               required>
                    </md-input-container>
                    <md-input-container>
                        <label>Port to</label>
                        <input ng-model="rule.remote_port"
                               required
                               ng-pattern="/^([0-9]{1,4}|[1-5][0-9]{4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-5])$/">
                    </md-input-container>
                </div>
            </md-tab>
        </md-tabs>
    </div>

    <div class="edit-form__actions">
        <button class="control-button control-button--cancel"
                ng-click="closeDialog()"
                md-ink-ripple
                type="button">
            Cancel
        </button>
        <button class="control-button"
                ng-click="saveModel()"
                ng-disabled="ruleForm.$invalid"
                md-ink-ripple
                type="submit">
            Save
        </button>
    </div>
</form>

<!--Select Host dialog-->
<select-host-dialog ng-model="rule"
                    close-callback="closeSelectHost"

                    ng-class="{ visible: selectHostOpen }">
</select-host-dialog>
<!--End Select Host dialog-->
