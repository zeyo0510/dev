var GravitDesigner=function(t){function r(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}var i={};return r.m=t,r.c=i,r.i=function(t){return t},r.d=function(t,i,e){r.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:e})},r.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(i,"a",i),i},r.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},r.p="",r(r.s=1293)}({1293:function(t,r){PSParser=function(t,r){this.inputArray=t,this.pointer=0,this.classes=null,this.comments={},this.DSCs={},this.EOF=!1,this.percentage=0,this.nestedParse=0,this.MAXWAITTIME=r||PSParser.MAXWAITTIME},PSParser.MAXWAITTIME=18e4,PSParser.prototype.notWhiteSpaceCharacterLambdas=[function(){if("%"==this._charAt()&&"%"==this._charAt(1)){var t=this.pointer,r=this.parseDSC();return this.DSCs[t]=r,"object"==typeof r&&-1!=Object.keys(r).indexOf("EOF")&&(this.EOF=!0),!0}return!1},function(){if("%"==this._charAt()){var t=this.pointer;if(this._findEOL(),this.pointer-t>10240)return!0;var r=String.fromCharCode.apply(null,this._inputSlice(t,this.pointer));return this.comments[t]=r,!0}return!1},function(){var t=!1;if(-1!=["0","1","2","3","4","5","6","7","8","9","-","+","."].indexOf(this._charAt())){var r,i=this.pointer,e=this._charAt(),s=!1,n=!1;if(-1==["0","1","2","3","4","5","6","7","8","9",".","#","e","E","-","+"].indexOf(this._charAt(1)))t=parseInt(e);else{var h="-"==e?-1:1;-1!=h&&"+"!=e||(this.pointer++,e=this._charAt()),"."==e&&(e="0.");do{if(e.length>128){gDevelopment&&console.log("wrong number at "+this.pointer+"`"+e+"`");break}if(t=s,s=Number(e),e+=this._charAt(1),this.pointer++,"#"==this._charAt()){for(n=s,this.pointer++,t=0;!1!==(r=function(t,r){var i=r.toLowerCase().charCodeAt(0);if(i>="0".charCodeAt(0)&&i<="9".charCodeAt(0))i-="0".charCodeAt(0);else{if(!(i>="a".charCodeAt(0)&&i<="z".charCodeAt(0)))return!1;i=i-"a".charCodeAt(0)+10}return i<t&&i}(n,this._charAt()));)t=t*n+r,this.pointer++;this.pointer++;break}if(this.isEOF()||"e"!=this._charAt().toLowerCase()){if(-1==["0","1","2","3","4","5","6","7","8","9","-","+","."].indexOf(this._charAt())){t=s,this.pointer++;break}}else"-"!=this._charAt(1)&&"+"!=this._charAt(1)||(e+=this._charAt(1),this.pointer++),e+=this._charAt(1),this.pointer++}while(!isNaN(s));this.pointer-=2,t*=h}!1===t&&(gDevelopment&&console.log("false result of parse number at "+this.pointer+": "+e),this.pointer=i)}return t},function(){var t=!1;return"["==this._charAt()&&(t=this.classes.newObject("mark","[")),"<"==this._charAt()&&"<"==this._charAt(1)&&(this.pointer++,t=this.classes.newObject("mark","<<")),t},function(){return"]"==this._charAt()&&this.classes.newObject("mark","]")},function(){var t=!1;return">"==this._charAt()&&">"==this._charAt(1)&&(t=this.classes.newObject("mark",">>"),this.pointer++,t)},function(){this.pointer;if("/"==this._charAt()&&"/"==this._charAt(1)){this.pointer+=2;var t=this._readUntil(function(){return-1=="[]{}()\n\r \t\0<>\f%/".indexOf(this._charAt())});if(t)return t=this.classes.newObject("name",t),t.IEN=!0,this.pointer--,t}return!1},function(){var t=this.pointer;if("/"==this._charAt()){this.pointer++;var r=this._readUntil(function(){return-1=="[]{}()\n\r \t\0<>\f%/".indexOf(this._charAt())});if(r)return r=this.classes.newObject("name",r),this.pointer--,r}return this.pointer=t,!1},function(){var t=(this.pointer,"");if("("==this._charAt()){var r=1;for(this.pointer++;r>0&&!this.isEOF();){if("\\"!=this._charAt())t+=this._charAt(),"("==this._charAt()&&r++,")"==this._charAt()&&r--;else switch(this._charAt(1)){case"n":t+="\n",this.pointer++;break;case"r":t+="\r",this.pointer++;break;case"t":t+="\t",this.pointer++;break;case"b":t+="\b",this.pointer++;break;case"f":t+="\f",this.pointer++;break;case"\\":t+="\\",this.pointer++;break;case"(":t+="(",this.pointer++;break;case")":t+=")",this.pointer++;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":t+=String.fromCharCode(parseInt(this._charAt(1)+this._charAt(2)+this._charAt(3),8)),this.pointer+=3;break;case"\n":case"\r":for(this.pointer++;-1!="\r\n".indexOf(this._charAt())&&!this.isEOF();)this.pointer++;this.pointer--}this.pointer++}if(""!=t)return t=t.substring(0,t.length-1),this.pointer--,this.classes.newObject("string",t)}return!1},function(){var t=(this.pointer,""),r="";if("<"==this._charAt()&&-1!="0123456789abcdefABCDEF \f\r\n\t\0".indexOf(this._charAt(1))){for(this.pointer++;">"!=this._charAt()&&!this.isEOF();){if(-1!=" \f\r\n\t\0".indexOf(this._charAt()));else{if(-1=="0123456789abcdefABCDEF".indexOf(this._charAt()))return gDevelopment&&console.log("wrong hex string: "+this.pointer),!1;r+=this._charAt(),2==r.length&&(t+=String.fromCharCode(parseInt(r,16)),r="")}this.pointer++}if((""!=t||""!=r)&&(1==r.length&&(r+="0",t+=String.fromCharCode(parseInt(r,16))),""!=t))return this.classes.newObject("string",t)}return!1},function(){var t=(this.pointer,""),r="";if("<"==this._charAt()&&"~"==this._charAt(1)){for(this.pointer+=2;"~"!=this._charAt()&&!this.isEOF();){if("z"==this._charAt()&&""==r)t+="\0\0\0\0";else if(this._charAt().charCodeAt(0)>=33&&this._charAt().charCodeAt(0)<=118&&(r+=this._charAt(),5==r.length)){var i=this.decodeTuple(r);if(!1===i)return!1;t+=i,r=""}this.pointer++}if(">"==this._charAt(1)){if(this.pointer++,1==r.length)return gDevelopment&&console.log("wrong ascii85 last tuple length 1: "+this.pointer),!1;if(""!=r){var i=this.decodeTuple(r);if(!1===i)return!1;t+=i}if(""!=t)return this.classes.newObject("string",t)}}return!1},function(){var t;this.pointer;if("{"==this._charAt())return this.core.nestedProcCount++,this.core.execute=!1,t=this.classes.newObject("mark","{");if("}"==this._charAt()){if(this.core.nestedProcCount>0)return this.core.nestedProcCount--,this.core.execute=0==this.core.nestedProcCount,t=this.classes.newObject("mark","}"),t.pointer=this.pointer,t;gDevelopment&&console.log("Unmatched }: "+this.pointer)}return!1},function(){var t=this.pointer,r=this._readUntil(function(){return-1=="[]{}()\n\r \t\0<>\f%/".indexOf(this._charAt())});return r?(this.pointer--,this.classes.newObject("operator",r)):(this.pointer=t,!1)}],PSParser.prototype.isEOF=function(){return"%"==this._charAt(0)&&"%"==this._charAt(1)&&"E"==this._charAt(2)&&"O"==this._charAt(3)&&"F"==this._charAt(4)&&(this.EOF=!0),!!this.EOF||(this.EOF=!(this.inputArray.length>this.pointer))},PSParser.prototype._findEOL=function(){for(;-1==["\n","\r"].indexOf(this._charAt())&&!this.isEOF();)this.pointer++},PSParser.prototype._findFileStart=function(){for(;("%"!=this._charAt(0)||"!"!=this._charAt(1))&&!this.isEOF();)this.pointer++},PSParser.prototype._uint8At=function(t){var r=this.pointer;return null!==t&&void 0!==t&&(r+=t),r<this.inputArray.length?this.inputArray[r]:null},PSParser.prototype._charAt=function(t){return String.fromCharCode(this._uint8At(t))},PSParser.prototype._parseCurrentNotWhitespaceSequence=function(){for(var t=!1,r=0;r<this.notWhiteSpaceCharacterLambdas.length;r++)if(!1!==(t=this.notWhiteSpaceCharacterLambdas[r].call(this)))return t;return t},PSParser.prototype._isWhiteSpaceCharacter=function(){return-1!=[0,9,10,12,13,32].indexOf(this._uint8At())},PSParser.prototype._findNextNotWhitespaceCharacter=function(){for(;this._isWhiteSpaceCharacter();)if(this.pointer++,this.isEOF())return},PSParser.prototype._inputSlice=function(t,r){return!Uint8Array.prototype.slice&&"subarray"in Uint8Array.prototype?this.inputArray.subarray(t,r):this.inputArray.slice(t,r)},PSParser.prototype._readUntil=function(t,r){var i="";if(2==arguments.length&&!1===arguments[1])for(;!this.isEOF()&&!t.call(this);)i+=this._charAt(),this.pointer++;if(1==arguments.length)for(;!this.isEOF()&&t.call(this);)i+=this._charAt(),this.pointer++;return i},PSParser.prototype._readLoop=function(){for(var t=!1;!this.isEOF();){this._findNextNotWhitespaceCharacter();var r=this.pointer,i=this._parseCurrentNotWhitespaceSequence();if(this.classes.isPSObject(i)&&(i.pointer=r),this.pointer++,this.classes.isPSObject(i,"operator")&&("RD"==i.value||"-|"==i.value)&&this._isWhiteSpaceCharacter()&&this.core.execstack.length)for(var e=0;e<this.core.execstack.length;++e){var s=this.core.execstack[e];this.classes.isPSObject(s,"operator")&&"eexec"==s.value&&this.pointer++}if(this.core.tokenAction(i),Math.round(100*this.pointer/this.inputArray.length)==this.percentage||this.nestedParse||(this.percentage=Math.round(100*this.pointer/this.inputArray.length),this.core.toGravit("progress",[this.percentage],!1)),Math.random()<1e-4){t=!0;break}}if(t&&!this.isEOF()&&!this.nestedParse){var n=this;setTimeout(function(){parser._readLoop.call(n)},0)}new Date>this.endTime&&(console.log("MAX WAIT TIME EXCEEDED"),this.core.toGravit("done"),this.core.toGravit("error",[3]),close()),!this.nestedParse&&this.isEOF()&&(this.core.toGravit("done"),setTimeout(function(){close()},500))},PSParser.prototype.read=function(){this.endTime=new Date+this.MAXWAITTIME,this._findFileStart(),this._readLoop(),gDevelopment&&console.log("PARSER: end ")},PSParser.prototype.parseDSC=function(){for(;("%"!=this._charAt()||"%"!=this._charAt(1))&&this.pointer<this.inputArray.length-2;)this.pointer++;if(this.pointer>=this.inputArray.length-2)return void(this.EOF=!0);for(var t=this.pointer;":"!=this._charAt()&&10!=this._uint8At()&&13!=this._uint8At()&&this.pointer<this.inputArray.length-2;)this.pointer++;if(this.pointer>=this.inputArray.length-2)return void(this.EOF=!0);var r=":"==this._charAt(),i=String.fromCharCode.apply(null,this._inputSlice(t,this.pointer)).substring(2),e={};if(!r)return e[i]=null,e;this.pointer++;for(var s=this.pointer;10!=this._uint8At()&&13!=this._uint8At()&&this.pointer<this.inputArray.length-2;)this.pointer++;if(this.pointer>=this.inputArray.length-2)return void(this.EOF=!0);var n=String.fromCharCode.apply(null,this._inputSlice(s,this.pointer));return e[i]=n,e},PSParser.prototype.decodeTuple=function(t){var r=0,i="",e=t.length;if(t.length<5)for(var s=t.length;s<5;s++)t+="u";for(var s=0;s<5;s++)s<t.length?r=85*r+t.charCodeAt(s)-33:r*=85;if(r>4294967295)return gDevelopment&&console.log("wrong ascii85 tuple: "+this.pointer),!1;for(s=0;s<t.length-1;s++)i+=String.fromCharCode(r>>8*(3-s)&255);return i.substring(0,e-1)},t.exports=PSParser}});