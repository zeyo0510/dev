var GravitDesigner=function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};return e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1287)}({0:function(t,e){function r(){}r.getTypeId=function(t){return"number"==typeof t?t:"function"==typeof t&&t.prototype.hasOwnProperty("__gtype_id__")?t.prototype.__gtype_id__:t&&"number"==typeof t.__gtype_id__?t.__gtype_id__:null},r.getName=function(t){if(t){if("object"==typeof t&&(t=t.constructor),t&&"function"==typeof t){var e=/function (.{1,})\(/,r=e.exec(t.toString());return r&&r.length>1?r[1]:"anonymous"}return t.toString()}return"<null>"},r.inherit=function(t,e){if(t.prototype=Object.create(e.prototype),t.prototype.__gtype_id__=r._internalTypeIdCounter++,t.prototype.constructor=t,delete t.prototype.__gmixins__,e.prototype.__gmixins__){t.prototype.__gmixins__={};for(var n in e.prototype.__gmixins__)t.prototype.__gmixins__[n]=!0}if(e!=r)for(var i in e)i&&i.length>0&&"constructor"!==i&&"__gmixins__"!=i&&"toString"!=i&&"_"!=i.charAt(0)&&!t[i]&&(t[i]=e[i])},r.mix=function(t,e){r.inheritAndMix(t,null,e)},r.inheritAndMix=function(t,e,n){if(e&&this.inherit(t,e),n){t.prototype.__gmixins__||(t.prototype.__gmixins__={});for(var i=0;i<n.length;++i){var o=n[i].prototype;for(var s in o)if(s&&"constructor"!==s&&"toString"!=s&&"__gmixins__"!=s&&"__gtype_id__"!=s&&"hasMixin"!=s){if(s in t.prototype)throw new Error("Mixin "+o+" may not override "+s+" in "+t.prototype);t.prototype[s]=o[s]}if(o.__gtype_id__||(o.__gtype_id__=r._internalTypeIdCounter++),t.prototype.__gmixins__[o.__gtype_id__]=!0,o.__gmixins__)for(var a in o.__gmixins__)t.prototype.__gmixins__[a]=!0;for(var u=Object.getPrototypeOf(o);null!=u&&u!==Object.prototype;u=Object.getPrototypeOf(u))u.__gtype_id__||(u.__gtype_id__=r._internalTypeIdCounter++),t.prototype.__gmixins__[u.__gtype_id__]=!0}}},r._internalTypeIdCounter=0,r.prototype.__gtype_id__=-1,r.prototype.__gmixins__=null,r.prototype.hasMixin=function(t){return!(!this.__gmixins__||!this.__gmixins__[t.prototype.__gtype_id__])},r.prototype.toString=function(){var t=this.constructor.toString().match(/^function ([^\(]*)/);return"[Object "+(t?t[1]:"object")+"]"},t.exports=r},10:function(t,e,r){function n(){}var i=r(4);n.PI2=2*Math.PI,n.PIHALF=.5*Math.PI,n.defaultEps=1e-14,n.toRadians=function(t){return t*Math.PI/180},n.toDegrees=function(t){return 180*t/Math.PI},n.normalizeAngleRadians=function(t){return t>=0?n.mod(t,n.PI2):t+n.PI2*Math.floor(-t/n.PI2+1)},n.normalizeAngleDegrees=function(t){return t>=0?n.mod(t,360):t+360*Math.floor(-t/360+1)},n.normalizeValue=function(t,e,r,n,i){if("number"==typeof n&&"number"==typeof i){return(t-e)*(i-n)/(r-e)+n}return t<e?e:t>r?r:t},n.normalizePoint=function(t){var e=t.dot(t),r=e&&n.Q_rsqrt(e)||1;return t.scale(r)},n.isEqualEps=function(t,e,r){return r||(r=n.defaultEps),Math.abs(t-e)<=r},n.getTurnAngle=function(t,e,r,i){var o=e.subtract(t),s=i.subtract(r),a=Math.atan2(o.getY(),o.getX()),u=Math.atan2(s.getY(),s.getX()),l=a-u;return l<=-Math.PI?l=n.PI2+l:l>Math.PI&&(l=-n.PI2+l),l},n.round=function(t,e,r){r=Math.abs(r)||0;var n=r?Math.pow(10,r):1;return e?Math.ceil(t*n-.5)/n:Math.round(t*n)/n},n.mod=function(t,e){return t<0?-n.mod(-t,e):t-Math.floor(t/e)*e},n.div=function(t,e){return t<0?-Math.floor(-t/e):Math.floor(t/e)},n.nextPowerOf2=function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,++t},n.getIntersectionPoint=function(t,e,r,o,s,a,u,l,c){var h=(t-r)*(l-a)-(e-o)*(u-s),f=(t-s)*(l-a)-(e-a)*(u-s),p=(t-r)*(e-a)-(e-o)*(t-s);if(Math.abs(h)<n.defaultEps)return null;var _=f/h,d=p/h;return!c&&0<=_&&_<=1&&0<=d&&d<=1||c?(c&&(c[0]=_,c[1]=d),new i(t+_*(r-t),e+_*(o-e))):null},n.circleLineIntersection=function(t,e,r,i,o,s,a,u){var l=a*a,c=r*r,h=i*i,f=c+h;if(!n.isEqualEps(f,0)){var p=r*(s-e)-i*(o-t),_=l*f-p*p;n.isEqualEps(_,0)?u[0]=(r*(o-t)+i*(s-e))/f:_>0&&(p=r*(o-t)+i*(s-e),u[0]=(p-Math.sqrt(_))/f,u[1]=(p+Math.sqrt(_))/f)}},n.circleCircleIntersection=function(t,e,r,o,s,a,u){var l=n.ptSqrDist(t,e,o,s),c=Math.abs(r-a),h=c*c,f=r+a,p=f*f;if(!n.isEqualEps(l,0)){var _=(r*r-a*a)/(2*l),d=(t+o)/2+(o-t)*_,v=(e+s)/2+(s-e)*_;if(n.isEqualEps(l,p)||!n.isEqualEps(l,0)&&n.isEqualEps(l,h))u[0]=new i(d,v);else if(h<l&&l<p){_=Math.sqrt((p-l)*(l-h))/(2*l);var m=(s-e)*_,g=(t-o)*_;u[0]=new i(d+m,v+g),u[1]=new i(d-m,v-g)}}},n.getLinesIntersection=function(t,e,r,o,s,a){var u=t*s-o*e;return n.isEqualEps(u,0)?null:new i((e*a-s*r)/u,(r*o-a*t)/u)},n.getLinesFromPointsIntersection=function(t,e,r,i,o,s,a,u){return n.getLinesIntersection(i-e,t-r,e*r-t*i,u-s,o-a,s*a-o*u)},n.getCircumcircleCenter=function(t,e,r,i,o,s){var a=t-r,u=e-i,l=r-o,c=i-s;return n.getLinesIntersection(a,u,-a*(t+r)/2-u*(e+i)/2,l,c,-l*(r+o)/2-c*(i+s)/2)},n.getPointAtSegment=function(t,e,r,n,o){return new i(t+o*(r-t),e+o*(n-e))},n.getPointAtLength=function(t,e,r,o,s,a){var u,l;return s<=0?new i(t,e):(u=Math.sqrt((r-t)*(r-t)+(o-e)*(o-e)),!a&&s>=u?new i(r,o):(l=s/u,n.getPointAtSegment(t,e,r,o,l)))},n.getCurveAtT=function(t,e,r,n){var i=t+n*(r-t);return i+n*(r+n*(e-r)-i)},n.getCubicCurveAtT=function(t,e,r,n,i){var o=t+i*(r-t),s=r+i*(n-r),a=n+i*(e-n),u=o+i*(s-o);return u+i*(s+i*(a-s)-u)},n.vDotProduct=function(t,e,r,n){return null==t||null==e||null==r||null==n?0:t*r+e*n},n.Q_rsqrt_f=new Float32Array(1),n.Q_rsqrt_i=new Int32Array(n.Q_rsqrt_f.buffer),n.Q_rsqrt=function(t){var e=.5*t;return n.Q_rsqrt_f[0]=t,n.Q_rsqrt_i[0]=1597463007-(n.Q_rsqrt_i[0]>>1),t=n.Q_rsqrt_f[0],t*=1.5-e*t*t},n.ptSqrDist=function(t,e,r,n){var i,o;return null==t||null==e||null==r||null==n?0:(i=t-r,o=e-n,i*i+o*o)},n.ptDist=function(t,e,r,i){return Math.sqrt(n.ptSqrDist(t,e,r,i))},n.segmentSide=function(t,e,r,i,o,s){var a=(s-e)*(r-t)+(o-t)*(e-i);return n.isEqualEps(a,0)?0:a>0?1:-1},n.sqrSegmentDist=function(t,e,r,i,o,s,a,u){if(n.isEqualEps(t,r)&&n.isEqualEps(e,i))return n.ptSqrDist(t,e,o,s);var l,c,h,f,p,_,d,v,m=0,g=0;return l=o-t,c=s-e,t==r&&e==i?(g=n.vDotProduct(l,c,l,c),a&&(a[0]=0)):a&&u&&n.vDotProduct(l,c,l,c)<=u?(a[0]=0,g=0):a&&u&&n.ptSqrDist(o,s,r,i)<=u?(a[0]=1,g=0):(h=r-t,f=i-e,m=n.vDotProduct(l,c,h,f)/n.vDotProduct(h,f,h,f),m<=0?(g=n.vDotProduct(l,c,l,c),a&&(a[0]=0)):m>=1?(g=n.vDotProduct(o-r,s-i,o-r,s-i),a&&(a[0]=1)):(p=h*m,_=f*m,d=l-p,v=c-_,g=n.vDotProduct(d,v,d,v),a&&(a[0]=m))),g},n.getSegmToSegmSqrDist=function(t,e,r,i){var o=n.sqrSegmentDist(t.getX(),t.getY(),e.getX(),e.getY(),r.getX(),r.getY()),s=o;return s>0&&(o=n.sqrSegmentDist(t.getX(),t.getY(),e.getX(),e.getY(),i.getX(),i.getY()),o<s&&(s=o),s>0&&(o=n.sqrSegmentDist(r.getX(),r.getY(),i.getX(),i.getY(),t.getX(),t.getY()),o<s&&(s=o),s>0&&(o=n.sqrSegmentDist(r.getX(),r.getY(),i.getX(),i.getY(),e.getX(),e.getY()))<s&&(s=o))),s},n.pointToLineDist=function(t,e,r,i,o,s){var a=n.getVectorProjection(t,e,r,i,o,s);return n.ptDist(a.getX(),a.getY(),o,s)},n.getVectorProjection=function(t,e,r,o,s,a,u,l){var c,h=s-t,f=a-e,p=r-t,_=o-e,d=n.vDotProduct(p,_,p,_);if(n.isEqualEps(d,0))c=new i(s,a);else{var v=n.vDotProduct(h,f,p,_)/d;c=v<=0&&(u||l)?new i(t,e):v>=1&&l?new i(r,o):new i(p*v+t,_*v+e)}return c},n.isCoDirected=function(t,e,r,i,o,s,a,u){if(n.isEqualEps(t,r)&&n.isEqualEps(e,i)||n.isEqualEps(o,a)&&n.isEqualEps(s,u))return!0;var l=a+t-o,c=u+e-s,h=n.getVectorProjection(t,e,r,i,l,c);return(r-t)*(h.getX()-t)>=0&&(i-e)*(h.getY()-e)>=0},n.getSin=function(t,e,r,i,o,s){if(n.isEqualEps(t,r)&&n.isEqualEps(e,i))return 1;var a=n.getVectorProjection(r,i,o,s,t,e,!1);return Math.sqrt(n.ptSqrDist(t,e,a.getX(),a.getY())/n.ptSqrDist(t,e,r,i))},n.solveLinear2Pseudo=function(t,e,r,o,s,a){var u=n.getLinesIntersection(t,e,-r,o,s,-a);if(null==u){var l,c;n.isEqualEps(t+e,0)||n.isEqualEps(r,0)&&!n.isEqualEps(a,0)?n.isEqualEps(o+s,0)||n.isEqualEps(a,0)&&!n.isEqualEps(r,0)?n.isEqualEps(e,0)&&n.isEqualEps(s,0)?n.isEqualEps(t,0)&&n.isEqualEps(o,0)?(l=0,c=0):(c=0,l=n.isEqualEps(t,0)?a/o:r/t):(l=0,c=n.isEqualEps(e,0)?a/s:r/e):(l=a/(o+s),c=l):(l=r/(t+e),c=l),n.isEqualEps(t*l+e*c,r)&&n.isEqualEps(o*l+s*c,a)&&(u=new i(l,c))}return u},n.divideQuadraticCurve=function(t,e,r,n,i,o){var s=t+n*(e-t),a=e+n*(r-e),u=s+n*(a-s);i&&(i[0]=t,i[1]=s,i[2]=u),o&&(o[0]=u,o[1]=a,o[2]=r)},n.evalCubic=function(t,e,r,n,i){return 0==i?n:1==i?t+e+r+n:((i*t+e)*i+r)*i+n},n.getBezierDerivativeEquationCoeffs=function(t,e,r,n,i,o,s,a,u,l){var c,h,f,p,_,d;_=i-t,d=o-e,f=2*(s-i-_),p=2*(a-o-d),c=r-s-_-f,h=n-a-d-p,u[0]=c,u[1]=f,u[2]=_,l[0]=h,l[1]=p,l[2]=d},n.uSortSegment=function(t,e,r,n){var i=0;if(r.sort(function(t,e){return t-e}),r[0]>=t&&r[0]<=e&&(n[0]=r[0],i=1,1==r.length))return i;for(var o=1;o<r.length;o++)r[o]!=r[o-1]&&r[o]>=t&&r[o]<=e&&(n.push(r[o]),++i);return i},n.getCubicCurveSplits=function(t,e,r){var i=t[0],o=t[1],s=t[2],a=e[0],u=e[1],l=e[2],c=[0,1];n.getQuadraticRoots(i,o,s,c),n.getQuadraticRoots(a,u,l,c);var h=o*a-u*i,f=2*(s*a-l*i),p=s*u-l*o;return n.getQuadraticRoots(h,f,p,c),n.uSortSegment(0,1,c,r)},n.getBezierSelfIntersections=function(t,e,r){var i=new Float64Array(4),o=new Float64Array(4);n.shiftPoly(t,3,.5,i),n.shiftPoly(e,3,.5,o);var s=-i[0],a=i[1]/3,u=-i[2]/3,l=-o[0],c=o[1]/3,h=-o[2]/3,f=s*h-u*l,p=s*c-a*l,_=a*h-u*c,d=12*p*_-3*f*f;if(0!=p)if(0==d){var v=f/(2*p);if(-.5<v&&v<.5)return v+.5}else if(d>0){var m=Math.sqrt(d),g=(f-m)/(2*p),y=(f+m)/(2*p);-.5<=g&&g<=.5&&-.5<=y&&y<=.5&&(r[0]=g+.5,r[1]=y+.5)}return null},n.getCtrlPtsCasteljau=function(t,e,r,n,i,o,s,a){var u=t+i*(e-t),l=e+i*(r-e),c=r+i*(n-r),h=u+i*(l-u),f=l+i*(c-l),p=h+i*(f-h);if(null!=o&&1!=o||(s[0]=t,s[1]=u,s[2]=h,s[3]=p),null==o||2==o){if(2==o)var a=s;a[0]=p,a[1]=f,a[2]=c,a[3]=n}},n.getCtrlPts=function(t,e,r,i,o,s,a){var u;return 0==o?void n.getCtrlPtsCasteljau(t,r,i,e,s,1,a):1==s?void n.getCtrlPtsCasteljau(t,r,i,e,o,2,a):(n.getCtrlPtsCasteljau(t,r,i,e,o,2,a),u=(s-o)/(1-o),void n.getCtrlPtsCasteljau(a[0],a[1],a[2],a[3],u,1,a))},n.getCtrlPtsQuadratic=function(t,e,r,i,o,s){var a;return 0==i?void n.divideQuadraticCurve(t,r,e,o,s,null):1==o?void n.divideQuadraticCurve(t,r,e,i,null,s):(n.divideQuadraticCurve(t,r,e,i,null,s),a=(o-i)/(1-i),void n.divideQuadraticCurve(s[0],s[1],s[2],a,s,null))},n.getArcLengthQuadratic=function(t,e,r,i){i=i||n.defaultEps;var o=function(t,e,r,i,s,a,u){var l=n.ptDist(t,e,s,a),c=n.ptDist(t,e,r,i);if((c+=n.ptDist(r,i,s,a))-l>u){var h=new Float64Array(3),f=new Float64Array(3),p=new Float64Array(3),_=new Float64Array(3);return n.divideQuadraticCurve(t,r,s,.5,h,p),n.divideQuadraticCurve(e,i,a,.5,f,_),c=o(h[0],f[0],h[1],f[1],h[2],f[2],u),c+=o(p[0],_[0],p[1],_[1],p[2],_[2],u)}return c};return o(t.getX(),t.getY(),r.getX(),r.getY(),e.getX(),e.getY(),i)},n.getArcLengthCubic=function(t,e,r,i,o){o=o||.01;var s=function(t,e,r,i,o,a,u,l,c){var h=n.ptDist(t,e,u,l),f=n.ptDist(t,e,r,i);if(f+=n.ptDist(r,i,o,a),(f+=n.ptDist(o,a,u,l))-h>c){var p=new Float64Array(4),_=new Float64Array(4),d=new Float64Array(4),v=new Float64Array(4);n.getCtrlPtsCasteljau(t,r,o,u,.5,null,p,d),n.getCtrlPtsCasteljau(e,i,a,l,.5,null,_,v),f=s(p[0],_[0],p[1],_[1],p[2],_[2],p[3],_[3],c),f+=s(d[0],v[0],d[1],v[1],d[2],v[2],d[3],v[3],c)}return f};return s(t.getX(),t.getY(),r.getX(),r.getY(),i.getX(),i.getY(),e.getX(),e.getY(),o)},n.evalPoly=function(t,e,r){var n=0,i=null;if(e<0)return null;if(e>0)if(0!=r)if(i=t[0],1==r)for(n=1;n<=e;++n)i+=t[n];else for(n=1;n<=e;++n)i=i*r+t[n];else i=t[e];else i=t[e];return i},n.getCoeffPolyDeriv=function(t,e,r){var n=0,i=!1;if(e>=1){for(n=0;n<e;++n)r[n]=t[n]*(e-n);i=!0}return i},n.getCubicRoots=function(t,e,r,i,o,s){var a,u,l,c,h,f,p,_,d,v,m,g,y,b,w,C=0,k=new Float64Array(4),x=new Float64Array(4),A=new Float64Array(3),E=new Float64Array(2),j=-s;if(e>=r)return 0;if(t[0]<0)for(w=0;w<4;++w)k[w]=-t[w];else for(w=0;w<4;++w)k[w]=t[w];return f=k[0],p=k[1],_=k[2],d=k[3],0==e&&1==r?n.inversePolyUnaryInterval(k,3,x):n.inversePolyInterval(k,3,e,r,x),0==n.estimPositiveRootsDescartes(x,3)?0:(n.getCoeffPolyDeriv(k,3,A),E[0]=6*f,E[1]=2*p,l=p*p-A[0]*_,h=0,0==l?(h=1,a=-p/A[0],u=a):l>0&&(h=2,c=Math.sqrt(l),a=(-p-c)/A[0],u=(-p+c)/A[0]),v=n.evalCubic(f,p,_,d,e),m=n.evalCubic(f,p,_,d,r),0==h||a>=r||u<=e?j<=v&&v<=s?o&&(i[C]=e,C+=1):j<=m&&m<=s?o&&(i[C]=r,C+=1):v<0&&m>0&&(b=n.locateByNewton(e,r,v,m,k,3,A,E,s),i[C]=null!=b?b:(r+e)/2,C+=1):a<=e&&u>=r?j<=v&&v<=s?o&&(i[C]=e,C+=1):j<=m&&m<=s?o&&(i[C]=r,C+=1):v>0&&m<0&&(b=n.locateByNewton(e,r,v,m,k,3,A,E,s),i[C]=null!=b?b:(r+e)/2,C+=1):a>e&&u>=r?(g=n.evalCubic(f,p,_,d,a),j<=g&&g<=s?(i[C]=a,C+=1):g>0&&(j<=v&&v<=s?o&&(i[C]=e,C+=1):v<0&&(b=n.locateByNewton(e,a,v,g,k,3,A,E,s),i[C]=null!=b?b:(e+a)/2,C+=1),j<=m&&m<=s?o&&(i[C]=r,C+=1):m<0&&(b=n.locateByNewton(a,r,g,m,k,3,A,E,s),i[C]=null!=b?b:(a+r)/2,C+=1))):a<=e&&u<r?(y=n.evalCubic(f,p,_,d,u),j<=y&&y<=s?(i[C]=u,C+=1):y<0&&(j<=v&&v<=s?o&&(i[C]=e,C+=1):v>0&&(b=n.locateByNewton(e,u,v,y,k,3,A,E,s),i[C]=null!=b?b:(e+u)/2,C+=1),j<=m&&m<=s?o&&(i[C]=r,C+=1):m>0&&(b=n.locateByNewton(u,r,y,m,k,3,A,E,s),i[C]=null!=b?b:(u+r)/2,C+=1))):a==u?(g=n.evalCubic(f,p,_,d,a),j<=g&&g<=s?(i[C]=a,C+=1):j<=v&&v<=s?o&&(i[C]=e,C+=1):j<=m&&m<=s?o&&(i[C]=r,C+=1):g<0&&m>0?(b=n.locateByNewton(a,r,g,m,k,3,A,E,s),i[C]=null!=b?b:(a+r)/2,C+=1):v<0&&g>0&&(b=n.locateByNewton(e,a,v,g,k,3,A,E,s),i[C]=null!=b?b:(e+a)/2,C+=1)):(g=n.evalCubic(f,p,_,d,a),y=n.evalCubic(p,p,_,d,u),g<=0||y>=0?(j<=g&&g<=s&&(i[C]=a,C+=1),g<=0&&(j<=m&&m<=s?o&&(i[C]=r,C+=1):y<0&&m>0&&(b=n.locateByNewton(u,r,y,m,k,3,A,E,s),i[C]=null!=b?b:(u+r)/2,C+=1)),j<=y&&y<=s&&(i[C]=u,C+=1),y>=0&&(j<=v&&v<=s?o&&(i[C]=e,C+=1):v<0&&g>0&&(b=n.locateByNewton(e,a,v,g,k,3,A,E,s),i[C]=null!=b?b:(e+a)/2,C+=1))):(b=n.locateByNewton(a,u,g,y,k,3,A,E,s),i[C]=null!=b?b:(a+u)/2,C+=1,j<=v&&v<=s?o&&(i[C]=e,C+=1):v<0&&g>0&&(b=n.locateByNewton(e,a,v,g,k,3,A,E,s),i[C]=null!=b?b:(e+a)/2,C+=1),j<=m&&m<=s?(i[C]=r,C+=1):y<0&&m>0&&(b=n.locateByNewton(u,r,y,m,k,3,A,E,s),i[C]=null!=b?b:(u+r)/2,C+=1))),C)},n._maxIter=100,n.locateByNewton=function(t,e,r,i,o,s,a,u,l,c,h){var f,p,_,d,v,m,g,y,b,w,C,k,x,A=null,E=s-1,j=-l,P=-n.defaultEps,T=0,S=l+1,F=[],B=[],D=[],M=[],R=[];if(j<=r&&r<=l)return t;if(j<=i&&i<=l)return e;if(d=t,v=e,3==s)_=-u[1]/u[0],_<t||_>e?(p=u[0]*t+u[1],p>0&&r>0||p<0&&r<0?(A=t,S=r):(p=u[0]*e+u[1],p>0&&i>0||p<0&&i<0?(A=e,S=i):A=null)):(S=n.evalPoly(o,s,_),j<=S&&S<=l?A=_:S>0&&r>0||S<0&&r<0?(d=_+l,S=n.evalPoly(o,s,d),p=u[0]*d+u[1],p>0&&S>0||p<0&&S<0?A=d:(p=u[0]*e+u[1],p>0&&i>0||p<0&&i<0?(A=e,S=i):A=null)):S>0&&i>0||S<0&&i<0?(v=_-l,S=n.evalPoly(o,s,v),p=u[0]*v+u[1],p>0&&S>0||p<0&&S<0?A=v:(p=u[0]*t+u[1],p>0&&r>0||p<0&&r<0?(A=t,S=r):A=null)):A=null);else{if(5!=s)throw new Error("Unsupported polynomial degree.");if(k=!1,x=!1,r<0&&i>0||r>0&&i<0?x=!0:c&&h&&(k=!0),y=!0,C=!1,n.getCubicRoots(u,t,e,R,C,l),T=0,0==R.length)d=t,D[0]=r,v=e,D[1]=i,k&&(B[0]=h[0],B[1]=h[1]);else for(n.uSortSegment(t,e,R,M),d=t,D[0]=r,k&&(B[0]=h[0]);T<=M.length&&(T>0&&(d=v,D[0]=D[1],k&&(B[0]=B[1])),T<M.length?(v=M[T],D[1]=null,k&&(B[1]=null)):(v=e,D[1]=i,k&&(B[1]=h[1])),!(x&&(null==D[1]&&(D[1]=n.evalPoly(o,s,v)),n.isEqualEps(D[1],0,l)&&(A=v,S=D[1],y=!1),D[0]>0&&D[1]<0||D[0]<0&&D[1]>0)))&&(!k||0==(b=n.countRootsNSturm(o,s,a,d,v,c,B,D)));)++T;if(y&&0==T&&((p=n.evalPoly(u,u.length-1,t))>0&&r>0||p<0&&r<0)&&(A=t,S=r,y=!1),y&&T==M.length&&((p=n.evalPoly(u,u.length-1,e))>0&&i>0||p<0&&i<0)&&(A=e,S=i,y=!1),y){for(m=D[0],g=D[1],k&&(F=B),A=(d+v)/2,p=n.evalPoly(u,u.length-1,A);v-d>l&&y;)A=(d+v)/2,S=n.evalPoly(o,s,A),j<=S&&S<=l?y=!1:p>0&&S>0||p<0&&S<0?y=!1:S>0&&m<0||S<0&&m>0?(v=A,g=S,k&&(F[1]=null)):S>0&&g<0||S<0&&g>0?(d=A,m=S,k&&(F[0]=null)):x||!k?(y=!1,A=null):(D=[m,S],B=[F[0],null],b=n.countRootsNSturm(o,s,a,d,A,c,B,D),b>0?(v=A,g=S,F[0]=B[0],F[1]=B[1]):null!=F[1]&&B[1]==F[1]?y=!1:(d=A,m=S,F[0]=B[0]));y&&(A=(d+v)/2,S=n.evalPoly(o,s,A))}}for(T=1;null!=A&&(S<j||l<S)&&T<n._maxIter;)f=n.evalPoly(a,E,A),P<f&&f<n.defaultEps?((S=n.evalPoly(o,s,A))<j||l<S)&&(A=null):(S=n.evalPoly(o,s,A),f=S/f,w=A,A-=f,(A<=d||A>=v)&&(A=null),f>0?v=w:f<0&&(d=w)),++T;return T==n._maxIter&&(A=null),A},n.getQuadraticRoots=function(t,e,r,n){var i,o;0==t?0!=e&&n.push(-r/e):(i=e*e-4*t*r,0==i?n.push(-e/(2*t)):i>0&&(o=Math.sqrt(i),n.push((-e+o)/(2*t)),n.push((-e-o)/(2*t))))},n._pseudoRem=function(t,e,r){var n,i,o,s,a,u=[],l=[],c=!0,h=e[0];if(e.length>t.length)return r=t,1;for(s=2;s<=t.length-e.length+1;++s)h*=e[0];for(s=0;s<t.length;++s)u[s]=t[s]*h;for(;c;){for(i=u[0]/e[0],o=!1,n=1;n<e.length;++n)(0!=(a=u[n]-i*e[n])||o)&&(l.push(a),0!=a&&(o=!0));for(n=e.length;n<u.length;++n)l.push(u[n]);l.length>=e.length?(u=l,l=[]):c=!1}if(l.length>0)for(s=0;s<l.length;++s)r[s]=l[s];return h},n.getSturmPRS=function(t,e,r,i){var o,s,a,u,l,c,h,f=[],p=[],_=[],d=[],v=[],m=[];for(p[0]=null,i[0]=t,i[1]=r,f[0]=t[0],f[1]=r[0],_[0]=1,p[1]=1,d[0]=1,d[1]=f[1],m[0]=1,m[1]=1,o=1;o<e&&(v=[],h=n._pseudoRem(i[o-1],i[o],v),0!=v.length);++o){for(i[o+1]=[],s=0;s<v.length;++s)i[o+1][s]=v[s]/p[o];for(_[o]=i[o+1].length-i[o].length,f[o+1]=i[o+1][0],u=1,l=1,c=f[o+1],a=2;a<=_[o];++a)u*=d[o],l=-l,c*=f[o+1];p[o+1]=l*u*d[o]*f[o],d[o+1]=c/u,p[o]>0&&h>0||p[o]<0&&h<0?m[o+1]=-m[o-1]:m[o+1]=m[o-1]}for(o=2;o<i.length;++o)if(m[o]<0)for(s=0;s<i[o].length;++s)i[o][s]=-i[o][s]},n.countRootsNSturm=function(t,e,r,i,o,s,a,u){var l,c,h,f=0,p=0;if(null==a[0]){for(null==u[0]&&(u[0]=n.evalPoly(s[0],s[0].length-1,i)),l=u[0],h=1;h<s.length;++h)0!=(c=n.evalPoly(s[h],s[h].length-1,i))&&(l<0&&c>0||l>0&&c<0)&&(++f,l=c);a[0]=f}else f=a[0];if(null==a[1]){for(null==u[1]&&(u[1]=n.evalPoly(s[0],s[0].length-1,o)),l=u[1],h=1;h<s.length;++h)0!=(c=n.evalPoly(s[h],s[h].length-1,o))&&(l<0&&c>0||l>0&&c<0)&&(++p,l=c);a[1]=p}else p=a[1];return f>p?f-p:p-f},n.locRootsSturm=function(t,e,r,i,o,s,a,u,l,c,h){var f,p,_,d,v;if(!(a<=1))if(f=(i+o)/2,p=[u[0],null],_=[l[0],null],d=n.countRootsNSturm(t,e,r,i,f,s,p,_),v=a-d,1==d||h>31?c.push([i,f,_[0],_[1]]):d>1&&(++h,n.locRootsSturm(t,e,r,i,f,s,d,p,_,c,h)),1==v||h>31)c.push([f,o,_[1],l[1]]);else if(v>1){++h;var m=[p[1],u[1]],g=[_[1],l[1]];n.locRootsSturm(t,e,r,f,o,s,v,m,g,c,h)}},n.shiftPoly=function(t,e,r,i){var o,s,a=[];for(a[0]=1,o=1;o<=e;++o)a.push(r*a[o-1]);for(i[0]=t[0],o=1;o<=e;++o)for(i[o]=t[o],s=0;s<o;++s)i[o]+=n.combNK(e-s,o-s)*t[s]*a[o-s]},n._numComb5=[1,5,10,10,5,1],n._numComb4=[1,4,6,4,1],n._numComb3=[1,3,3,1],n._numComb2=[1,2,1],n._numComb1=[1,1],n.combNK=function(t,e){if(!(t<=5&&e<=t))throw new Error("Combinations calculation not implemented");return 5==t?n._numComb5[e]:4==t?n._numComb4[e]:3==t?n._numComb3[e]:2==t?n._numComb2[e]:1==t?n._numComb1[e]:0},n.shiftPolyOne=function(t,e,r){var i,o;for(r[0]=t[0],i=1;i<=e;++i)for(r[i]=t[i],o=0;o<i;++o)r[i]+=n.combNK(e-o,i-o)*t[o]},n.inversePolyInterval=function(t,e,r,i,o){var s,a,u,l=new Float32Array(e+1);for(s=0;s<=e;++s)l[s]=t[s];if(n.shiftPoly(t,e,r,l),0!=(a=i-r))for(u=1,s=1;s<=e;++s)u/=a,l[e-s]*=u;n.inversePolyUnaryInterval(l,e,o)},n.inversePolyUnaryInterval=function(t,e,r){var i,o=new Float32Array(e+1);for(i=0;i<=e;++i)o[i]=t[e-i];n.shiftPolyOne(o,e,r)},n.estimPositiveRootsDescartes=function(t,e){var r,n=[],i=0,o=0;for(r=0;r<=e;++r)0!=t[r]&&(n.push(t[r]),++i);for(r=0;r<i-1;++r)(n[r]>0&&n[r+1]<0||n[r]<0&&n[r+1]>0)&&(o+=1);return o},n.getRotationSegment=function(t,e){var r=Math.atan2(e.getY()-t.getY(),e.getX()-t.getX())+7*Math.PI/8;r<0&&(r+=n.PI2);var i=Math.floor(r/(Math.PI/4));return(i<0||i>7)&&(i=7),i},Number.isNaN||Object.defineProperty(Number,"isNaN",{value:function t(e){return"number"==typeof e&&t(e)},configurable:!0,enumerable:!1,writable:!0}),n.clamp=function(t,e,r){return Math.min(r,Math.max(t,e))},t.exports=n},111:function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},112:function(t,e,r){function n(t){i.call(this,t||[1,1,1,1])}var i=r(50),o=r(5);r(32).inherit("Y",n,i),n.equals=function(t,e){return t instanceof n&&e instanceof n&&o.equals(t._value,e._value)},n.prototype.toHumanString=function(){return"cmyk "+(100*this._value[0]).toFixed()+"%,"+(100*this._value[1]).toFixed()+"%,"+(100*this._value[2]).toFixed()+"%,"+(100*this._value[3]).toFixed()+"%"},n.prototype.toScreen=function(t){return i.cmykToRGB(this._value,t)},n.prototype.clone=function(){return new n(this._value)},n.prototype.toString=function(){return"[Object GCMYKColor]"},t.exports=n},1287:function(t,e,r){function n(){return s.currentCMYKProfile||h||(h=new c(function(t,e){try{var n="assets/data/icc/";if("undefined"==typeof navigator){var i=r(598);n="file://"+i.resolve(i.dirname(r.c[r.s].filename),n)}s.setCMYKProfile("USWebCoatedSWOPv2",n,t)}catch(t){e(t)}})),h||c.resolve()}function i(t){var e=t.index,r=t.uuid,n=t.range,i=t.dataBuffer,s=o[t.colorspace],a=new Uint8ClampedArray((n.end-n.start)*s.length),u=t.hasMask?null:new Uint8ClampedArray(n.end-n.start),c=(new l).raster(i,s,a,u);self.postMessage({uuid:r,index:e,command:"raster",imageBuffer:a.buffer,smaskBuffer:u?u.buffer:null,range:n,hasTransparency:c},[a.buffer].concat(u?[u.buffer]:[]))}var o=r(378),s=r(50),a=r(597),u=r(786),l=r(785),c=r(591),h=null;onmessage=function(t){var e,r,s=t.data,l=s.uuid;if(!l)throw new Error('Missing "uuid" parameter');if("raster"===s.command){if(!s.colorspace)throw new Error('Missing PDF "colorspace" parameter');if(!(e=o[s.colorspace]))throw new Error('Unsupported PDF "colorspace" #'+s.colorspace);if(!s.dataBuffer)throw new Error('Missing image "dataBuffer" parameter');if(0===s.dataBuffer.byteLength)throw new Error('Empty image "dataBuffer"');var c=s.range;if(!c)throw new Error('Missing "range" parameter');if((c.end||0)-(c.start||0)<=0)throw new Error('Invalid "range" #'+c);e===o.CMYK?n().then(function(){i(s)}).catch(function(t){throw t}):i(s)}else if("jpegencoder"===s.command){if(!s.colorspace)throw new Error('Missing JPEG "colorspace" parameter');if(!(e=a.ColorSpace[s.colorspace]))throw new Error('Unsupported JPEG "colorspace" #'+s.colorspace);if(!(r=s.buffer))throw new Error('Missing rgba "buffer" parameter');if(0===r.byteLength)throw new Error('Empty rgba "buffer"');if(!s.width||!s.height)throw new Error("Invalid image size #"+s.width+"x"+s.height);var h=(new a).encode(new Uint32Array(r),s.width,s.height,s.quality,e);self.postMessage({uuid:l,command:"jpegencoder",buffer:h.buffer},[h.buffer])}else if("zipencoder"===s.command){if(!(r=s.buffer))throw new Error('Missing ZIP "buffer" parameter');if(0===r.byteLength)throw new Error('Empty ZIP "buffer"');var f=(new u).encode(r);self.postMessage({uuid:l,command:"zipencoder",buffer:f.buffer},[f.buffer])}}},133:function(t,e,r){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var i in r)n(r,i)&&(t[i]=r[i])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,r,n,i){if(e.subarray&&t.subarray)return void t.set(e.subarray(r,r+n),i);for(var o=0;o<n;o++)t[i+o]=e[r+o]},flattenChunks:function(t){var e,r,n,i,o,s;for(n=0,e=0,r=t.length;e<r;e++)n+=t[e].length;for(s=new Uint8Array(n),i=0,e=0,r=t.length;e<r;e++)o=t[e],s.set(o,i),i+=o.length;return s}},s={arraySet:function(t,e,r,n,i){for(var o=0;o<n;o++)t[i+o]=e[r+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,o)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,s))},e.setTyped(i)},177:function(t,e){var r={};r.normalizeNumber=function(t){return("number"!=typeof t||isNaN(t))&&(console.warn("GPDFNumber.normalizeNumber","invalid number",t),t=0),parseFloat(t.toFixed(4))},r.toHex=function(t,e){for(var r=new Array(e||4),n=t.toString(16),i=r.length-n.length,o=0;o<i;o++)r[o]="0";return r.join("")+n},t.exports=r},261:function(t,e,r){"use strict";var n=r(133).assign,i=r(794),o=r(795),s=r(594),a={};n(a,i,o,s),t.exports=a},32:function(t,e,r){function n(){}var i=r(0),o=void 0;n.MIME_TYPE="application/gravit+pattern",n.inherit=function(t,e,r){i.inherit(e,r||n),n._idClassMap[t]=e},n.inheritAndMix=function(t,e,r,o){i.inheritAndMix(e,r||n,o),n._idClassMap[t]=e},n._idClassMap={},n.asCSSBackground=function(t,e,r,n){o||(o='url("data:image/svg+xml;base64,'+btoa('<svg xmlns="http://www.w3.org/2000/svg" width="8" height="8"><rect width="8" height="8" fill="white"/><rect width="4" height="4" fill="#CDCDCD"/><rect x="4" y="4" width="4" height="4" fill="#CDCDCD"/></svg>')+'")'),e="number"==typeof e?e:1;var i=o;return t&&(i=t.asCSSBackground(e,r,n)+","+i),i},n.serialize=function(t,e){if(t){for(var r in n._idClassMap)if(t.constructor===n._idClassMap[r])return r+"#"+t.serialize(e);throw new Error("Unregistered Pattern Class.")}return null},n.deserialize=function(t){if(t){var e=t.indexOf("#");if(e>0){var r=t.substr(0,e);if(r&&r.length>0){var i=n._idClassMap[r];if(!i)throw new Error("Unregistered Pattern Class.");var o=new i;return o.deserialize(t.substr(e+1)),o}}}return null},n.prototype.asCSSBackground=function(t){throw new Error("Not Supported")},n.prototype.serialize=function(){return""},n.prototype.deserialize=function(t){},n.prototype.getAverageColor=function(){return null},n.prototype.clone=function(){throw new Error("Not Supported")},t.exports=n},36:function(t,e){function r(){}r.prototype.write=function(t){},r.prototype.isEmpty=function(){return!1},r.prototype.equals=function(t){return this===t},r.prototype.toString=function(){return"[Object GPDFObject]"},r.Container=function(){},r.Container.prototype.accept=function(){throw new Error("Not Implemented")},r.Container.prototype.toString=function(){return"[Object GPDFObject.Container]"},t.exports=r},378:function(t,e,r){var n=r(791),i=r(474),o=r(792),s=r(413),a={RGB:{name:"/DeviceRGB",operator:"rg",length:3,parseColor:function(t){return new i(t)},fromRGBA:function(t,e,r,n){return[t,e,r]}},RGBA:{name:"/DeviceRGB",operator:"rg",length:4,parseColor:function(t){return new i(t)},fromRGBA:function(t,e,r,n){return[t,e,r,n]}},GRAY:{name:"/DeviceGray",operator:"g",length:1,parseColor:function(t){return new o(t)},fromRGBA:function(t,e,r,n){return[n]}},CMYK:{name:"/DeviceCMYK",operator:"k",length:4,parseColor:function(t){return new n(t)},fromRGBA:function(t,e,r,n){var i=t<<24|e<<16|r<<8|n,o=a._cmykToRGB[i];return o||(o=s.rgbToCMYK(i).map(function(t){return 255*t}),a._cmykToRGB[i]=o),o}}};a._cmykToRGB={},t.exports=a},385:function(t,e){t.exports=require("fs")},4:function(t,e){function r(t,e){this._x=t,this._y=e}r.equals=function(t,e,r){return r=r||1e-14,!(!t||t!=e)||!(!t||!e)&&(Math.abs(t._x-e._x)<r&&Math.abs(t._y-e._y)<r)},r.min=function(){for(var t=new r(null,null),e=0;e<arguments.length;++e)(null==t._x||arguments[e]._x<t._x)&&(t._x=arguments[e]._x),(null==t._y||arguments[e]._y<t._y)&&(t._y=arguments[e]._y);return t},r.max=function(){for(var t=new r(null,null),e=0;e<arguments.length;++e)(null==t._x||arguments[e]._x>t._x)&&(t._x=arguments[e]._x),(null==t._y||arguments[e]._y>t._y)&&(t._y=arguments[e]._y);return t},r.prototype._x=0,r.prototype._y=0,r.prototype.getX=function(){return this._x},r.prototype.getY=function(){return this._y},r.prototype.scale=function(t){return new r(this._x*t,this._y*t)},r.prototype.multiply=function(t){return new r(this._x*t._x,this._y*t._y)},r.prototype.subtract=function(t){return new r(this._x-t._x,this._y-t._y)},r.prototype.cross=function(t){return this._x*t._y-this._y*t._x},r.prototype.dot=function(t){return this._x*t._x+this._y*t._y},r.prototype.add=function(t){return new r(this._x+t._x,this._y+t._y)},r.prototype.translated=function(t,e){return new r(this._x+t,this._y+e)},r.prototype.rotated=function(t){var e=Math.cos(t),n=Math.sin(t);return new r(e*this._x-n*this._y,n*this._x+e*this._y)},r.prototype.rotatedAt=function(t,e){if(!e)return this.rotated(t);var n=Math.cos(t),i=Math.sin(t);return new r(n*(this._x-e._x)-i*(this._y-e._y)+e._x,i*(this._x-e._x)+n*(this._y-e._y)+e._y)},r.prototype.lerp=function(t,e){return new r(this._x+(t._x-this._x)*e,this._y+(t._y-this._y)*e)},r.prototype.isFinite=function(){return"number"==typeof this._x&&isFinite(this._x)&&"number"==typeof this._y&&isFinite(this._y)},r.prototype.toString=function(){return"[Object GPoint(x="+this._x+", y="+this._y+"]"},t.exports=r},410:function(t,e){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(t){if(c===setTimeout)return setTimeout(t,0);if((c===r||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function o(t){if(h===clearTimeout)return clearTimeout(t);if((h===n||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function s(){d&&p&&(d=!1,p.length?_=p.concat(_):v=-1,_.length&&a())}function a(){if(!d){var t=i(s);d=!0;for(var e=_.length;e;){for(p=_,_=[];++v<e;)p&&p[v].run();v=-1,e=_.length}p=null,d=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function l(){}var c,h,f=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:r}catch(t){c=r}try{h="function"==typeof clearTimeout?clearTimeout:n}catch(t){h=n}}();var p,_=[],d=!1,v=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];_.push(new u(t,e)),1!==_.length||d||i(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=l,f.addListener=l,f.once=l,f.off=l,f.removeListener=l,f.removeAllListeners=l,f.emit=l,f.prependListener=l,f.prependOnceListener=l,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},413:function(t,e,r){var n=r(50),i=r(36),o=r(0),s=function(){};o.inheritAndMix(s,i,[o]),s.prototype.hasTransparency=function(){return(null!=this.getAlpha()?this.getAlpha():1)<1},s.prototype.getAlpha=function(){return 1},s.prototype.equals=function(t){return!!(t instanceof o&&t.hasMixin(s))&&this.asArray().equals(t.asArray())},s.prototype.write=function(t){this.asArray().forEach(function(e){e.write(t),t.writeSpace()})},s.prototype.asArray=function(){},s.rgbToCMYK=function(t){return n.rgbToCMYK([t>>24&255,t>>16&255,t>>8&255])},t.exports=s},429:function(t,e,r){var n=r(0),i=function(){};n.inherit(i,n),t.exports=i},439:function(t,e,r){var n=r(793),i=r(36),o=r(0),s=function(t){this.value=t};o.inherit(s,i),s.prototype.equals=function(t){return this._wrap().equals(t)},s.prototype.isEmpty=function(){return this._wrap().isEmpty()},s.prototype.getValue=function(){return this.value},s.prototype._wrap=function(){var t=this.value;return t instanceof i||(t=new n(t)),t},s.prototype.write=function(t){this._wrap().write(t)},s.Null=function(){s.call(this,new i)},o.inherit(s.Null,s),t.exports=s},474:function(t,e,r){var n=r(413),i=r(79),o=r(0),s=r(50),a=r(429),u=function(t){var e=0,r=0,n=0,i=1;if("string"==typeof t){var o=[0,0,0],a=10;if(t.startsWith("#")?(a=16,o=t.match(/[0-9A-Fa-f]{2}/g)):o=t.match(/\d+(\.\d+)?/g),o)if(0===t.indexOf("cmyk")){var u=o.map(function(t){return parseFloat(t,a)}),l=s.cmykToRGB(u),e=l[0],r=l[1],n=l[2];5==o.length&&(i=parseFloat(o[4]))}else e=parseInt(o[0],a),r=parseInt(o[1],a),n=parseInt(o[2],a),4==o.length&&(i=parseFloat(o[3]))}else if("number"==typeof t)e=t>>24&255,r=t>>16&255,n=t>>8&255,i=(255&t)/255;else if(t instanceof s){var c=t.toScreen();e=c[0],r=c[1],n=c[2],4===c.length&&(i=c[3])}this.r=e/255,this.g=r/255,this.b=n/255,this.a=i};o.inheritAndMix(u,a,[n]),u.prototype.asRGBA=function(){return 255*this.r<<24|255*this.g<<16|255*this.b<<8|255*this.a},u.prototype.getAlpha=function(){return this.a},u.prototype.asArray=function(){var t=new i;return t.push(this.r),t.push(this.g),t.push(this.b),t},t.exports=u},477:function(t,e,r){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},5:function(t,e,r){function n(){}var i=r(10),o=r(261);n.extend=function(t,e){var r=!1,i=null,o=1;"boolean"==typeof t?(r=t,i=e||{},o=2):(r=!1,i=t||{});for(var s=o;s<arguments.length;s++)if(arguments[s])for(var a in arguments[s])arguments[s].hasOwnProperty(a)&&(r&&"object"==typeof arguments[s][a]?i[a]=n.extend({},arguments[s][a]):i[a]=arguments[s][a]);return i},n.find=function(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return t[r];return null},n.map=function(t,e){if(t instanceof Array)return t.map(e);var r=Object.keys(t),n=[];return r.forEach(function(r){n.push(e(t[r],r))}),n},n.each=function(t,e){if(t instanceof Array)t.forEach(function(t,r){e(r,t)});else{Object.keys(t).forEach(function(r){e(r,t[r])})}},n.indexOfEquals=function(t,e,r){for(var i=0;i<t.length;++i)if(n.equals(t[i],e,r))return i;return-1},n.equals=function(t,e,r,o){if(t||t!==e){if(t&&e){if(t.constructor.equals||e.constructor.equals)return t.constructor===e.constructor&&t.constructor.equals(t,e);if(t instanceof Date||e instanceof Date)return t instanceof Date&&e instanceof Date&&+t==+e;if(t instanceof Array||e instanceof Array){if(t instanceof Array&&e instanceof Array){if(t.length!==e.length)return!1;for(var s=0;s<t.length;++s)if(!n.equals(t[s],e[s],r,o))return!1;return!0}return!1}var a=typeof t;if(a!==typeof e)return!1;if("number"===a)return isNaN(t)||isNaN(e)?isNaN(t)&&isNaN(e):i.isEqualEps(t,e,o);if("string"===a)return 0===t.localeCompare(e);if("boolean"===a)return+t==+e;if("object"===a){if(r){var u=Object.keys(t),l=Object.keys(e);if(!n.equals(u,l,r,o))return!1;for(var s=0;s<u.length;++s)if(!n.equals(t[u[s]],e[u[s]],r,o))return!1;return!0}return t===e}return!1}return!1}return!0},n.containsOneOf=function(t,e){for(var r=0;r<e.length;++r)if(t.indexOf(e[r])>=0)return!0;return!1},n.containsObjectKey=function(t,e){for(var r in e)if(t.indexOf(r)>=0)return!0;return!1},n.dictionaryContainsValue=function(t,e){for(var r in t)if(t[r]===e)return!0;return!1};var s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");n.uuid=function(t){var e,r=s,n=[],i=r.length,t=t||32;for(e=0;e<t;e++)n[e]=r[0|Math.random()*i];return n.join("")},n.replaceAll=function(t,e,r){for(var n=t;n.indexOf(e)>=0;)n=n.replace(e,r);return n},n.unique=function(t){if(!t)return null;for(var e={},r=[],n=t.length,i=0,o=0;o<n;o++){var s=t[o];1!==e[s]&&(e[s]=1,r[i++]=s)}return r},n.uniqueObj=function(t){for(var e,r,n=0;n<t.length;n++){e=t[n];for(var i=t.length-1;i>n;i--)r=t[i],e===r&&t.splice(i,1)}return t},n.hash=function(t){var e,r,n,i=0;if(0==t.length)return i;for(e=0,n=t.length;e<n;e++)r=t.charCodeAt(e),i=(i<<5)-i+r,i|=0;return i},n.escape=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},n.unescape=function(t){var e=n.replaceAll(t,"&lt;","<");return e=n.replaceAll(e,"&gt;",">"),e=n.replaceAll(e,"&quot;",'"'),e=n.replaceAll(e,"&#039;","'"),e=n.replaceAll(e,"&amp;","&")},n.isNumeric=function(t){return t-parseFloat(t)>=0},n.formatNumber=function(t,e,r){return r=r||".",e="number"==typeof e?e:3,i.round(t,!1,e).toString().replace(".",r)},n.parseNumber=function(t){if(!t)return Number.NaN;for(var e="",r=!1,n=t.length;n>=0;--n){var i=t.charAt(n);","!==i&&"."!==i||r?e=i+e:(e="."+e,r=!0)}return parseFloat(e)},n.numToHexSixDigitsString=function(t){var e=t.toString(16).toUpperCase(),r=e||"000000";return e&&e.length<6?r=new Array(7-e.length).join("0")+e:e&&e.length>6&&(r=e.substr(0,6)),r},n.packNumbers=function(){for(var t=new Float32Array(arguments.length),e=new Uint8Array(t.buffer),r=0;r<arguments.length;r++){var n=arguments[r];t[r]=n}return btoa(String.fromCharCode.apply(null,e))},n.unpackNumbers=function(t){for(var e=[],r=new Float32Array(1),n=new Uint8Array(r.buffer),i=atob(t),o=0;o<t.length;o+=4)n[0]=i.charCodeAt(o),n[1]=i.charCodeAt(o+1),n[2]=i.charCodeAt(o+2),n[3]=i.charCodeAt(o+3),e.push(r[0]);return e};var a=new Float32Array(2),u=new Uint8Array(a.buffer);n.packPoint=function(t,e){return a[0]=t,a[1]=e,btoa(String.fromCharCode.apply(null,u))},n.unpackPoint=function(t){var e=atob(t);return u[0]=e.charCodeAt(0),u[1]=e.charCodeAt(1),u[2]=e.charCodeAt(2),u[3]=e.charCodeAt(3),u[4]=e.charCodeAt(4),u[5]=e.charCodeAt(5),u[6]=e.charCodeAt(6),u[7]=e.charCodeAt(7),a},n.parseXML=function(t){if("undefined"!=typeof DOMParser){return(new DOMParser).parseFromString(t,"application/xml")}throw new Error("XML Parsing not supported.")},n.formatOpacity=function(t){return n.formatNumber(t,1)},n.base64EncodeUnicode=function(t){if("string"!=typeof t&&!(t instanceof String))throw"Invalid format to encode, it must at least be a string!";var e=null;if("function"==typeof TextEncoder){for(var r=[],n=new TextEncoder("utf-8").encode(t),i=0,o=n.byteLength;i<o;i++)r.push(String.fromCharCode(n[i]));e=r.join("")}else e=encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,function(t,e){return String.fromCharCode("0x"+e)});return btoa(e)},n.base64DecodeUnicode=function(t){if("string"!=typeof t&&!(t instanceof String))throw"Invalid format to decode, it must at least be a string!";var e=atob(t);return"function"==typeof TextDecoder?(new TextDecoder).decode(Uint8Array.from(e,function(t){return t.charCodeAt(0)})):decodeURIComponent(n.map(e.split(""),function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""))},n.compressString=function(t){if("string"!=typeof t&&!(t instanceof String))throw"Invalid format to compress, it must at least be a string!";var e=o.deflate(t,{to:"string"});return n.base64EncodeUnicode(e)},n.decompressString=function(t){if("string"!=typeof t&&!(t instanceof String))throw"Invalid format to decompress, it must at least be a string!";var e=n.base64DecodeUnicode(t);return o.inflate(e,{to:"string"})},n.bubbleSort=function(t,e){for(var r=0,n=t.length;r<n;r++)for(var i=r;i>0;i--)if(e(t[i],t[i-1])<0){var o=t[i];t[i]=t[i-1],t[i-1]=o}return t},t.exports=n},50:function(t,e,r){function n(t){this._value=t&&t instanceof Array?t.slice():null}function i(t){return Math.min(255,Math.max(0,Math.round(t)))}var o=r(32),s=r(0),a=r(788),u=r(5);s.inherit(n,o),n.IccProfileNames={USWebCoatedSWOPv2:"USWebCoatedSWOP.icc"},n.IccProfiles={},n.D50=[.9642,1,.82491],n.currentCMYKProfile=null,n.iccReader=null,n.setCMYKProfile=function(t,e,i){if(t in n.IccProfileNames)if(t in n.IccProfiles)n.currentCMYKProfile=n.IccProfiles[t],i&&i();else{var o=function(e){n.iccReader||(n.iccReader=new a),n.iccReader.read(e,function(e){e&&(n.IccProfiles[t]=e,n.currentCMYKProfile=n.IccProfiles[t])})};if(e&&0===e.indexOf("file"))try{var s=r(385).readFileSync(e.substring("file://".length)+"/"+n.IccProfileNames[t]);s&&o(s.buffer)}finally{i&&i()}else{var u=new XMLHttpRequest;u.addEventListener("load",function(){200==u.status&&u.response&&u.response instanceof ArrayBuffer&&o(u.response)}),i&&u.addEventListener("loadend",i,!1),u.open("GET",(e||"assets/data/icc/")+n.IccProfileNames[t]),u.responseType="arraybuffer",u.send(null)}}},n.rgbToHSV=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(e,Math.min(r,n)),o=Math.max(e,Math.max(r,n));if(i===o)return[0,0,i];var s=e===i?r-n:n===i?e-r:n-e,a=e===i?3:n===i?1:5;return[Math.min(360,Math.max(0,Math.round(60*(a-s/(o-i))))),(o-i)/o,o]},n.hsvToRGB=function(t){var e,r=t[2]*t[1],n=t[0]/60,o=r*(1-Math.abs(n%2-1)),s=t[2]-r;return e=n<1?[r,o,0]:n<2?[o,r,0]:n<3?[0,r,o]:n<4?[0,o,r]:n<5?[o,0,r]:n<=6?[r,0,o]:[0,0,0],[i(255*(e[0]+s)),i(255*(e[1]+s)),i(255*(e[2]+s))]},n.cmykToRGB=function(t,e){var r=4===t.length?t[3]:0,o=t[0]*(1-r)+r,s=t[1]*(1-r)+r,a=t[2]*(1-r)+r,u=[i(255*(1-o)),i(255*(1-s)),i(255*(1-a))];if(e||!n.currentCMYKProfile)return u;o=i(255*t[0]),s=i(255*t[1]),a=i(255*t[2]),r=4===t.length?i(255*t[3]):0;var l=n.currentCMYKProfile.AtoB1normalizationRange;o=n._mapChannel(o,0,4,255,n.currentCMYKProfile.AtoB1InputChange,l),s=n._mapChannel(s,1,4,255,n.currentCMYKProfile.AtoB1InputChange,l),a=n._mapChannel(a,2,4,255,n.currentCMYKProfile.AtoB1InputChange,l),r=n._mapChannel(r,3,4,255,n.currentCMYKProfile.AtoB1InputChange,l);for(var c=n.currentCMYKProfile.AtoB1CLUTNumPts,h=n.currentCMYKProfile.AtoB1CLUT,f=Math.ceil(255/(c-1)),p=[],_=0,d=0,v=0,m=0,g=0,y=0;y<256;y+=f,++g){var b=y+f;b=b<255?b:255,p.push([y,b]),o>=y&&o<=b&&(_=g,(o-y)/(b-y)),s>=y&&s<=b&&(d=g,(s-y)/(b-y)),a>=y&&a<=b&&(v=g,(a-y)/(b-y)),r>=y&&r<=b&&(m=g,(r-y)/(b-y))}var w=(p[_][1]-p[_][0])*(p[d][1]-p[d][0])*(p[v][1]-p[v][0])*(p[m][1]-p[m][0]);if(!w)return u;for(var C,k,x,A,E,j,P,T,S,F,B,D,M=0,R=0,O=0,y=0;y<16;++y)C=(8&y)>>3,k=(4&y)>>2,x=(2&y)>>1,A=1&y,P=8&y?0:1,T=4&y?0:1,S=2&y?0:1,F=1&y?0:1,j=(P>0?p[_][P]-o:o-p[_][P])*(T>0?p[d][T]-s:s-p[d][T])*(S>0?p[v][S]-a:a-p[v][S])*(F>0?p[m][F]-r:r-p[m][F]),E=j/w,D=c*(c*(c*(_+C)+(d+k))+(v+x))+m+A,B=[h[3*D],h[3*D+1],h[3*D+2]],M+=E*B[0],R+=E*B[1],O+=E*B[2];if(M=n._mapChannel(M,0,3,l,n.currentCMYKProfile.AtoB1OutputChange,l),R=n._mapChannel(R,1,3,l,n.currentCMYKProfile.AtoB1OutputChange,l),O=n._mapChannel(O,2,3,l,n.currentCMYKProfile.AtoB1OutputChange,l),M=100*M/l,255!=l){var I=Math.ceil(l/2);R-=I,O-=I,R=R<0?R/I*128:R/(I-1)*127,O=O<0?O/I*128:O/(I-1)*127}else R-=128,O-=128;var N=(M+16)/116,U=N-O/200,z=R/500+N,L=z*z*z,H=N*N*N,q=U*U*U;L<=216/24389&&(L=(116*z-16)/(24389/27)),q<=216/24389&&(q=(116*U-16)/(24389/27)),H<=216/24389&&(H=M/255*100/(24389/27)),L*=n.D50[0],H*=n.D50[1],q*=n.D50[2];var V=[3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427],Y=V[0]*L+V[1]*H+V[2]*q,Q=V[3]*L+V[4]*H+V[5]*q,W=V[6]*L+V[7]*H+V[8]*q,G=function(t){return t<.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055};return Y=G(Y),Q=G(Q),W=G(W),[i(255*Y),i(255*Q),i(255*W)]},n.rgbToCMYK=function(t,e){var r=1-(t[0]?t[0]/255:0),i=1-(t[1]?t[1]/255:0),o=1-(t[2]?t[2]/255:0),s=Math.min(o,Math.min(i,Math.min(r,1))),a=r-s,u=i-s,l=o-s,c=1-s,h=[Math.min(1,Math.max(0,a&&c?a/c:0)),Math.min(1,Math.max(0,u&&c?u/c:0)),Math.min(1,Math.max(0,l&&c?l/c:0)),Math.min(1,Math.max(0,s))];if(e||!n.currentCMYKProfile)return h;var f=function(t){return t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},p=f(t[0]?t[0]/255:0),_=f(t[1]?t[1]/255:0),d=f(t[2]?t[2]/255:0),v=[.4360747,.3850649,.1430804,.2225045,.7168786,.0606169,.0139322,.0971045,.7141733],m=v[0]*p+v[1]*_+v[2]*d,g=v[3]*p+v[4]*_+v[5]*d,y=v[6]*p+v[7]*_+v[8]*d;m/=n.D50[0],g/=n.D50[1],y/=n.D50[2];var b=function(t){return t>216/24389?Math.pow(t,1/3):(24389/27*t+16)/116},w=b(m),C=b(g),k=b(y),x=116*C-16,A=500*(w-C),E=200*(C-k),j=n.currentCMYKProfile.BtoA1normalizationRange;if(x=x*j/100,255!=j){var P=Math.ceil(j/2);A=A<0?A/128*P:A/127*(P-1),E=E<0?E/128*P:E/127*(P-1),A+=P,E+=P}else A+=128,E+=128;x=n._mapChannel(x,0,3,j,n.currentCMYKProfile.BtoA1InputChange,j),A=n._mapChannel(A,1,3,j,n.currentCMYKProfile.BtoA1InputChange,j),E=n._mapChannel(E,2,3,j,n.currentCMYKProfile.BtoA1InputChange,j);for(var T=n.currentCMYKProfile.BtoA1CLUTNumPts,S=n.currentCMYKProfile.BtoA1CLUT,F=Math.ceil(255/(T-1)),B=[],D=0,M=0,R=0,O=0,I=0;I<256;I+=F,++O){var N=I+F;N=N<255?N:255,B.push([I,N]),x>=I&&x<=N&&(D=O,(x-I)/(N-I)),A>=I&&i<=N&&(M=O,(A-I)/(N-I)),E>=I&&E<=N&&(R=O,(E-I)/(N-I))}var U=(B[D][1]-B[D][0])*(B[M][1]-B[M][0])*(B[R][1]-B[R][0]);if(!U)return h;var z,L,H,q,V,Y,Q,W,G,K;r=0,i=0,o=0,s=0;for(var I=0;I<8;++I)z=(4&I)>>2,H=(2&I)>>1,L=1&I,Y=4&I?0:1,W=2&I?0:1,Q=1&I?0:1,V=(Y>0?B[D][Y]-x:x-B[D][Y])*(W>0?B[M][W]-A:A-B[M][W])*(Q>0?B[R][Q]-E:E-B[R][Q]),q=V/U,K=T*(T*(D+z)+(M+H))+R+L,G=[S[4*K],S[4*K+1],S[4*K+2],S[4*K+3]],r+=q*G[0],i+=q*G[1],o+=q*G[2],s+=q*G[3];return r=n._mapChannel(r,0,4,255,n.currentCMYKProfile.BtoA1OutputChange,j),i=n._mapChannel(i,1,4,255,n.currentCMYKProfile.BtoA1OutputChange,j),o=n._mapChannel(o,2,4,255,n.currentCMYKProfile.BtoA1OutputChange,j),s=n._mapChannel(s,3,4,255,n.currentCMYKProfile.BtoA1OutputChange,j),isFinite(r)&&isFinite(i)&&isFinite(o)&&isFinite(s)||console.log("BOMB"),[r/255,i/255,o/255,s/255]},n.rgbToHtmlHex=function(t){var e=t[0]<<16|t[1]<<8|t[2];return"#"+u.numToHexSixDigitsString(e)},n.rgbToCSS=function(t,e){return"number"==typeof e&&1!==e?"rgba("+t[0]+","+t[1]+","+t[2]+","+e+")":n.rgbToHtmlHex(t)},n._mapChannel=function(t,e,r,n,i,o){var s=t;if(i&&i.length>=2){var a=Math.floor(i.length/r),u=e*a;n!=o&&(s=t/n*o);var l=Math.ceil(o/(a-1)),c=Math.floor(s/l),h=c*l;h==s&&0!=s&&(c-=1,h-=l);var f=h+l;f=f<o?f:o;var p=f-h,_=(s-h)/(p||1);s=i[u+c]+_*(i[u+c+1]-i[u+c]),n!=o&&(s=s/o*n)}return s},n.prototype._value=null,n.prototype.getValue=function(){return this._value},n.prototype.serialize=function(){return this._value?JSON.stringify(this._value):""},n.prototype.deserialize=function(t){t&&(this._value=JSON.parse(t))},n.prototype.toHumanString=function(){throw new Error("Not Supported.")},n.prototype.toScreen=function(t){throw new Error("Not Supported.")},n.prototype.toScreenCSS=function(t,e){return n.rgbToCSS(this.toScreen(e),t)},n.prototype.getAverageColor=function(){return this.toScreen().concat([1])},n.prototype.asCSSBackground=function(t){var e=this.toScreenCSS(t);return"linear-gradient("+e+", "+e+")"},n.prototype.toString=function(){return"[Object GColor]"},t.exports=n},591:function(t,e,r){(function(e){var n;"function"!=typeof e.Promise?(n=r(802),Object.defineProperty(n,"polyfilled",{value:!0,writable:!1,enumerable:!1})):n=e.Promise,t.exports=n}).call(e,r(111))},592:function(t,e,r){"use strict";function n(t,e){if(e<65537&&(t.subarray&&s||!t.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var r="",n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r}var i=r(133),o=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(t){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){s=!1}for(var a=new i.Buf8(256),u=0;u<256;u++)a[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;a[254]=a[254]=1,e.string2buf=function(t){var e,r,n,o,s,a=t.length,u=0;for(o=0;o<a;o++)r=t.charCodeAt(o),55296==(64512&r)&&o+1<a&&56320==(64512&(n=t.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(n-56320),o++),u+=r<128?1:r<2048?2:r<65536?3:4;for(e=new i.Buf8(u),s=0,o=0;s<u;o++)r=t.charCodeAt(o),55296==(64512&r)&&o+1<a&&56320==(64512&(n=t.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(n-56320),o++),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|63&r):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|63&r):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|63&r);return e},e.buf2binstring=function(t){return n(t,t.length)},e.binstring2buf=function(t){for(var e=new i.Buf8(t.length),r=0,n=e.length;r<n;r++)e[r]=t.charCodeAt(r);return e},e.buf2string=function(t,e){var r,i,o,s,u=e||t.length,l=new Array(2*u);for(i=0,r=0;r<u;)if((o=t[r++])<128)l[i++]=o;else if((s=a[o])>4)l[i++]=65533,r+=s-1;else{for(o&=2===s?31:3===s?15:7;s>1&&r<u;)o=o<<6|63&t[r++],s--;s>1?l[i++]=65533:o<65536?l[i++]=o:(o-=65536,l[i++]=55296|o>>10&1023,l[i++]=56320|1023&o)}return n(l,i)},e.utf8border=function(t,e){var r;for(e=e||t.length,e>t.length&&(e=t.length),r=e-1;r>=0&&128==(192&t[r]);)r--;return r<0?e:0===r?e:r+a[t[r]]>e?r:e}},593:function(t,e,r){"use strict";function n(t,e,r,n){for(var i=65535&t|0,o=t>>>16&65535|0,s=0;0!==r;){s=r>2e3?2e3:r,r-=s;do{i=i+e[n++]|0,o=o+i|0}while(--s);i%=65521,o%=65521}return i|o<<16|0}t.exports=n},594:function(t,e,r){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},595:function(t,e,r){"use strict";function n(t,e,r,n){var o=i,s=n+r;t^=-1;for(var a=n;a<s;a++)t=t>>>8^o[255&(t^e[a])];return-1^t}var i=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();t.exports=n},596:function(t,e,r){"use strict";function n(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=n},597:function(t,e,r){function n(){}function i(t){this._divisorsLuminance=new Array(i.N*i.N),this._divisorsChrominance=new Array(i.N*i.N),this._divisors=a(2),this._quantum=a(2),this._initMatrix(t)}function o(t,e){this._bitsDCluminance=new Uint32Array([0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0]),this._valDCluminance=new Uint32Array([0,1,2,3,4,5,6,7,8,9,10,11]),this._bitsDCchrominance=new Uint32Array([1,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0]),this._valDCchrominance=new Uint32Array([0,1,2,3,4,5,6,7,8,9,10,11]),this._bitsACluminance=new Uint32Array([16,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125]),this._bitsACchrominance=new Uint32Array([17,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119]),this._valACluminance=new Uint32Array([1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250]),this._valACchrominance=new Uint32Array([0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250]),this._bits=[],this._bits.push(this._bitsDCluminance),this._bits.push(this._bitsACluminance),this._bits.push(this._bitsDCchrominance),this._bits.push(this._bitsACchrominance),this._val=[],this._val.push(this._valDCluminance),this._val.push(this._valACluminance),this._val.push(this._valDCchrominance),this._val.push(this._valACchrominance),this._imageWidth=t,this._imageHeight=e,this._initHuf()}function s(t,e,r,n){var i=n.length;this._imageBuffer=t,this._imageWidth=e,this._imageHeight=r,this._colorspace=n,this._numberOfComponents=i,this._lastColumnIsDummy=a(i),this._lastRowIsDummy=a(i),this._compWidth=a(i),this._compHeight=a(i),this._blockWidth=a(i),this._blockHeight=a(i),this._maxHsampFactor=1,this._maxVsampFactor=1,this._init()}function a(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e}var u=r(599),l=r(5);n.ColorSpace={RGBA:{length:3,init:function(t){t._componentsId=[1,2,3],t._hsampFactor=[1,1,1],t._vsampFactor=[1,1,1],t._qtableNumber=[0,1,1],t._dctableNumber=[0,1,1],t._actableNumber=[0,1,1]},converter:function(t){var e=255&t,r=t>>8&255,n=t>>16&255;return[.299*e+.587*r+.114*n,-.16874*e-.33126*r+.5*n+128,.5*e-.41869*r-.08131*n+128]}},CMYK:{APP14:!0,length:4,init:function(t){t._componentsId=[67,77,89,75],t._hsampFactor=[1,1,1,1],t._vsampFactor=[1,1,1,1],t._qtableNumber=[0,0,0,0],t._dctableNumber=[0,0,0,0],t._actableNumber=[0,0,0,0]},converter:function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}}},n.prototype._dct=null,n.prototype._huf=null,n.prototype._info=null,n.prototype._colorspace=null,n.prototype._out=null,n.prototype.concurrenyEncode=function(t,e,r,i,o,s,a){var u=Object.keys(n.ColorSpace).find(function(t){return n.ColorSpace[t]===s});return t.createPromise(function(t,n){var s=e[0],c=l.uuid();s.postMessage({uuid:c,command:"jpegencoder",buffer:r,width:i,height:o,colorspace:u,quality:a},[r]);var h=function(t){s.removeEventListener("message",f),s.removeEventListener("error",h),n(t)},f=function(e){var r=e.data;r.uuid===c&&"jpegencoder"===r.command&&(s.removeEventListener("message",f),s.removeEventListener("error",h),t(r.buffer))};s.addEventListener("message",f),s.addEventListener("error",h)})},n.prototype.encode=function(t,e,r,n,a){return this._colorspace=a,this._out=new u(524288),this._info=new s(t,e,r,a),this._dct=new i(n),this._huf=new o(e,r),this._writeHeaders(),this._writeCompressedData(),this._writeEOI(),this._out.getBuffer()},n.prototype._writeHeaders=function(){this._writeWord(65496),this._colorspace.APP14?this._writeAPP14():this._writeAPP0(),this._writeDQT(),this._writeSOF(),this._writeDHT(),this._writeSOS()},n.prototype._writeCompressedData=function(){var t,e,r,n,i,o=a(this._info._numberOfComponents),s=new Int32Array(64),u=this._info._imageWidth,l=this._info._imageHeight;for(n=u%8!=0?8*(Math.floor(u/8)+1):u,i=l%8!=0?8*(Math.floor(l/8)+1):l,t=0;t<this._info._numberOfComponents;t++)n=Math.min(n,this._info._blockWidth[t]),i=Math.min(i,this._info._blockHeight[t]);e=0;for(var c=0;c<i;c++)for(var h=0;h<n;h++){e=8*h,r=8*c;for(var f=0,p=0;p<8;p++)for(var _=0;_<8;_++)s[f++]=this._info.getPixel(e+_,r+p);for(t=0;t<this._info._numberOfComponents;t++){var d=s.slice().map(function(e){return this._colorspace.converter(e)[t]}.bind(this)),v=this._dct.forwardDCT(d),m=this._dct.quantizeBlock(v,this._info._qtableNumber[t]);this._huf.blockEncoder(this._out,m,o[t],this._info._dctableNumber[t],this._info._actableNumber[t]),o[t]=m[0]}}this._huf.flushBuffer(this._out)},n.prototype._writeAPP0=function(){this._writeWord(65504),this._writeWord(16),this._writeByte(74),this._writeByte(70),this._writeByte(73),this._writeByte(70),this._writeByte(0),this._writeByte(1),this._writeByte(1),this._writeByte(0),this._writeWord(1),this._writeWord(1),this._writeByte(0),this._writeByte(0)},n.prototype._writeAPP14=function(){this._writeWord(65518),this._writeWord(14),this._writeByte(65),this._writeByte(100),this._writeByte(111),this._writeByte(98),this._writeByte(101),this._writeWord(100),this._writeWord(0),this._writeWord(0),this._writeByte(0)},n.prototype._writeDQT=function(){this._writeWord(65499),this._writeByte(0),this._writeByte(132);for(var t=0;t<2;t++){this._writeByte(0+t);for(var e=this._dct._quantum[t],r=0;r<64;r++)this._writeByte(e[o.jpegNaturalOrder[r]])}},n.prototype._writeSOF=function(){this._writeWord(65472),this._writeWord(3*this._info._numberOfComponents+2+5+1),this._writeByte(this._info.precision),this._writeWord(this._info._imageHeight),this._writeWord(this._info._imageWidth),this._writeByte(this._info._numberOfComponents);for(var t=0;t<this._info._numberOfComponents;t++)this._writeByte(this._info._componentsId[t]),this._writeByte((this._info._hsampFactor[t]<<4)+this._info._vsampFactor[t]),this._writeByte(this._info._qtableNumber[t])},n.prototype._writeDHT=function(){var t,e,r,n=a(17),i=[],o=[],s=a(4),u=4,l=4;s[0]=255,s[1]=196;for(var c=0;c<4;c++){t=0,n[u++-l]=this._huf._bits[c][0];for(var h=1;h<17;h++)e=this._huf._bits[c][h],n[u++-l]=e,t+=e;for(r=u,i=a(t),h=0;h<t;h++)i[u++-r]=this._huf._val[c][h];o=a(u),Array.prototype.splice.apply(o,[0,l].concat(s.slice(0,l))),Array.prototype.splice.apply(o,[l,17].concat(n.slice(0,17))),Array.prototype.splice.apply(o,[l+17,t].concat(i.slice(0,t))),s=o,l=u}s[2]=u-2>>8&255,s[3]=u-2&255,this._writeArray(s)},n.prototype._writeSOS=function(){this._writeWord(65498),this._writeWord(2*this._info._numberOfComponents+2+1+3),this._writeByte(this._info._numberOfComponents);for(var t=0;t<this._info._numberOfComponents;t++)this._writeByte(this._info._componentsId[t]),this._writeByte((this._info._dctableNumber[t]<<4)+this._info._actableNumber[t]);this._writeByte(this._info.ss),this._writeByte(this._info.se),this._writeByte((this._info.ah<<4)+this._info.al)},n.prototype._writeEOI=function(){this._writeWord(65497)},n.prototype._writeArray=function(t){this._out.writeArray(t)},n.prototype._writeByte=function(t){this._out.writeByte(t)},n.prototype._writeWord=function(t){this._out.writeWord(t)};var c=new Float64Array([1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379]),h=new Uint32Array([16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99]),f=new Uint32Array([17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99]);i.N=8,i.prototype._divisors=null,i.prototype._quantum=null,i.prototype._divisorsLuminance=null,i.prototype._divisorsChrominance=null,i.prototype._YQT=null,i.prototype._UVQT=null,i.prototype._initMatrix=function(t){t<=0&&(t=1),t>100&&(t=100),t=t<50?5e3/t:200-2*t,this._YQT=new Int32Array(32),this._UVQT=new Int32Array(32);for(var e=0;e<64;e++){var r=parseInt((h[e]*t+50)/100);r<=0&&(r=1),r>255&&(r=255),this._YQT[e]=r}for(var n=0,e=0;e<8;e++)for(var i=0;i<8;i++)this._divisorsLuminance[n]=1/(this._YQT[n]*c[e]*c[i]*8),n++;for(var i=0;i<64;i++){var o=parseInt((f[i]*t+50)/100);o<=0&&(o=1),o>=255&&(o=255),this._UVQT[i]=o}for(n=0,e=0;e<8;e++)for(i=0;i<8;i++)this._divisorsChrominance[n]=1/(this._UVQT[n]*c[e]*c[i]*8),n++;this._divisors[0]=this._divisorsLuminance,this._divisors[1]=this._divisorsChrominance,this._quantum[0]=this._YQT,this._quantum[1]=this._UVQT},i.prototype.forwardDCT=function(t){var e,r,n,i,o,s,a,u,l,c=t.map(function(t){return t-128}),h=0;for(l=0;l<8;l++){e=c[h],r=c[h+1],n=c[h+2],i=c[h+3],o=c[h+4],s=c[h+5],a=c[h+6],u=c[h+7];var f=e+u,p=e-u,_=r+a,d=r-a,v=n+s,m=n-s,g=i+o,y=i-o;b=f+g,w=f-g,C=_+v,k=_-v;var b=f+g,w=f-g,C=_+v,k=_-v;c[h]=b+C,c[h+4]=b-C;var x=.707106781*(k+w);c[h+2]=w+x,c[h+6]=w-x,b=y+m,C=m+d,k=d+p;var A=.382683433*(b-k),E=.5411961*b+A,j=1.306562965*k+A,P=.707106781*C,T=p+P,S=p-P;c[h+5]=S+E,c[h+3]=S-E,c[h+1]=T+j,c[h+7]=T-j,h+=8}for(h=0,l=0;l<8;l++){e=c[h],r=c[h+8],n=c[h+16],i=c[h+24],o=c[h+32],s=c[h+40],a=c[h+48],u=c[h+56];var F=e+u,B=e-u,D=r+a,M=r-a,R=n+s,O=n-s,I=i+o,N=i-o,U=F+I,z=F-I,L=D+R,H=D-R;c[h]=U+L,c[h+32]=U-L;var q=.707106781*(H+z);c[h+16]=z+q,c[h+48]=z-q,U=N+O,L=O+M,H=M+B;var V=.382683433*(U-H),Y=.5411961*U+V,Q=1.306562965*H+V,W=.707106781*L,G=B+W,K=B-W;c[h+40]=K+Y,c[h+24]=K-Y,c[h+8]=G+Q,c[h+56]=G-Q,h++}return c},i.prototype.quantizeBlock=function(t,e){for(var r=new Int32Array(64),n=0;n<64;n++)r[n]=Math.round(t[n]*this._divisors[e][n]);return r},o.jpegNaturalOrder=new Uint32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),o.prototype._bufferPutBits=null,o.prototype._bufferPutBuffer=null,o.prototype._imageHeight=null,o.prototype._imageWidth=null,o.prototype._DC_matrix0=null,o.prototype._AC_matrix0=null,o.prototype._DC_matrix1=null,o.prototype._AC_matrix1=null,o.prototype._DC_matrix=null,o.prototype._AC_matrix=null,o.prototype._code=null,o.prototype._bitsDCluminance=null,o.prototype._valDCluminance=null,o.prototype._bitsDCchrominance=null,o.prototype._valDCchrominance=null,o.prototype._bitsACluminance=null,o.prototype._valACluminance=null,o.prototype._bitsACchrominance=null,o.prototype._valACchrominance=null,o.prototype._bits=null,o.prototype._val=null,o.prototype._initHuf=function(){this._DC_matrix0=[],this._DC_matrix1=[],this._AC_matrix0=[],this._AC_matrix1=[],this._DC_matrix=[],this._AC_matrix=[];var t,e,r,n,i,o,s=a(257),u=a(257);for(t=0,e=1;e<=16;e++)for(r=1;r<=this._bitsDCchrominance[e];r++)s[t++]=e;for(s[t]=0,n=t,o=0,i=s[0],t=0;0!=s[t];){for(;s[t]==i;)u[t++]=o,o++;o<<=1,i++}for(t=0;t<n;t++)this._DC_matrix1[this._valDCchrominance[t]]||(this._DC_matrix1[this._valDCchrominance[t]]=[]),this._DC_matrix1[this._valDCchrominance[t]][0]=u[t],this._DC_matrix1[this._valDCchrominance[t]][1]=s[t];for(t=0,e=1;e<=16;e++)for(r=1;r<=this._bitsACchrominance[e];r++)s[t++]=e;for(s[t]=0,n=t,o=0,i=s[0],t=0;0!=s[t];){for(;s[t]==i;)u[t++]=o,o++;o<<=1,i++}for(t=0;t<n;t++)this._AC_matrix1[this._valACchrominance[t]]||(this._AC_matrix1[this._valACchrominance[t]]=[]),this._AC_matrix1[this._valACchrominance[t]][0]=u[t],this._AC_matrix1[this._valACchrominance[t]][1]=s[t];for(t=0,e=1;e<=16;e++)for(r=1;r<=this._bitsDCluminance[e];r++)s[t++]=e;for(s[t]=0,n=t,o=0,i=s[0],t=0;0!=s[t];){for(;s[t]==i;)u[t++]=o,o++;o<<=1,i++}for(t=0;t<n;t++)this._DC_matrix0[this._valDCluminance[t]]||(this._DC_matrix0[this._valDCluminance[t]]=[]),this._DC_matrix0[this._valDCluminance[t]][0]=u[t],this._DC_matrix0[this._valDCluminance[t]][1]=s[t];for(t=0,e=1;e<=16;e++)for(r=1;r<=this._bitsACluminance[e];r++)s[t++]=e;for(s[t]=0,n=t,o=0,i=s[0],t=0;0!=s[t];){for(;s[t]==i;)u[t++]=o,o++;o<<=1,i++}for(var l=0;l<n;l++)this._AC_matrix0[this._valACluminance[l]]||(this._AC_matrix0[this._valACluminance[l]]=[]),this._AC_matrix0[this._valACluminance[l]][0]=u[l],this._AC_matrix0[this._valACluminance[l]][1]=s[l];this._DC_matrix[0]=this._DC_matrix0,this._DC_matrix[1]=this._DC_matrix1,this._AC_matrix[0]=this._AC_matrix0,this._AC_matrix[1]=this._AC_matrix1},o.prototype.blockEncoder=function(t,e,r,n,i){var s,a,u,l,c,h;for(s=a=e[0]-r,s<0&&(s=-s,a--),u=0;0!=s;)u++,s>>=1;for(this._bufferIt(t,this._DC_matrix[n][u][0],this._DC_matrix[n][u][1]),0!=u&&this._bufferIt(t,a,u),c=0,l=1;l<64;l++)if(0==(s=e[o.jpegNaturalOrder[l]]))c++;else{for(;c>15;)this._bufferIt(t,this._AC_matrix[i][240][0],this._AC_matrix[i][240][1]),c-=16;for(a=s,s<0&&(s=-s,a--),u=1;0!=(s>>=1);)u++;h=(c<<4)+u,this._bufferIt(t,this._AC_matrix[i][h][0],this._AC_matrix[i][h][1]),this._bufferIt(t,a,u),c=0}c>0&&this._bufferIt(t,this._AC_matrix[i][0][0],this._AC_matrix[i][0][1])},o.prototype._bufferIt=function(t,e,r){var n=e,i=this._bufferPutBits;for(n&=(1<<r)-1,i+=r,n<<=24-i,n|=this._bufferPutBuffer;i>=8;){var o=n>>16&255;t.writeByte(o),255==o&&t.writeByte(0),n<<=8,i-=8}this._bufferPutBuffer=n,this._bufferPutBits=i},o.prototype.flushBuffer=function(t){for(var e=this._bufferPutBuffer,r=this._bufferPutBits;r>=8;){var n=e>>16&255;t.writeByte(n),255==n&&t.writeByte(0),e<<=8,r-=8}if(r>0){var n=e>>16&255;t.writeByte(n)}},s.prototype.ss=0,s.prototype.se=63,s.prototype.ah=0,s.prototype.al=0,s.prototype.precision=8,s.prototype._imageBuffer=null,s.prototype._imageHeight=null,s.prototype._imageWidth=null,s.prototype._colorspace=null,s.prototype._blockWidth=null,s.prototype._blockHeight=null,s.prototype._numberOfComponents=null,s.prototype._componentsId=null,s.prototype._hsampFactor=null,s.prototype._vsampFactor=null,s.prototype._qtableNumber=null,s.prototype._dctableNumber=null,s.prototype._actableNumber=null,s.prototype._lastColumnIsDummy=null,s.prototype._lastRowIsDummy=null,s.prototype._compWidth=null,s.prototype._compHeight=null,s.prototype._maxHsampFactor=null,s.prototype._maxVsampFactor=null,s.prototype._init=function(){this._colorspace.init(this);var t;for(t=0;t<this._numberOfComponents;t++)this._maxHsampFactor=Math.max(this._maxHsampFactor,this._hsampFactor[t]),this._maxVsampFactor=Math.max(this._maxVsampFactor,this._vsampFactor[t]);for(t=0;t<this._numberOfComponents;t++)this._compWidth[t]=(this._imageWidth%8!=0?8*Math.ceil(this._imageWidth/8):this._imageWidth)/this._maxHsampFactor*this._hsampFactor[t],this._compWidth[t]!=this._imageWidth/this._maxHsampFactor*this._hsampFactor[t]&&(this._lastColumnIsDummy[t]=!0),this._blockWidth[t]=Math.ceil(this._compWidth[t]/8),this._compHeight[t]=(this._imageHeight%8!=0?8*Math.ceil(this._imageHeight/8):this._imageHeight)/this._maxVsampFactor*this._vsampFactor[t],this._compHeight[t]!=this._imageHeight/this._maxVsampFactor*this._vsampFactor[t]&&(this._lastRowIsDummy[t]=!0),this._blockHeight[t]=Math.ceil(this._compHeight[t]/8)},s.prototype.getPixel=function(t,e){var r=t+this._imageWidth*e;return this._imageBuffer[r]},t.exports=n},598:function(t,e){t.exports=require("path")},599:function(t,e){function r(t){this._bytePosition=0,this._buffer=new Uint8ClampedArray(t)}r.prototype._bytePosition=0,r.prototype._buffer=null,r.prototype.getBytePosition=function(){return this._bytePosition},r.prototype.writeByte=function(t){this._ensureCapacity(this._bytePosition+1),this._buffer.set([t],this._bytePosition++)},r.prototype.writeWord=function(t){this.writeByte(t>>8&255),this.writeByte(255&t)},r.prototype.writeArray=function(t){this._ensureCapacity(this._bytePosition+t.length),this._buffer.set(t,this._bytePosition),this._bytePosition+=t.length},r.prototype._ensureCapacity=function(t){if(t>this._buffer.byteLength){var e=Math.ceil(3*this._buffer.byteLength/2+1);e=Math.max(e,t);var r=this._buffer;this._buffer=new Uint8ClampedArray(e),this._buffer.set(r)}},r.prototype.getBuffer=function(){return this._buffer.slice(0,this._bytePosition)},t.exports=r},784:function(t,e,r){(function(t){function n(t,e){this._id=t,this._clearFn=e}var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;e.setTimeout=function(){return new n(o.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new n(o.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},r(803),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(e,r(111))},785:function(t,e,r){function n(){}var i=r(378),o=r(5),s=r(591);n.prototype.concurrencyRaster=function(t,e,r,n,a,u,l){var c=new Uint32Array(r),h=c.length,f=Math.floor(h/e.length)-Math.floor(h/e.length)%4,p=h-f*e.length,_=Object.keys(i).find(function(t){return i[t]===u});return t.createPromise(function(t,r){s.all(e.map(function(t,r){return new s(function(i,s){var u,h={start:r*f,end:r*f+f};if(r===e.length-1&&p>0){var d=p+10-(p+10)%4,v=new Uint32Array(h.end-h.start+d);v.set(c.slice(h.start,h.end),0),h.end+=p,u=v.buffer}else u=c.slice(h.start,h.end).buffer;var m=o.uuid();t.postMessage({uuid:m,index:r,command:"raster",dataBuffer:u,range:h,colorspace:_,hasMask:l,width:n,height:a},[u]),u=null;var g=function(e){var r=e.data;r.uuid===m&&"raster"===r.command&&(t.removeEventListener("message",g),t.removeEventListener("error",y),i(r))},y=function(e){t.removeEventListener("message",g),t.removeEventListener("error",y),s(e)};t.addEventListener("message",g),t.addEventListener("error",y)})})).then(function(e){var r=new Uint8ClampedArray(n*a*u.length),i=l?null:new Uint8ClampedArray(n*a),s=0,c=0,h=!1;o.bubbleSort(e,function(t,e){return t.index-e.index}).forEach(function(t){r.set(new Uint8ClampedArray(t.imageBuffer),s),s+=t.imageBuffer.byteLength,!l&&t.smaskBuffer&&(i.set(new Uint8ClampedArray(t.smaskBuffer),c),c+=t.smaskBuffer.byteLength),h=h||t.hasTransparency,delete t.imageBuffer,delete t.smaskBuffer}),t([r,h?i:null])}).catch(r)})},n.prototype.raster=function(t,e,r,n){for(var i=0,o=0,s=!1,a=new Uint32Array(t),u=0,l=a.length;u<l;u++){var c=a[u],h=255&c,f=c>>8&255,p=c>>16&255,_=c>>24&255;if(i>=r.length)break;r.set(e.fromRGBA(h,f,p,_),i),i+=e.length,n&&(n[o++]=_,_<255&&(s=!0))}return s},t.exports=n},786:function(t,e,r){function n(){}var i=r(261),o=r(5);n.prototype.concurrencyEncode=function(t,e,r){return t.createPromise(function(t,n){var i=e[0],s=o.uuid();i.postMessage({uuid:s,command:"zipencoder",buffer:r},[r]);var a=function(t){i.removeEventListener("message",u),i.removeEventListener("error",a),n(t)},u=function(e){var r=e.data;r.uuid===s&&"zipencoder"===r.command&&(i.removeEventListener("message",u),i.removeEventListener("error",a),t(r.buffer))};i.addEventListener("message",u),i.addEventListener("error",a)})},n.prototype.encode=function(t){return i.deflate(t)},t.exports=n},787:function(t,e){function r(){}r.prototype.profileFormatVersionMajor=null,r.prototype.profileFormatVersionMinor=null,r.prototype.colorSpace=null,r.prototype.deviceClass=null,r.prototype.PCS=null,r.prototype.flags=null,r.prototype.intent=null,r.prototype.XYZIlluminant=null,r.prototype.AtoB1InputChange=null,r.prototype.AtoB1CLUTNumPts=null,r.prototype.AtoB1CLUT=null,r.prototype.AtoB1OutputChange=null,r.prototype.AtoB1normalizationRange=null,r.prototype.BtoA1InputChange=null,r.prototype.BtoA1CLUTNumPts=null,r.prototype.BtoA1CLUT=null,r.prototype.BtoA1OutputChange=null,r.prototype.BtoA1normalizationRange=null,t.exports=r},788:function(t,e,r){function n(){}var i=r(787),o=r(10);n.HEADER_LENGTH=128,n.VersionMajor={v2:2,v4:4},n.DeviceClass={Input:1935896178,Display:1835955314,Output:1886549106,DeviceLink:1818848875,ColorSpaceConv:1936744803,Abstract:1633842036,NamedColor:1852662636},n.ColorSpace={XYZ:1482250784,Lab:1281450528,Luv:1282766368,YCbCr:1497588338,Yxy:1501067552,Rgb:1380401696,Gray:1196573017,Hsv:1213421088,Hls:1212961568,Cmyk:1129142603,Cmy:1129142560,Clr2:843271250,Clr3:860048466,Clr4:876825682,Clr5:893602898,Clr6:910380114,Clr7:927157330,Clr8:943934546,Clr9:960711762,ClrA:1094929490,ClrB:1111706706,ClrC:1128483922,ClrD:1145261138,ClrE:1162038354,ClrF:1178815570},n.PCS={XYZ:1482250784,Lab:1281450528},n.Flags={Embedded:1,NotIndependent:2},n.Intent={Perceptual:0,MediaRelCol:1,Saturation:2,ICCAbsoluteCol:3},n.D50=[.9642,1,.8249],n.Tags={AToB0:1093812784,AToB1:1093812785,AToB2:1093812786,BlueColorant:1649957210,BlueTRC:1649693251,BToA0:1110589744,BToA1:1110589745,BToA2:1110589746,CalibrationDateTime:1667329140,CharTarget:1952543335,ChromaticAdaptation:1667785060,Chromaticity:1667789421,Copyright:1668313716,CrdInfo:1668441193,DeviceMfgDesc:1684893284,DeviceModelDesc:1684890724,DeviceSettings:1684371059,Gamut:1734438260,GrayTRC:1800688195,GreenColorant:1733843290,GreenTRC:1733579331,Luminance:1819635049,Measurement:1835360627,MediaBlackPoint:1651208308,MediaWhitePoint:2004119668,NamedColor:1852010348,NamedColor2:1852009522,OutputResponse:1919251312,Preview0:1886545200,Preview1:1886545201,Preview2:1886545202,ProfileDescription:1684370275,ProfileSequenceDesc:1886610801,Ps2CRD0:1886610480,Ps2CRD1:1886610481,Ps2CRD2:1886610482,Ps2CRD3:1886610483,Ps2CSA:1886597747,Ps2RenderingIntent:1886597737,RedColorant:1918392666,RedTRC:1918128707,ScreeningDesc:1935897188,Screening:1935897198,Technology:1952801640,UcrBg:1650877472,ViewingCondDesc:1987405156,ViewingConditions:1986618743},n.MFTType={Mft1:1835430961,Mft2:1835430962},n.MFTHeaderData=function(){},n.MFTHeaderData.prototype.numInputChannels=null,n.MFTHeaderData.prototype.numOutputChannels=null,n.MFTHeaderData.prototype.numCLUTGridPts=null,n.MFTHeaderData.prototype.numInputTEntries=null,n.MFTHeaderData.prototype.numOutputTEntries=null,n.prototype.read=function(t,e,r){if(t&&t.byteLength<=n.HEADER_LENGTH+4)return void e(null);var s=new i,a=new DataView(t,0,n.HEADER_LENGTH+4),u=a.getUint32(0);s.profileFormatVersionMajor=a.getUint8(8),s.profileFormatVersionMinor=a.getUint8(9)>>4,s.deviceClass=a.getUint32(12),s.colorSpace=a.getUint32(16),s.PCS=a.getUint32(20),s.Flags=a.getUint16(44),s.intent=a.getUint16(64);var l=this.readS15Fixed16Number(a,68),c=this.readS15Fixed16Number(a,72),h=this.readS15Fixed16Number(a,76);if(s.illuminant=[l,c,h],u!=t.byteLength||s.profileFormatVersionMajor!=n.VersionMajor.v2||s.deviceClass!=n.DeviceClass.Output||s.colorSpace!=n.ColorSpace.Cmyk||s.PCS!=n.PCS.Lab||0!=(s.Flags&n.Flags.Embedded)||0!=(s.Flags&n.Flags.NotIndependent)||!o.isEqualEps(s.illuminant[0],n.D50[0],1e-4)||!o.isEqualEps(s.illuminant[1],n.D50[1],1e-4)||!o.isEqualEps(s.illuminant[2],n.D50[2],1e-4))return void e(null);var f=a.getUint32(n.HEADER_LENGTH);if(u>n.HEADER_LENGTH+4+12*f)for(var p=new DataView(t,n.HEADER_LENGTH+4,12*f),_=0,d=0;_<f;++_,d+=12){var v=p.getUint32(d),m=p.getUint32(d+4),g=p.getUint32(d+8);if(0==(3&m)&&u>=m+g)switch(v){case n.Tags.AToB1:case n.Tags.BToA1:this.readLuts(t,m,g,s,v)}}e(null!=s.AtoB1CLUT&&null!=s.BtoA1CLUT?s:null)},n.prototype.readS15Fixed16Number=function(t,e){return t.getInt16(e)+t.getUint16(e+2)/65536},n.prototype.readLuts=function(t,e,r,i,o){var s=new DataView(t,e,4),a=s.getUint32(0);if(a==n.MFTType.Mft2){var u=new DataView(t,e,52),l=new n.MFTHeaderData;this.readMFTHeaderData(u,a,l);var c=l.numInputChannels*l.numInputTEntries,h=2*c,f=Math.pow(l.numCLUTGridPts,l.numInputChannels)*l.numOutputChannels,p=2*f,_=l.numOutputChannels*l.numOutputTEntries,d=2*_,v=new DataView(t,e+52,h),m=new DataView(t,e+52+h,p),g=new DataView(t,e+52+h+p,d);o==n.Tags.AToB1?(i.AtoB1CLUTNumPts=l.numCLUTGridPts,i.AtoB1InputChange=this.readUint16Table(v,c),i.AtoB1CLUT=this.readUint16Table(m,f),i.AtoB1OutputChange=this.readUint16Table(g,_),i.AtoB1normalizationRange=65535):o==n.Tags.BToA1&&(i.BtoA1CLUTNumPts=l.numCLUTGridPts,i.BtoA1InputChange=this.readUint16Table(v,c),i.BtoA1CLUT=this.readUint16Table(m,f),i.BtoA1OutputChange=this.readUint16Table(g,_),i.BtoA1normalizationRange=65535)}else if(a==n.MFTType.Mft1){var y=new DataView(t,e,48),l=new n.MFTHeaderData;this.readMFTHeaderData(y,a,l);var c=256*l.numInputChannels,f=Math.pow(l.numCLUTGridPts,l.numInputChannels)*l.numOutputChannels,_=256*l.numOutputChannels,b=new Uint8Array(t,e+48,c),w=new Uint8Array(t,e+48+c,f),C=new Uint8Array(t,e+48+c+f,_);o==n.Tags.AToB1?(i.AtoB1CLUTNumPts=l.numCLUTGridPts,i.AtoB1InputChange=b,i.AtoB1CLUT=w,i.AtoB1OutputChange=C,i.AtoB1normalizationRange=255):o==n.Tags.BToA1&&(i.BtoA1CLUTNumPts=l.numCLUTGridPts,i.BtoA1InputChange=b,i.BtoA1CLUT=w,i.BtoA1OutputChange=C,i.BtoA1normalizationRange=255)}},n.prototype.readMFTHeaderData=function(t,e,r){r.numInputChannels=t.getUint8(8),r.numOutputChannels=t.getUint8(9),r.numCLUTGridPts=t.getUint8(10),e==n.MFTType.Mft2&&(r.numInputTEntries=t.getUint16(48),r.numOutputTEntries=t.getUint16(50))},n.prototype.readUint16Table=function(t,e){for(var r=new Uint16Array(e),n=0;n<e;++n)r[n]=t.getUint16(2*n);return r},t.exports=n},79:function(t,e,r){var n=r(5),i=r(439),o=r(36),s=r(0),a=function(t){this.array=[],t&&this.push(t)};s.inherit(a,o),a.prototype.push=function(t){if(Array.isArray(t)){var e=this;n.each(t,function(t,r){e.push(r)})}else this.array.push(new i(t))},a.prototype.equals=function(t){return t instanceof a&&this.size()===t.size()&&this.array.every(function(e,r){return e.getValue()===t.array[r].getValue()})},a.prototype.size=function(){return this.array.length},a.prototype.forEach=function(t){this.array.forEach(t)},a.prototype.write=function(t){t.write("[ "),n.each(this.array,function(e,r){r.write(t),t.write(" ")}),t.write("]")},t.exports=a},791:function(t,e,r){var n=r(474),i=r(0),o=r(112),s=r(429),a=r(413),u=r(79),l=function(t){var e=1;if(t instanceof o)t=t.getValue();else if("string"==typeof t&&0===t.indexOf("cmyk")){var r=t.match(/\d+(\.\d+)?/g),i=r.map(function(t){return parseFloat(t)});t=i.slice(0,4),5==i.length&&(e=i[4])}if(Array.isArray(t))this._cmyk=t,this._alpha=e;else{var s=new n(t);this._cmyk=a.rgbToCMYK(s.asRGBA()),this._alpha=s.getAlpha()}};i.inheritAndMix(l,s,[a]),l.prototype.getAlpha=function(){return this._alpha},l.prototype.asArray=function(){return new u([this._cmyk[0]||0,this._cmyk[1]||0,this._cmyk[2]||0,this._cmyk[3]||0])},t.exports=l},792:function(t,e,r){var n=r(474),i=r(0),o=r(429),s=r(413),a=r(79),u=function(t){this._alpha=new n(t).getAlpha()};i.inheritAndMix(u,o,[s]),u.prototype.getAlpha=function(){return this._alpha},u.prototype.asArray=function(){return new a([this._alpha])},t.exports=u},793:function(t,e,r){var n=r(36),i=r(177),o=r(0),s=function(t){this.primitve=t};o.inherit(s,n),s.prototype.write=function(t){var e=this.primitve;"number"==typeof e&&(e=i.normalizeNumber(e)),t.write(e)},t.exports=s},794:function(t,e,r){"use strict";function n(t){if(!(this instanceof n))return new n(t);this.options=u.assign({level:_,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var r=a.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==p)throw new Error(c[r]);if(e.header&&a.deflateSetHeader(this.strm,e.header),e.dictionary){var i;if(i="string"==typeof e.dictionary?l.string2buf(e.dictionary):"[object ArrayBuffer]"===f.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(r=a.deflateSetDictionary(this.strm,i))!==p)throw new Error(c[r]);this._dict_set=!0}}function i(t,e){var r=new n(e);if(r.push(t,!0),r.err)throw r.msg||c[r.err];return r.result}function o(t,e){return e=e||{},e.raw=!0,i(t,e)}function s(t,e){return e=e||{},e.gzip=!0,i(t,e)}var a=r(796),u=r(133),l=r(592),c=r(477),h=r(596),f=Object.prototype.toString,p=0,_=-1,d=0,v=8;n.prototype.push=function(t,e){var r,n,i=this.strm,o=this.options.chunkSize;if(this.ended)return!1;n=e===~~e?e:!0===e?4:0,"string"==typeof t?i.input=l.string2buf(t):"[object ArrayBuffer]"===f.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new u.Buf8(o),i.next_out=0,i.avail_out=o),1!==(r=a.deflate(i,n))&&r!==p)return this.onEnd(r),this.ended=!0,!1;0!==i.avail_out&&(0!==i.avail_in||4!==n&&2!==n)||("string"===this.options.to?this.onData(l.buf2binstring(u.shrinkBuf(i.output,i.next_out))):this.onData(u.shrinkBuf(i.output,i.next_out)))}while((i.avail_in>0||0===i.avail_out)&&1!==r);return 4===n?(r=a.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===p):2!==n||(this.onEnd(p),i.avail_out=0,!0)},n.prototype.onData=function(t){this.chunks.push(t)},n.prototype.onEnd=function(t){t===p&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=n,e.deflate=i,e.deflateRaw=o,e.gzip=s},795:function(t,e,r){"use strict";function n(t){if(!(this instanceof n))return new n(t);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var r=s.inflateInit2(this.strm,e.windowBits);if(r!==l.Z_OK)throw new Error(c[r]);this.header=new f,s.inflateGetHeader(this.strm,this.header)}function i(t,e){var r=new n(e);if(r.push(t,!0),r.err)throw r.msg||c[r.err];return r.result}function o(t,e){return e=e||{},e.raw=!0,i(t,e)}var s=r(799),a=r(133),u=r(592),l=r(594),c=r(477),h=r(596),f=r(797),p=Object.prototype.toString;n.prototype.push=function(t,e){var r,n,i,o,c,h,f=this.strm,_=this.options.chunkSize,d=this.options.dictionary,v=!1;if(this.ended)return!1;n=e===~~e?e:!0===e?l.Z_FINISH:l.Z_NO_FLUSH,"string"==typeof t?f.input=u.binstring2buf(t):"[object ArrayBuffer]"===p.call(t)?f.input=new Uint8Array(t):f.input=t,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new a.Buf8(_),f.next_out=0,f.avail_out=_),r=s.inflate(f,l.Z_NO_FLUSH),r===l.Z_NEED_DICT&&d&&(h="string"==typeof d?u.string2buf(d):"[object ArrayBuffer]"===p.call(d)?new Uint8Array(d):d,r=s.inflateSetDictionary(this.strm,h)),r===l.Z_BUF_ERROR&&!0===v&&(r=l.Z_OK,v=!1),r!==l.Z_STREAM_END&&r!==l.Z_OK)return this.onEnd(r),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&r!==l.Z_STREAM_END&&(0!==f.avail_in||n!==l.Z_FINISH&&n!==l.Z_SYNC_FLUSH)||("string"===this.options.to?(i=u.utf8border(f.output,f.next_out),o=f.next_out-i,c=u.buf2string(f.output,i),f.next_out=o,f.avail_out=_-o,o&&a.arraySet(f.output,f.output,i,o,0),this.onData(c)):this.onData(a.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(v=!0)}while((f.avail_in>0||0===f.avail_out)&&r!==l.Z_STREAM_END);return r===l.Z_STREAM_END&&(n=l.Z_FINISH),n===l.Z_FINISH?(r=s.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===l.Z_OK):n!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),f.avail_out=0,!0)},n.prototype.onData=function(t){this.chunks.push(t)},n.prototype.onEnd=function(t){t===l.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=n,e.inflate=i,e.inflateRaw=o,e.ungzip=i},796:function(t,e,r){"use strict";function n(t,e){return t.msg=M[e],e}function i(t){return(t<<1)-(t>4?9:0)}function o(t){for(var e=t.length;--e>=0;)t[e]=0}function s(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(S.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))}function a(t,e){F._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,s(t.strm)}function u(t,e){t.pending_buf[t.pending++]=e}function l(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function c(t,e,r,n){var i=t.avail_in;return i>n&&(i=n),0===i?0:(t.avail_in-=i,S.arraySet(e,t.input,t.next_in,i,r),1===t.state.wrap?t.adler=B(t.adler,e,i,r):2===t.state.wrap&&(t.adler=D(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)}function h(t,e){var r,n,i=t.max_chain_length,o=t.strstart,s=t.prev_length,a=t.nice_match,u=t.strstart>t.w_size-lt?t.strstart-(t.w_size-lt):0,l=t.window,c=t.w_mask,h=t.prev,f=t.strstart+ut,p=l[o+s-1],_=l[o+s];t.prev_length>=t.good_match&&(i>>=2),a>t.lookahead&&(a=t.lookahead);do{if(r=e,l[r+s]===_&&l[r+s-1]===p&&l[r]===l[o]&&l[++r]===l[o+1]){o+=2,r++;do{}while(l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&l[++o]===l[++r]&&o<f);if(n=ut-(f-o),o=f-ut,n>s){if(t.match_start=e,s=n,n>=a)break;p=l[o+s-1],_=l[o+s]}}}while((e=h[e&c])>u&&0!=--i);return s<=t.lookahead?s:t.lookahead}function f(t){var e,r,n,i,o,s=t.w_size;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=s+(s-lt)){S.arraySet(t.window,t.window,s,s,0),t.match_start-=s,t.strstart-=s,t.block_start-=s,r=t.hash_size,e=r;do{n=t.head[--e],t.head[e]=n>=s?n-s:0}while(--r);r=s,e=r;do{n=t.prev[--e],t.prev[e]=n>=s?n-s:0}while(--r);i+=s}if(0===t.strm.avail_in)break;if(r=c(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=r,t.lookahead+t.insert>=at)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+at-1])&t.hash_mask,t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<at)););}while(t.lookahead<lt&&0!==t.strm.avail_in)}function p(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(f(t),0===t.lookahead&&e===R)return gt;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+r;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,a(t,!1),0===t.strm.avail_out))return gt;if(t.strstart-t.block_start>=t.w_size-lt&&(a(t,!1),0===t.strm.avail_out))return gt}return t.insert=0,e===N?(a(t,!0),0===t.strm.avail_out?bt:wt):(t.strstart>t.block_start&&(a(t,!1),t.strm.avail_out),gt)}function _(t,e){for(var r,n;;){if(t.lookahead<lt){if(f(t),t.lookahead<lt&&e===R)return gt;if(0===t.lookahead)break}if(r=0,t.lookahead>=at&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+at-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-lt&&(t.match_length=h(t,r)),t.match_length>=at)if(n=F._tr_tally(t,t.strstart-t.match_start,t.match_length-at),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=at){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+at-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=F._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(a(t,!1),0===t.strm.avail_out))return gt}return t.insert=t.strstart<at-1?t.strstart:at-1,e===N?(a(t,!0),0===t.strm.avail_out?bt:wt):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?gt:yt}function d(t,e){for(var r,n,i;;){if(t.lookahead<lt){if(f(t),t.lookahead<lt&&e===R)return gt;if(0===t.lookahead)break}if(r=0,t.lookahead>=at&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+at-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=at-1,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-lt&&(t.match_length=h(t,r),t.match_length<=5&&(t.strategy===Q||t.match_length===at&&t.strstart-t.match_start>4096)&&(t.match_length=at-1)),t.prev_length>=at&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-at,n=F._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-at),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+at-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=at-1,t.strstart++,n&&(a(t,!1),0===t.strm.avail_out))return gt}else if(t.match_available){if(n=F._tr_tally(t,0,t.window[t.strstart-1]),n&&a(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return gt}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=F._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<at-1?t.strstart:at-1,e===N?(a(t,!0),0===t.strm.avail_out?bt:wt):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?gt:yt}function v(t,e){for(var r,n,i,o,s=t.window;;){if(t.lookahead<=ut){if(f(t),t.lookahead<=ut&&e===R)return gt;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=at&&t.strstart>0&&(i=t.strstart-1,(n=s[i])===s[++i]&&n===s[++i]&&n===s[++i])){o=t.strstart+ut;do{}while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<o);t.match_length=ut-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=at?(r=F._tr_tally(t,1,t.match_length-at),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=F._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(a(t,!1),0===t.strm.avail_out))return gt}return t.insert=0,e===N?(a(t,!0),0===t.strm.avail_out?bt:wt):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?gt:yt}function m(t,e){for(var r;;){if(0===t.lookahead&&(f(t),0===t.lookahead)){if(e===R)return gt;break}if(t.match_length=0,r=F._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(a(t,!1),0===t.strm.avail_out))return gt}return t.insert=0,e===N?(a(t,!0),0===t.strm.avail_out?bt:wt):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?gt:yt}function g(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}function y(t){t.window_size=2*t.w_size,o(t.head),t.max_lazy_match=T[t.level].max_lazy,t.good_match=T[t.level].good_length,t.nice_match=T[t.level].nice_length,t.max_chain_length=T[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=at-1,t.match_available=0,t.ins_h=0}function b(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=J,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new S.Buf16(2*ot),this.dyn_dtree=new S.Buf16(2*(2*nt+1)),this.bl_tree=new S.Buf16(2*(2*it+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new S.Buf16(st+1),this.heap=new S.Buf16(2*rt+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new S.Buf16(2*rt+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function w(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=X,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?ht:vt,t.adler=2===e.wrap?0:1,e.last_flush=R,F._tr_init(e),z):n(t,H)}function C(t){var e=w(t);return e===z&&y(t.state),e}function k(t,e){return t&&t.state?2!==t.state.wrap?H:(t.state.gzhead=e,z):H}function x(t,e,r,i,o,s){if(!t)return H;var a=1;if(e===Y&&(e=6),i<0?(a=0,i=-i):i>15&&(a=2,i-=16),o<1||o>$||r!==J||i<8||i>15||e<0||e>9||s<0||s>K)return n(t,H);8===i&&(i=9);var u=new b;return t.state=u,u.strm=t,u.wrap=a,u.gzhead=null,u.w_bits=i,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+at-1)/at),u.window=new S.Buf8(2*u.w_size),u.head=new S.Buf16(u.hash_size),u.prev=new S.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new S.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=s,u.method=r,C(t)}function A(t,e){return x(t,e,J,tt,et,Z)}function E(t,e){var r,a,c,h;if(!t||!t.state||e>U||e<0)return t?n(t,H):H;if(a=t.state,!t.output||!t.input&&0!==t.avail_in||a.status===mt&&e!==N)return n(t,0===t.avail_out?V:H);if(a.strm=t,r=a.last_flush,a.last_flush=e,a.status===ht)if(2===a.wrap)t.adler=0,u(a,31),u(a,139),u(a,8),a.gzhead?(u(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),u(a,255&a.gzhead.time),u(a,a.gzhead.time>>8&255),u(a,a.gzhead.time>>16&255),u(a,a.gzhead.time>>24&255),u(a,9===a.level?2:a.strategy>=W||a.level<2?4:0),u(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(u(a,255&a.gzhead.extra.length),u(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(t.adler=D(t.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=ft):(u(a,0),u(a,0),u(a,0),u(a,0),u(a,0),u(a,9===a.level?2:a.strategy>=W||a.level<2?4:0),u(a,Ct),a.status=vt);else{var f=J+(a.w_bits-8<<4)<<8,p=-1;p=a.strategy>=W||a.level<2?0:a.level<6?1:6===a.level?2:3,f|=p<<6,0!==a.strstart&&(f|=ct),f+=31-f%31,a.status=vt,l(a,f),0!==a.strstart&&(l(a,t.adler>>>16),l(a,65535&t.adler)),t.adler=1}if(a.status===ft)if(a.gzhead.extra){for(c=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>c&&(t.adler=D(t.adler,a.pending_buf,a.pending-c,c)),s(t),c=a.pending,a.pending!==a.pending_buf_size));)u(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>c&&(t.adler=D(t.adler,a.pending_buf,a.pending-c,c)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=pt)}else a.status=pt;if(a.status===pt)if(a.gzhead.name){c=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>c&&(t.adler=D(t.adler,a.pending_buf,a.pending-c,c)),s(t),c=a.pending,a.pending===a.pending_buf_size)){h=1;break}h=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,u(a,h)}while(0!==h);a.gzhead.hcrc&&a.pending>c&&(t.adler=D(t.adler,a.pending_buf,a.pending-c,c)),0===h&&(a.gzindex=0,a.status=_t)}else a.status=_t;if(a.status===_t)if(a.gzhead.comment){c=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>c&&(t.adler=D(t.adler,a.pending_buf,a.pending-c,c)),s(t),c=a.pending,a.pending===a.pending_buf_size)){h=1;break}h=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,u(a,h)}while(0!==h);a.gzhead.hcrc&&a.pending>c&&(t.adler=D(t.adler,a.pending_buf,a.pending-c,c)),0===h&&(a.status=dt)}else a.status=dt;if(a.status===dt&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&s(t),a.pending+2<=a.pending_buf_size&&(u(a,255&t.adler),u(a,t.adler>>8&255),t.adler=0,a.status=vt)):a.status=vt),0!==a.pending){if(s(t),0===t.avail_out)return a.last_flush=-1,z}else if(0===t.avail_in&&i(e)<=i(r)&&e!==N)return n(t,V);if(a.status===mt&&0!==t.avail_in)return n(t,V);if(0!==t.avail_in||0!==a.lookahead||e!==R&&a.status!==mt){var _=a.strategy===W?m(a,e):a.strategy===G?v(a,e):T[a.level].func(a,e);if(_!==bt&&_!==wt||(a.status=mt),_===gt||_===bt)return 0===t.avail_out&&(a.last_flush=-1),z;if(_===yt&&(e===O?F._tr_align(a):e!==U&&(F._tr_stored_block(a,0,0,!1),e===I&&(o(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),s(t),0===t.avail_out))return a.last_flush=-1,z}return e!==N?z:a.wrap<=0?L:(2===a.wrap?(u(a,255&t.adler),u(a,t.adler>>8&255),u(a,t.adler>>16&255),u(a,t.adler>>24&255),u(a,255&t.total_in),u(a,t.total_in>>8&255),u(a,t.total_in>>16&255),u(a,t.total_in>>24&255)):(l(a,t.adler>>>16),l(a,65535&t.adler)),s(t),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?z:L)}function j(t){var e;return t&&t.state?(e=t.state.status)!==ht&&e!==ft&&e!==pt&&e!==_t&&e!==dt&&e!==vt&&e!==mt?n(t,H):(t.state=null,e===vt?n(t,q):z):H}function P(t,e){var r,n,i,s,a,u,l,c,h=e.length;if(!t||!t.state)return H;if(r=t.state,2===(s=r.wrap)||1===s&&r.status!==ht||r.lookahead)return H;for(1===s&&(t.adler=B(t.adler,e,h,0)),r.wrap=0,h>=r.w_size&&(0===s&&(o(r.head),r.strstart=0,r.block_start=0,r.insert=0),c=new S.Buf8(r.w_size),S.arraySet(c,e,h-r.w_size,r.w_size,0),e=c,h=r.w_size),a=t.avail_in,u=t.next_in,l=t.input,t.avail_in=h,t.next_in=0,t.input=e,f(r);r.lookahead>=at;){n=r.strstart,i=r.lookahead-(at-1);do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+at-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++}while(--i);r.strstart=n,r.lookahead=at-1,f(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=at-1,r.match_available=0,t.next_in=u,t.input=l,t.avail_in=a,r.wrap=s,z}var T,S=r(133),F=r(801),B=r(593),D=r(595),M=r(477),R=0,O=1,I=3,N=4,U=5,z=0,L=1,H=-2,q=-3,V=-5,Y=-1,Q=1,W=2,G=3,K=4,Z=0,X=2,J=8,$=9,tt=15,et=8,rt=286,nt=30,it=19,ot=2*rt+1,st=15,at=3,ut=258,lt=ut+at+1,ct=32,ht=42,ft=69,pt=73,_t=91,dt=103,vt=113,mt=666,gt=1,yt=2,bt=3,wt=4,Ct=3;T=[new g(0,0,0,0,p),new g(4,4,8,4,_),new g(4,5,16,8,_),new g(4,6,32,32,_),new g(4,4,16,16,d),new g(8,16,32,32,d),new g(8,16,128,128,d),new g(8,32,128,256,d),new g(32,128,258,1024,d),new g(32,258,258,4096,d)],e.deflateInit=A,e.deflateInit2=x,e.deflateReset=C,e.deflateResetKeep=w,e.deflateSetHeader=k,e.deflate=E,e.deflateEnd=j,e.deflateSetDictionary=P,e.deflateInfo="pako deflate (from Nodeca project)"},797:function(t,e,r){"use strict";function n(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=n},798:function(t,e,r){"use strict";t.exports=function(t,e){var r,n,i,o,s,a,u,l,c,h,f,p,_,d,v,m,g,y,b,w,C,k,x,A,E;r=t.state,n=t.next_in,A=t.input,i=n+(t.avail_in-5),o=t.next_out,E=t.output,s=o-(e-t.avail_out),a=o+(t.avail_out-257),u=r.dmax,l=r.wsize,c=r.whave,h=r.wnext,f=r.window,p=r.hold,_=r.bits,d=r.lencode,v=r.distcode,m=(1<<r.lenbits)-1,g=(1<<r.distbits)-1;t:do{_<15&&(p+=A[n++]<<_,_+=8,p+=A[n++]<<_,_+=8),y=d[p&m];e:for(;;){if(b=y>>>24,p>>>=b,_-=b,0===(b=y>>>16&255))E[o++]=65535&y;else{if(!(16&b)){if(0==(64&b)){y=d[(65535&y)+(p&(1<<b)-1)];continue e}if(32&b){r.mode=12;break t}t.msg="invalid literal/length code",r.mode=30;break t}w=65535&y,b&=15,b&&(_<b&&(p+=A[n++]<<_,_+=8),w+=p&(1<<b)-1,p>>>=b,_-=b),_<15&&(p+=A[n++]<<_,_+=8,p+=A[n++]<<_,_+=8),y=v[p&g];r:for(;;){if(b=y>>>24,p>>>=b,_-=b,!(16&(b=y>>>16&255))){if(0==(64&b)){y=v[(65535&y)+(p&(1<<b)-1)];continue r}t.msg="invalid distance code",r.mode=30;break t}if(C=65535&y,b&=15,_<b&&(p+=A[n++]<<_,(_+=8)<b&&(p+=A[n++]<<_,_+=8)),(C+=p&(1<<b)-1)>u){t.msg="invalid distance too far back",r.mode=30;break t}if(p>>>=b,_-=b,b=o-s,C>b){if((b=C-b)>c&&r.sane){t.msg="invalid distance too far back",r.mode=30;break t}if(k=0,x=f,0===h){if(k+=l-b,b<w){w-=b;do{E[o++]=f[k++]}while(--b);k=o-C,x=E}}else if(h<b){if(k+=l+h-b,(b-=h)<w){w-=b;do{E[o++]=f[k++]}while(--b);if(k=0,h<w){b=h,w-=b;do{E[o++]=f[k++]}while(--b);k=o-C,x=E}}}else if(k+=h-b,b<w){w-=b;do{E[o++]=f[k++]}while(--b);k=o-C,x=E}for(;w>2;)E[o++]=x[k++],E[o++]=x[k++],E[o++]=x[k++],w-=3;w&&(E[o++]=x[k++],w>1&&(E[o++]=x[k++]))}else{k=o-C;do{E[o++]=E[k++],E[o++]=E[k++],E[o++]=E[k++],w-=3}while(w>2);w&&(E[o++]=E[k++],w>1&&(E[o++]=E[k++]))}break}}break}}while(n<i&&o<a);w=_>>3,n-=w,_-=w<<3,p&=(1<<_)-1,t.next_in=n,t.next_out=o,t.avail_in=n<i?i-n+5:5-(n-i),t.avail_out=o<a?a-o+257:257-(o-a),r.hold=p,r.bits=_}},799:function(t,e,r){"use strict";function n(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function i(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new g.Buf16(320),this.work=new g.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=I,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new g.Buf32(dt),e.distcode=e.distdyn=new g.Buf32(vt),e.sane=1,e.back=-1,T):B}function s(t){var e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,o(t)):B}function a(t,e){var r,n;return t&&t.state?(n=t.state,e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?B:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,s(t))):B}function u(t,e){var r,n;return t?(n=new i,t.state=n,n.window=null,r=a(t,e),r!==T&&(t.state=null),r):B}function l(t){return u(t,mt)}function c(t){if(gt){var e;for(v=new g.Buf32(512),m=new g.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(C(x,t.lens,0,288,v,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;C(A,t.lens,0,32,m,0,t.work,{bits:5}),gt=!1}t.lencode=v,t.lenbits=9,t.distcode=m,t.distbits=5}function h(t,e,r,n){var i,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new g.Buf8(o.wsize)),n>=o.wsize?(g.arraySet(o.window,e,r-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>n&&(i=n),g.arraySet(o.window,e,r-n,i,o.wnext),n-=i,n?(g.arraySet(o.window,e,r-n,n,0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}function f(t,e){var r,i,o,s,a,u,l,f,p,_,d,v,m,dt,vt,mt,gt,yt,bt,wt,Ct,kt,xt,At,Et=0,jt=new g.Buf8(4),Pt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return B;r=t.state,r.mode===G&&(r.mode=K),a=t.next_out,o=t.output,l=t.avail_out,s=t.next_in,i=t.input,u=t.avail_in,f=r.hold,p=r.bits,_=u,d=l,kt=T;t:for(;;)switch(r.mode){case I:if(0===r.wrap){r.mode=K;break}for(;p<16;){if(0===u)break t;u--,f+=i[s++]<<p,p+=8}if(2&r.wrap&&35615===f){r.check=0,jt[0]=255&f,jt[1]=f>>>8&255,r.check=b(r.check,jt,2,0),f=0,p=0,r.mode=N;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&f)<<8)+(f>>8))%31){t.msg="incorrect header check",r.mode=ft;break}if((15&f)!==O){t.msg="unknown compression method",r.mode=ft;break}if(f>>>=4,p-=4,Ct=8+(15&f),0===r.wbits)r.wbits=Ct;else if(Ct>r.wbits){t.msg="invalid window size",r.mode=ft;break}r.dmax=1<<Ct,t.adler=r.check=1,r.mode=512&f?Q:G,f=0,p=0;break;case N:for(;p<16;){if(0===u)break t;u--,f+=i[s++]<<p,p+=8}if(r.flags=f,(255&r.flags)!==O){t.msg="unknown compression method",r.mode=ft;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=ft;break}r.head&&(r.head.text=f>>8&1),512&r.flags&&(jt[0]=255&f,jt[1]=f>>>8&255,r.check=b(r.check,jt,2,0)),f=0,p=0,r.mode=U;case U:for(;p<32;){if(0===u)break t;u--,f+=i[s++]<<p,p+=8}r.head&&(r.head.time=f),512&r.flags&&(jt[0]=255&f,jt[1]=f>>>8&255,jt[2]=f>>>16&255,jt[3]=f>>>24&255,r.check=b(r.check,jt,4,0)),f=0,p=0,r.mode=z;case z:for(;p<16;){if(0===u)break t;u--,f+=i[s++]<<p,p+=8}r.head&&(r.head.xflags=255&f,r.head.os=f>>8),512&r.flags&&(jt[0]=255&f,jt[1]=f>>>8&255,r.check=b(r.check,jt,2,0)),f=0,p=0,r.mode=L;case L:if(1024&r.flags){for(;p<16;){if(0===u)break t;u--,f+=i[s++]<<p,p+=8}r.length=f,r.head&&(r.head.extra_len=f),512&r.flags&&(jt[0]=255&f,jt[1]=f>>>8&255,r.check=b(r.check,jt,2,0)),f=0,p=0}else r.head&&(r.head.extra=null);r.mode=H;case H:if(1024&r.flags&&(v=r.length,v>u&&(v=u),v&&(r.head&&(Ct=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),g.arraySet(r.head.extra,i,s,v,Ct)),512&r.flags&&(r.check=b(r.check,i,v,s)),u-=v,s+=v,r.length-=v),r.length))break t;r.length=0,r.mode=q;case q:if(2048&r.flags){if(0===u)break t;v=0;do{Ct=i[s+v++],r.head&&Ct&&r.length<65536&&(r.head.name+=String.fromCharCode(Ct))}while(Ct&&v<u);if(512&r.flags&&(r.check=b(r.check,i,v,s)),u-=v,s+=v,Ct)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=V;case V:if(4096&r.flags){if(0===u)break t;v=0;do{Ct=i[s+v++],r.head&&Ct&&r.length<65536&&(r.head.comment+=String.fromCharCode(Ct))}while(Ct&&v<u);if(512&r.flags&&(r.check=b(r.check,i,v,s)),u-=v,s+=v,Ct)break t}else r.head&&(r.head.comment=null);r.mode=Y;case Y:if(512&r.flags){for(;p<16;){if(0===u)break t;u--,f+=i[s++]<<p,p+=8}if(f!==(65535&r.check)){t.msg="header crc mismatch",r.mode=ft;break}f=0,p=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=G;break;case Q:for(;p<32;){if(0===u)break t;u--,f+=i[s++]<<p,p+=8}t.adler=r.check=n(f),f=0,p=0,r.mode=W;case W:if(0===r.havedict)return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=u,r.hold=f,r.bits=p,F;t.adler=r.check=1,r.mode=G;case G:if(e===j||e===P)break t;case K:if(r.last){f>>>=7&p,p-=7&p,r.mode=lt;break}for(;p<3;){if(0===u)break t;u--,f+=i[s++]<<p,p+=8}switch(r.last=1&f,f>>>=1,p-=1,3&f){case 0:r.mode=Z;break;case 1:if(c(r),r.mode=rt,e===P){f>>>=2,p-=2;break t}break;case 2:r.mode=$;break;case 3:t.msg="invalid block type",r.mode=ft}f>>>=2,p-=2;break;case Z:for(f>>>=7&p,p-=7&p;p<32;){if(0===u)break t;u--,f+=i[s++]<<p,p+=8}if((65535&f)!=(f>>>16^65535)){t.msg="invalid stored block lengths",r.mode=ft;break}if(r.length=65535&f,f=0,p=0,r.mode=X,e===P)break t;case X:r.mode=J;case J:if(v=r.length){if(v>u&&(v=u),v>l&&(v=l),0===v)break t;g.arraySet(o,i,s,v,a),u-=v,s+=v,l-=v,a+=v,r.length-=v;break}r.mode=G;break;case $:for(;p<14;){if(0===u)break t;u--,f+=i[s++]<<p,p+=8}if(r.nlen=257+(31&f),f>>>=5,p-=5,r.ndist=1+(31&f),f>>>=5,p-=5,r.ncode=4+(15&f),f>>>=4,p-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=ft;break}r.have=0,r.mode=tt;case tt:for(;r.have<r.ncode;){for(;p<3;){if(0===u)break t;u--,f+=i[s++]<<p,p+=8}r.lens[Pt[r.have++]]=7&f,f>>>=3,p-=3}for(;r.have<19;)r.lens[Pt[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,xt={bits:r.lenbits},kt=C(k,r.lens,0,19,r.lencode,0,r.work,xt),r.lenbits=xt.bits,kt){t.msg="invalid code lengths set",r.mode=ft;break}r.have=0,r.mode=et;case et:for(;r.have<r.nlen+r.ndist;){for(;Et=r.lencode[f&(1<<r.lenbits)-1],vt=Et>>>24,mt=Et>>>16&255,gt=65535&Et,!(vt<=p);){if(0===u)break t;u--,f+=i[s++]<<p,p+=8}if(gt<16)f>>>=vt,p-=vt,r.lens[r.have++]=gt;else{if(16===gt){for(At=vt+2;p<At;){if(0===u)break t;u--,f+=i[s++]<<p,p+=8}if(f>>>=vt,p-=vt,0===r.have){t.msg="invalid bit length repeat",r.mode=ft;break}Ct=r.lens[r.have-1],v=3+(3&f),f>>>=2,p-=2}else if(17===gt){for(At=vt+3;p<At;){if(0===u)break t;u--,f+=i[s++]<<p,p+=8}f>>>=vt,p-=vt,Ct=0,v=3+(7&f),f>>>=3,p-=3}else{for(At=vt+7;p<At;){if(0===u)break t;u--,f+=i[s++]<<p,p+=8}f>>>=vt,p-=vt,Ct=0,v=11+(127&f),f>>>=7,p-=7}if(r.have+v>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=ft;break}for(;v--;)r.lens[r.have++]=Ct}}if(r.mode===ft)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=ft;break}if(r.lenbits=9,xt={bits:r.lenbits},kt=C(x,r.lens,0,r.nlen,r.lencode,0,r.work,xt),r.lenbits=xt.bits,kt){t.msg="invalid literal/lengths set",r.mode=ft;break}if(r.distbits=6,r.distcode=r.distdyn,xt={bits:r.distbits},kt=C(A,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,xt),r.distbits=xt.bits,kt){t.msg="invalid distances set",r.mode=ft;break}if(r.mode=rt,e===P)break t;case rt:r.mode=nt;case nt:if(u>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=u,r.hold=f,r.bits=p,w(t,d),a=t.next_out,o=t.output,l=t.avail_out,s=t.next_in,i=t.input,u=t.avail_in,f=r.hold,p=r.bits,r.mode===G&&(r.back=-1);break}for(r.back=0;Et=r.lencode[f&(1<<r.lenbits)-1],vt=Et>>>24,mt=Et>>>16&255,gt=65535&Et,!(vt<=p);){if(0===u)break t;u--,f+=i[s++]<<p,p+=8}if(mt&&0==(240&mt)){for(yt=vt,bt=mt,wt=gt;Et=r.lencode[wt+((f&(1<<yt+bt)-1)>>yt)],vt=Et>>>24,mt=Et>>>16&255,gt=65535&Et,!(yt+vt<=p);){if(0===u)break t;u--,f+=i[s++]<<p,p+=8}f>>>=yt,p-=yt,r.back+=yt}if(f>>>=vt,p-=vt,r.back+=vt,r.length=gt,0===mt){r.mode=ut;break}if(32&mt){r.back=-1,r.mode=G;break}if(64&mt){t.msg="invalid literal/length code",r.mode=ft;break}r.extra=15&mt,r.mode=it;case it:if(r.extra){for(At=r.extra;p<At;){if(0===u)break t;u--,f+=i[s++]<<p,p+=8}r.length+=f&(1<<r.extra)-1,f>>>=r.extra,p-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=ot;case ot:for(;Et=r.distcode[f&(1<<r.distbits)-1],vt=Et>>>24,mt=Et>>>16&255,gt=65535&Et,!(vt<=p);){if(0===u)break t;u--,f+=i[s++]<<p,p+=8}if(0==(240&mt)){for(yt=vt,bt=mt,wt=gt;Et=r.distcode[wt+((f&(1<<yt+bt)-1)>>yt)],vt=Et>>>24,mt=Et>>>16&255,gt=65535&Et,!(yt+vt<=p);){if(0===u)break t;u--,f+=i[s++]<<p,p+=8}f>>>=yt,p-=yt,r.back+=yt}if(f>>>=vt,p-=vt,r.back+=vt,64&mt){t.msg="invalid distance code",r.mode=ft;break}r.offset=gt,r.extra=15&mt,r.mode=st;case st:if(r.extra){for(At=r.extra;p<At;){if(0===u)break t;u--,f+=i[s++]<<p,p+=8}r.offset+=f&(1<<r.extra)-1,f>>>=r.extra,p-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=ft;break}r.mode=at;case at:if(0===l)break t;if(v=d-l,r.offset>v){if((v=r.offset-v)>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=ft;break}v>r.wnext?(v-=r.wnext,m=r.wsize-v):m=r.wnext-v,v>r.length&&(v=r.length),dt=r.window}else dt=o,m=a-r.offset,v=r.length;v>l&&(v=l),l-=v,r.length-=v;do{o[a++]=dt[m++]}while(--v);0===r.length&&(r.mode=nt);break;case ut:if(0===l)break t;o[a++]=r.length,l--,r.mode=nt;break;case lt:if(r.wrap){for(;p<32;){if(0===u)break t;u--,f|=i[s++]<<p,p+=8}if(d-=l,t.total_out+=d,r.total+=d,d&&(t.adler=r.check=r.flags?b(r.check,o,d,a-d):y(r.check,o,d,a-d)),d=l,(r.flags?f:n(f))!==r.check){t.msg="incorrect data check",r.mode=ft;break}f=0,p=0}r.mode=ct;case ct:if(r.wrap&&r.flags){for(;p<32;){if(0===u)break t;u--,f+=i[s++]<<p,p+=8}if(f!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=ft;break}f=0,p=0}r.mode=ht;case ht:kt=S;break t;case ft:kt=D;break t;case pt:return M;case _t:default:return B}return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=u,r.hold=f,r.bits=p,(r.wsize||d!==t.avail_out&&r.mode<ft&&(r.mode<lt||e!==E))&&h(t,t.output,t.next_out,d-t.avail_out)?(r.mode=pt,M):(_-=t.avail_in,d-=t.avail_out,t.total_in+=_,t.total_out+=d,r.total+=d,r.wrap&&d&&(t.adler=r.check=r.flags?b(r.check,o,d,t.next_out-d):y(r.check,o,d,t.next_out-d)),t.data_type=r.bits+(r.last?64:0)+(r.mode===G?128:0)+(r.mode===rt||r.mode===X?256:0),(0===_&&0===d||e===E)&&kt===T&&(kt=R),kt)}function p(t){if(!t||!t.state)return B;var e=t.state;return e.window&&(e.window=null),t.state=null,T}function _(t,e){var r;return t&&t.state?(r=t.state,0==(2&r.wrap)?B:(r.head=e,e.done=!1,T)):B}function d(t,e){var r,n,i=e.length;return t&&t.state?(r=t.state,0!==r.wrap&&r.mode!==W?B:r.mode===W&&(n=1,(n=y(n,e,i,0))!==r.check)?D:h(t,e,i,i)?(r.mode=pt,M):(r.havedict=1,T)):B}var v,m,g=r(133),y=r(593),b=r(595),w=r(798),C=r(800),k=0,x=1,A=2,E=4,j=5,P=6,T=0,S=1,F=2,B=-2,D=-3,M=-4,R=-5,O=8,I=1,N=2,U=3,z=4,L=5,H=6,q=7,V=8,Y=9,Q=10,W=11,G=12,K=13,Z=14,X=15,J=16,$=17,tt=18,et=19,rt=20,nt=21,it=22,ot=23,st=24,at=25,ut=26,lt=27,ct=28,ht=29,ft=30,pt=31,_t=32,dt=852,vt=592,mt=15,gt=!0;e.inflateReset=s,e.inflateReset2=a,e.inflateResetKeep=o,e.inflateInit=l,e.inflateInit2=u,e.inflate=f,e.inflateEnd=p,e.inflateGetHeader=_,e.inflateSetDictionary=d,e.inflateInfo="pako inflate (from Nodeca project)"},800:function(t,e,r){"use strict";var n=r(133),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,r,u,l,c,h,f){var p,_,d,v,m,g,y,b,w,C=f.bits,k=0,x=0,A=0,E=0,j=0,P=0,T=0,S=0,F=0,B=0,D=null,M=0,R=new n.Buf16(16),O=new n.Buf16(16),I=null,N=0;for(k=0;k<=15;k++)R[k]=0;for(x=0;x<u;x++)R[e[r+x]]++;for(j=C,E=15;E>=1&&0===R[E];E--);if(j>E&&(j=E),0===E)return l[c++]=20971520,l[c++]=20971520,f.bits=1,0;for(A=1;A<E&&0===R[A];A++);for(j<A&&(j=A),S=1,k=1;k<=15;k++)if(S<<=1,(S-=R[k])<0)return-1;if(S>0&&(0===t||1!==E))return-1;for(O[1]=0,k=1;k<15;k++)O[k+1]=O[k]+R[k];for(x=0;x<u;x++)0!==e[r+x]&&(h[O[e[r+x]]++]=x);if(0===t?(D=I=h,g=19):1===t?(D=i,M-=257,I=o,N-=257,g=256):(D=s,I=a,g=-1),B=0,x=0,k=A,m=c,P=j,T=0,d=-1,F=1<<j,v=F-1,1===t&&F>852||2===t&&F>592)return 1;for(;;){y=k-T,h[x]<g?(b=0,w=h[x]):h[x]>g?(b=I[N+h[x]],w=D[M+h[x]]):(b=96,w=0),p=1<<k-T,_=1<<P,A=_;do{_-=p,l[m+(B>>T)+_]=y<<24|b<<16|w|0}while(0!==_);for(p=1<<k-1;B&p;)p>>=1;if(0!==p?(B&=p-1,B+=p):B=0,x++,0==--R[k]){if(k===E)break;k=e[r+h[x]]}if(k>j&&(B&v)!==d){for(0===T&&(T=j),m+=A,P=k-T,S=1<<P;P+T<E&&!((S-=R[P+T])<=0);)P++,S<<=1;if(F+=1<<P,1===t&&F>852||2===t&&F>592)return 1;d=B&v,l[d]=j<<24|P<<16|m-c|0}}return 0!==B&&(l[m+B]=k-T<<24|64<<16|0),f.bits=j,0}},801:function(t,e,r){"use strict";function n(t){for(var e=t.length;--e>=0;)t[e]=0}function i(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}function o(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function s(t){return t<256?ot[t]:ot[256+(t>>>7)]}function a(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function u(t,e,r){t.bi_valid>W-r?(t.bi_buf|=e<<t.bi_valid&65535,a(t,t.bi_buf),t.bi_buf=e>>W-t.bi_valid,t.bi_valid+=r-W):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function l(t,e,r){u(t,r[2*e],r[2*e+1])}function c(t,e){var r=0;do{r|=1&t,t>>>=1,r<<=1}while(--e>0);return r>>>1}function h(t){16===t.bi_valid?(a(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function f(t,e){var r,n,i,o,s,a,u=e.dyn_tree,l=e.max_code,c=e.stat_desc.static_tree,h=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,_=e.stat_desc.max_length,d=0;for(o=0;o<=Q;o++)t.bl_count[o]=0;for(u[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;r<Y;r++)n=t.heap[r],o=u[2*u[2*n+1]+1]+1,o>_&&(o=_,d++),u[2*n+1]=o,n>l||(t.bl_count[o]++,s=0,n>=p&&(s=f[n-p]),a=u[2*n],t.opt_len+=a*(o+s),h&&(t.static_len+=a*(c[2*n+1]+s)));if(0!==d){do{for(o=_-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[_]--,d-=2}while(d>0);for(o=_;0!==o;o--)for(n=t.bl_count[o];0!==n;)(i=t.heap[--r])>l||(u[2*i+1]!==o&&(t.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),n--)}}function p(t,e,r){var n,i,o=new Array(Q+1),s=0;for(n=1;n<=Q;n++)o[n]=s=s+r[n-1]<<1;for(i=0;i<=e;i++){var a=t[2*i+1];0!==a&&(t[2*i]=c(o[a]++,a))}}function _(){var t,e,r,n,o,s=new Array(Q+1);for(r=0,n=0;n<z-1;n++)for(at[n]=r,t=0;t<1<<$[n];t++)st[r++]=n;for(st[r-1]=n,o=0,n=0;n<16;n++)for(ut[n]=o,t=0;t<1<<tt[n];t++)ot[o++]=n;for(o>>=7;n<q;n++)for(ut[n]=o<<7,t=0;t<1<<tt[n]-7;t++)ot[256+o++]=n;for(e=0;e<=Q;e++)s[e]=0;for(t=0;t<=143;)nt[2*t+1]=8,t++,s[8]++;for(;t<=255;)nt[2*t+1]=9,t++,s[9]++;for(;t<=279;)nt[2*t+1]=7,t++,s[7]++;for(;t<=287;)nt[2*t+1]=8,t++,s[8]++;for(p(nt,H+1,s),t=0;t<q;t++)it[2*t+1]=5,it[2*t]=c(t,5);lt=new i(nt,$,L+1,H,Q),ct=new i(it,tt,0,q,Q),ht=new i(new Array(0),et,0,V,G)}function d(t){var e;for(e=0;e<H;e++)t.dyn_ltree[2*e]=0;for(e=0;e<q;e++)t.dyn_dtree[2*e]=0;for(e=0;e<V;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*K]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function v(t){t.bi_valid>8?a(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function m(t,e,r,n){v(t),n&&(a(t,r),a(t,~r)),B.arraySet(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}function g(t,e,r,n){var i=2*e,o=2*r;return t[i]<t[o]||t[i]===t[o]&&n[e]<=n[r]}function y(t,e,r){for(var n=t.heap[r],i=r<<1;i<=t.heap_len&&(i<t.heap_len&&g(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!g(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n}function b(t,e,r){var n,i,o,a,c=0;if(0!==t.last_lit)do{n=t.pending_buf[t.d_buf+2*c]<<8|t.pending_buf[t.d_buf+2*c+1],i=t.pending_buf[t.l_buf+c],c++,0===n?l(t,i,e):(o=st[i],l(t,o+L+1,e),a=$[o],0!==a&&(i-=at[o],u(t,i,a)),n--,o=s(n),l(t,o,r),0!==(a=tt[o])&&(n-=ut[o],u(t,n,a)))}while(c<t.last_lit);l(t,K,e)}function w(t,e){var r,n,i,o=e.dyn_tree,s=e.stat_desc.static_tree,a=e.stat_desc.has_stree,u=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=Y,r=0;r<u;r++)0!==o[2*r]?(t.heap[++t.heap_len]=l=r,t.depth[r]=0):o[2*r+1]=0;for(;t.heap_len<2;)i=t.heap[++t.heap_len]=l<2?++l:0,o[2*i]=1,t.depth[i]=0,t.opt_len--,a&&(t.static_len-=s[2*i+1]);for(e.max_code=l,r=t.heap_len>>1;r>=1;r--)y(t,o,r);i=u;do{r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],y(t,o,1),n=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=n,o[2*i]=o[2*r]+o[2*n],t.depth[i]=(t.depth[r]>=t.depth[n]?t.depth[r]:t.depth[n])+1,o[2*r+1]=o[2*n+1]=i,t.heap[1]=i++,y(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],f(t,e),p(o,l,t.bl_count)}function C(t,e,r){var n,i,o=-1,s=e[1],a=0,u=7,l=4;for(0===s&&(u=138,l=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=s,s=e[2*(n+1)+1],++a<u&&i===s||(a<l?t.bl_tree[2*i]+=a:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[2*Z]++):a<=10?t.bl_tree[2*X]++:t.bl_tree[2*J]++,a=0,o=i,0===s?(u=138,l=3):i===s?(u=6,l=3):(u=7,l=4))}function k(t,e,r){var n,i,o=-1,s=e[1],a=0,c=7,h=4;for(0===s&&(c=138,h=3),n=0;n<=r;n++)if(i=s,s=e[2*(n+1)+1],!(++a<c&&i===s)){if(a<h)do{l(t,i,t.bl_tree)}while(0!=--a);else 0!==i?(i!==o&&(l(t,i,t.bl_tree),a--),l(t,Z,t.bl_tree),u(t,a-3,2)):a<=10?(l(t,X,t.bl_tree),u(t,a-3,3)):(l(t,J,t.bl_tree),u(t,a-11,7));a=0,o=i,0===s?(c=138,h=3):i===s?(c=6,h=3):(c=7,h=4)}}function x(t){var e;for(C(t,t.dyn_ltree,t.l_desc.max_code),C(t,t.dyn_dtree,t.d_desc.max_code),w(t,t.bl_desc),e=V-1;e>=3&&0===t.bl_tree[2*rt[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function A(t,e,r,n){var i;for(u(t,e-257,5),u(t,r-1,5),u(t,n-4,4),i=0;i<n;i++)u(t,t.bl_tree[2*rt[i]+1],3);k(t,t.dyn_ltree,e-1),k(t,t.dyn_dtree,r-1)}function E(t){var e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return M;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return R;for(e=32;e<L;e++)if(0!==t.dyn_ltree[2*e])return R;return M}function j(t){ft||(_(),ft=!0),t.l_desc=new o(t.dyn_ltree,lt),t.d_desc=new o(t.dyn_dtree,ct),t.bl_desc=new o(t.bl_tree,ht),t.bi_buf=0,t.bi_valid=0,d(t)}function P(t,e,r,n){u(t,(I<<1)+(n?1:0),3),m(t,e,r,!0)}function T(t){u(t,N<<1,3),l(t,K,nt),h(t)}function S(t,e,r,n){var i,o,s=0;t.level>0?(t.strm.data_type===O&&(t.strm.data_type=E(t)),w(t,t.l_desc),w(t,t.d_desc),s=x(t),i=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=i&&(i=o)):i=o=r+5,r+4<=i&&-1!==e?P(t,e,r,n):t.strategy===D||o===i?(u(t,(N<<1)+(n?1:0),3),b(t,nt,it)):(u(t,(U<<1)+(n?1:0),3),A(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),b(t,t.dyn_ltree,t.dyn_dtree)),d(t),n&&v(t)}function F(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(st[r]+L+1)]++,t.dyn_dtree[2*s(e)]++),t.last_lit===t.lit_bufsize-1}var B=r(133),D=4,M=0,R=1,O=2,I=0,N=1,U=2,z=29,L=256,H=L+1+z,q=30,V=19,Y=2*H+1,Q=15,W=16,G=7,K=256,Z=16,X=17,J=18,$=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],tt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],et=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],rt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],nt=new Array(2*(H+2));n(nt);var it=new Array(2*q);n(it);var ot=new Array(512);n(ot);var st=new Array(256);n(st);var at=new Array(z);n(at);var ut=new Array(q);n(ut);var lt,ct,ht,ft=!1;e._tr_init=j,e._tr_stored_block=P,e._tr_flush_block=S,e._tr_tally=F,e._tr_align=T},802:function(t,e,r){(function(e,n,i){/* @preserve
 * The MIT License (MIT)
 * 
 * Copyright (c) 2013-2015 Petka Antonov
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * 
 */
!function(e){t.exports=e()}(function(){var t,o,s;return function t(e,r,n){function i(s,a){if(!r[s]){if(!e[s]){var u="function"==typeof _dereq_&&_dereq_;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=r[s]={exports:{}};e[s][0].call(c.exports,function(t){var r=e[s][1][t];return i(r||t)},c,c.exports,t,e,r,n)}return r[s].exports}for(var o="function"==typeof _dereq_&&_dereq_,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(t,e,r){"use strict";e.exports=function(t){function e(t){var e=new r(t),n=e.promise();return e.setHowMany(1),e.setUnwrap(),e.init(),n}var r=t._SomePromiseArray;t.any=function(t){return e(t)},t.prototype.any=function(){return e(this)}}},{}],2:[function(t,e,r){"use strict";function n(){this._isTickUsed=!1,this._lateQueue=new l(16),this._normalQueue=new l(16),this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=u.isStatic?u(this.drainQueues):u}function i(t,e,r){this._lateQueue.push(t,e,r),this._queueTick()}function o(t,e,r){this._normalQueue.push(t,e,r),this._queueTick()}function s(t){this._normalQueue._pushOne(t),this._queueTick()}var a;try{throw new Error}catch(t){a=t}var u=t("./schedule.js"),l=t("./queue.js"),c=t("./util.js");n.prototype.disableTrampolineIfNecessary=function(){c.hasDevTools&&(this._trampolineEnabled=!1)},n.prototype.enableTrampoline=function(){this._trampolineEnabled||(this._trampolineEnabled=!0,this._schedule=function(t){setTimeout(t,0)})},n.prototype.haveItemsQueued=function(){return this._normalQueue.length()>0},n.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(t){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")}},c.hasDevTools?(u.isStatic&&(u=function(t){setTimeout(t,0)}),n.prototype.invokeLater=function(t,e,r){this._trampolineEnabled?i.call(this,t,e,r):this._schedule(function(){setTimeout(function(){t.call(e,r)},100)})},n.prototype.invoke=function(t,e,r){this._trampolineEnabled?o.call(this,t,e,r):this._schedule(function(){t.call(e,r)})},n.prototype.settlePromises=function(t){this._trampolineEnabled?s.call(this,t):this._schedule(function(){t._settlePromises()})}):(n.prototype.invokeLater=i,n.prototype.invoke=o,n.prototype.settlePromises=s),n.prototype.invokeFirst=function(t,e,r){this._normalQueue.unshift(t,e,r),this._queueTick()},n.prototype._drainQueue=function(t){for(;t.length()>0;){var e=t.shift();if("function"==typeof e){var r=t.shift(),n=t.shift();e.call(r,n)}else e._settlePromises()}},n.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._drainQueue(this._lateQueue)},n.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},n.prototype._reset=function(){this._isTickUsed=!1},e.exports=new n,e.exports.firstLineError=a},{"./queue.js":28,"./schedule.js":31,"./util.js":38}],3:[function(t,e,r){"use strict";e.exports=function(t,e,r){var n=function(t,e){this._reject(e)},i=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(n,n,null,this,t)},o=function(t,e){this._isPending()&&this._resolveCallback(e.target)},s=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(n){var a=r(n),u=new t(e);u._propagateFrom(this,1);var l=this._target();if(u._setBoundTo(a),a instanceof t){var c={promiseRejectionQueued:!1,promise:u,target:l,bindingPromise:a};l._then(e,i,u._progress,u,c),a._then(o,s,u._progress,u,c)}else u._resolveCallback(l);return u},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=131072|this._bitField,this._boundTo=t):this._bitField=-131073&this._bitField},t.prototype._isBound=function(){return 131072==(131072&this._bitField)},t.bind=function(n,i){var o=r(n),s=new t(e);return s._setBoundTo(o),o instanceof t?o._then(function(){s._resolveCallback(i)},s._reject,s._progress,s,null):s._resolveCallback(i),s}}},{}],4:[function(t,e,r){"use strict";function n(){try{Promise===o&&(Promise=i)}catch(t){}return o}var i;"undefined"!=typeof Promise&&(i=Promise);var o=t("./promise.js")();o.noConflict=n,e.exports=o},{"./promise.js":23}],5:[function(t,e,r){"use strict";var n=Object.create;if(n){var i=n(null),o=n(null);i[" size"]=o[" size"]=0}e.exports=function(e){function r(t,r){var n;if(null!=t&&(n=t[r]),"function"!=typeof n){var i="Object "+a.classString(t)+" has no method '"+a.toString(r)+"'";throw new e.TypeError(i)}return n}function n(t){return r(t,this.pop()).apply(t,this)}function i(t){return t[this]}function o(t){var e=+this;return e<0&&(e=Math.max(0,e+t.length)),t[e]}var s,a=t("./util.js"),u=a.canEvaluate;a.isIdentifier;e.prototype.call=function(t){for(var e=arguments.length,r=new Array(e-1),i=1;i<e;++i)r[i-1]=arguments[i];return r.push(t),this._then(n,void 0,void 0,r,void 0)},e.prototype.get=function(t){var e,r="number"==typeof t;if(r)e=o;else if(u){var n=s(t);e=null!==n?n:i}else e=i;return this._then(e,void 0,void 0,t,void 0)}}},{"./util.js":38}],6:[function(t,e,r){"use strict";e.exports=function(e){var r=t("./errors.js"),n=t("./async.js"),i=r.CancellationError;e.prototype._cancel=function(t){if(!this.isCancellable())return this;for(var e,r=this;void 0!==(e=r._cancellationParent)&&e.isCancellable();)r=e;this._unsetCancellable(),r._target()._rejectCallback(t,!1,!0)},e.prototype.cancel=function(t){return this.isCancellable()?(void 0===t&&(t=new i),n.invokeLater(this._cancel,this,t),this):this},e.prototype.cancellable=function(){return this._cancellable()?this:(n.enableTrampoline(),this._setCancellable(),this._cancellationParent=void 0,this)},e.prototype.uncancellable=function(){var t=this.then();return t._unsetCancellable(),t},e.prototype.fork=function(t,e,r){var n=this._then(t,e,r,void 0,void 0);return n._setCancellable(),n._cancellationParent=void 0,n}}},{"./async.js":2,"./errors.js":13}],7:[function(t,r,n){"use strict";r.exports=function(){function r(t){this._parent=t;var e=this._length=1+(void 0===t?0:t._length);w(this,r),e>32&&this.uncycle()}function n(t,e){for(var r=0;r<e.length-1;++r)e[r].push("From previous event:"),e[r]=e[r].join("\n");return r<e.length&&(e[r]=e[r].join("\n")),t+"\n"+e.join("\n")}function i(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}function o(t){for(var e=t[0],r=1;r<t.length;++r){for(var n=t[r],i=e.length-1,o=e[i],s=-1,a=n.length-1;a>=0;--a)if(n[a]===o){s=a;break}for(var a=s;a>=0;--a){var u=n[a];if(e[i]!==u)break;e.pop(),i--}e=n}}function s(t){for(var e=[],r=0;r<t.length;++r){var n=t[r],i=d.test(n)||"    (No stack trace)"===n,o=i&&g(n);i&&!o&&(m&&" "!==n.charAt(0)&&(n="    "+n),e.push(n))}return e}function a(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),r=0;r<e.length;++r){var n=e[r];if("    (No stack trace)"===n||d.test(n))break}return r>0&&(e=e.slice(r)),e}function u(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{e=t.toString();if(/\[object [a-zA-Z0-9$_]+\]/.test(e))try{e=JSON.stringify(t)}catch(t){}0===e.length&&(e="(empty array)")}return"(<"+l(e)+">, no stack trace)"}function l(t){return t.length<41?t:t.substr(0,38)+"..."}function c(t){var e=t.match(y);if(e)return{fileName:e[1],line:parseInt(e[2],10)}}var h,f=t("./async.js"),p=t("./util.js"),_=/[\\\/]bluebird[\\\/]js[\\\/](main|debug|zalgo|instrumented)/,d=null,v=null,m=!1;p.inherits(r,Error),r.prototype.uncycle=function(){var t=this._length;if(!(t<2)){for(var e=[],r={},n=0,i=this;void 0!==i;++n)e.push(i),i=i._parent;t=this._length=n;for(var n=t-1;n>=0;--n){var o=e[n].stack;void 0===r[o]&&(r[o]=n)}for(var n=0;n<t;++n){var s=e[n].stack,a=r[s];if(void 0!==a&&a!==n){a>0&&(e[a-1]._parent=void 0,e[a-1]._length=1),e[n]._parent=void 0,e[n]._length=1;var u=n>0?e[n-1]:this;a<t-1?(u._parent=e[a+1],u._parent.uncycle(),u._length=u._parent._length+1):(u._parent=void 0,u._length=1);for(var l=u._length+1,c=n-2;c>=0;--c)e[c]._length=l,l++;return}}}},r.prototype.parent=function(){return this._parent},r.prototype.hasParent=function(){return void 0!==this._parent},r.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=r.parseStackAndMessage(t),a=e.message,u=[e.stack],l=this;void 0!==l;)u.push(s(l.stack.split("\n"))),l=l._parent;o(u),i(u),p.notEnumerableProp(t,"stack",n(a,u)),p.notEnumerableProp(t,"__stackCleaned__",!0)}},r.parseStackAndMessage=function(t){var e=t.stack,r=t.toString();return e="string"==typeof e&&e.length>0?a(t):["    (No stack trace)"],{message:r,stack:s(e)}},r.formatAndLogError=function(t,e){if("undefined"!=typeof console){var r;if("object"==typeof t||"function"==typeof t){var n=t.stack;r=e+v(n,t)}else r=e+String(t);"function"==typeof h?h(r):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}},r.unhandledRejection=function(t){r.formatAndLogError(t,"^--- With additional stack trace: ")},r.isSupported=function(){return"function"==typeof w},r.fireRejectionEvent=function(t,e,n,i){var o=!1;try{"function"==typeof e&&(o=!0,"rejectionHandled"===t?e(i):e(n,i))}catch(t){f.throwLater(t)}var s=!1;try{s=C(t,n,i)}catch(t){s=!0,f.throwLater(t)}var a=!1;if(b)try{a=b(t.toLowerCase(),{reason:n,promise:i})}catch(t){a=!0,f.throwLater(t)}s||o||a||"unhandledRejection"!==t||r.formatAndLogError(n,"Unhandled rejection ")};var g=function(){return!1},y=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;r.setBounds=function(t,e){if(r.isSupported()){for(var n,i,o=t.stack.split("\n"),s=e.stack.split("\n"),a=-1,u=-1,l=0;l<o.length;++l){var h=c(o[l]);if(h){n=h.fileName,a=h.line;break}}for(var l=0;l<s.length;++l){var h=c(s[l]);if(h){i=h.fileName,u=h.line;break}}a<0||u<0||!n||!i||n!==i||a>=u||(g=function(t){if(_.test(t))return!0;var e=c(t);return!!(e&&e.fileName===n&&a<=e.line&&e.line<=u)})}};var b,w=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():u(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit=Error.stackTraceLimit+6,d=t,v=e;var r=Error.captureStackTrace;return g=function(t){return _.test(t)},function(t,e){Error.stackTraceLimit=Error.stackTraceLimit+6,r(t,e),Error.stackTraceLimit=Error.stackTraceLimit-6}}var n=new Error;if("string"==typeof n.stack&&n.stack.split("\n")[0].indexOf("stackDetection@")>=0)return d=/@/,v=e,m=!0,function(t){t.stack=(new Error).stack};var i;try{throw new Error}catch(t){i="stack"in t}return"stack"in n||!i||"number"!=typeof Error.stackTraceLimit?(v=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?u(e):e.toString()},null):(d=t,v=e,function(t){Error.stackTraceLimit=Error.stackTraceLimit+6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit=Error.stackTraceLimit-6})}(),C=function(){if(p.isNode)return function(t,r,n){return"rejectionHandled"===t?e.emit(t,n):e.emit(t,r,n)};var t=!1,r=!0;try{var n=new self.CustomEvent("test");t=n instanceof CustomEvent}catch(t){}if(!t)try{var i=document.createEvent("CustomEvent");i.initCustomEvent("testingtheevent",!1,!0,{}),self.dispatchEvent(i)}catch(t){r=!1}r&&(b=function(e,r){var n;return t?n=new self.CustomEvent(e,{detail:r,bubbles:!1,cancelable:!0}):self.dispatchEvent&&(n=document.createEvent("CustomEvent"),n.initCustomEvent(e,!1,!0,r)),!!n&&!self.dispatchEvent(n)});var o={};return o.unhandledRejection="onunhandledRejection".toLowerCase(),o.rejectionHandled="onrejectionHandled".toLowerCase(),function(t,e,r){var n=o[t],i=self[n];return!!i&&("rejectionHandled"===t?i.call(self,r):i.call(self,e,r),!0)}}();return"undefined"!=typeof console&&void 0!==console.warn&&(h=function(t){console.warn(t)},p.isNode&&e.stderr.isTTY?h=function(t){e.stderr.write("[31m"+t+"[39m\n")}:p.isNode||"string"!=typeof(new Error).stack||(h=function(t){console.warn("%c"+t,"color: red")})),r}},{"./async.js":2,"./util.js":38}],8:[function(t,e,r){"use strict";e.exports=function(e){function r(t,e,r){this._instances=t,this._callback=e,this._promise=r}function n(t,e){var r={},n=s(t).call(r,e);return n===a?n:u(r).length?(a.e=new l("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"),a):n}var i=t("./util.js"),o=t("./errors.js"),s=i.tryCatch,a=i.errorObj,u=t("./es5.js").keys,l=o.TypeError;return r.prototype.doFilter=function(t){for(var r=this._callback,i=this._promise,o=i._boundValue(),u=0,l=this._instances.length;u<l;++u){var c=this._instances[u],h=c===Error||null!=c&&c.prototype instanceof Error;if(h&&t instanceof c){var f=s(r).call(o,t);return f===a?(e.e=f.e,e):f}if("function"==typeof c&&!h){var p=n(c,t);if(p===a){t=a.e;break}if(p){var f=s(r).call(o,t);return f===a?(e.e=f.e,e):f}}}return e.e=t,e},r}},{"./errors.js":13,"./es5.js":14,"./util.js":38}],9:[function(t,e,r){"use strict";e.exports=function(t,e,r){function n(){this._trace=new e(o())}function i(){if(r())return new n}function o(){var t=s.length-1;if(t>=0)return s[t]}var s=[];return n.prototype._pushContext=function(){r()&&void 0!==this._trace&&s.push(this._trace)},n.prototype._popContext=function(){r()&&void 0!==this._trace&&s.pop()},t.prototype._peekContext=o,t.prototype._pushContext=n.prototype._pushContext,t.prototype._popContext=n.prototype._popContext,i}},{}],10:[function(t,e,n){"use strict";e.exports=function(e,n){var i,o,s=e._getDomain,a=t("./async.js"),u=t("./errors.js").Warning,l=t("./util.js"),c=l.canAttachTrace,h=l.isNode&&(!!r.i({NODE_ENV:"production",APP_VERSION:"3.5.4",IS_BETA:!1,BUILD_NUM:"2851",COMMIT_SHA:"db21449738cdba8ff66daf9804fd33889195af11",STORE_VENDOR:""}).BLUEBIRD_DEBUG||!1);return l.isNode&&0==r.i({NODE_ENV:"production",APP_VERSION:"3.5.4",IS_BETA:!1,BUILD_NUM:"2851",COMMIT_SHA:"db21449738cdba8ff66daf9804fd33889195af11",STORE_VENDOR:""}).BLUEBIRD_DEBUG&&(h=!1),h&&a.disableTrampolineIfNecessary(),e.prototype._ignoreRejections=function(){this._unsetRejectionIsUnhandled(),this._bitField=16777216|this._bitField},e.prototype._ensurePossibleRejectionHandled=function(){0==(16777216&this._bitField)&&(this._setRejectionIsUnhandled(),a.invokeLater(this._notifyUnhandledRejection,this,void 0))},e.prototype._notifyUnhandledRejectionIsHandled=function(){n.fireRejectionEvent("rejectionHandled",i,void 0,this)},e.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._getCarriedStackTrace()||this._settledValue;this._setUnhandledRejectionIsNotified(),n.fireRejectionEvent("unhandledRejection",o,t,this)}},e.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=524288|this._bitField},e.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-524289&this._bitField},e.prototype._isUnhandledRejectionNotified=function(){return(524288&this._bitField)>0},e.prototype._setRejectionIsUnhandled=function(){this._bitField=2097152|this._bitField},e.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-2097153&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},e.prototype._isRejectionUnhandled=function(){return(2097152&this._bitField)>0},e.prototype._setCarriedStackTrace=function(t){this._bitField=1048576|this._bitField,this._fulfillmentHandler0=t},e.prototype._isCarryingStackTrace=function(){return(1048576&this._bitField)>0},e.prototype._getCarriedStackTrace=function(){return this._isCarryingStackTrace()?this._fulfillmentHandler0:void 0},e.prototype._captureStackTrace=function(){return h&&(this._trace=new n(this._peekContext())),this},e.prototype._attachExtraTrace=function(t,e){if(h&&c(t)){var r=this._trace;if(void 0!==r&&e&&(r=r._parent),void 0!==r)r.attachExtraTrace(t);else if(!t.__stackCleaned__){var i=n.parseStackAndMessage(t);l.notEnumerableProp(t,"stack",i.message+"\n"+i.stack.join("\n")),l.notEnumerableProp(t,"__stackCleaned__",!0)}}},e.prototype._warn=function(t){var e=new u(t),r=this._peekContext();if(r)r.attachExtraTrace(e);else{var i=n.parseStackAndMessage(e);e.stack=i.message+"\n"+i.stack.join("\n")}n.formatAndLogError(e,"")},e.onPossiblyUnhandledRejection=function(t){var e=s();o="function"==typeof t?null===e?t:e.bind(t):void 0},e.onUnhandledRejectionHandled=function(t){var e=s();i="function"==typeof t?null===e?t:e.bind(t):void 0},e.longStackTraces=function(){if(a.haveItemsQueued()&&!1===h)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/DT1qyG\n");(h=n.isSupported())&&a.disableTrampolineIfNecessary()},e.hasLongStackTraces=function(){return h&&n.isSupported()},n.isSupported()||(e.longStackTraces=function(){},h=!1),function(){return h}}},{"./async.js":2,"./errors.js":13,"./util.js":38}],11:[function(t,e,r){"use strict";var n=t("./util.js"),i=n.isPrimitive;e.exports=function(t){var e=function(){return this},r=function(){throw this},n=function(){},o=function(){throw void 0},s=function(t,e){return 1===e?function(){throw t}:2===e?function(){return t}:void 0};t.prototype.return=t.prototype.thenReturn=function(r){return void 0===r?this.then(n):i(r)?this._then(s(r,2),void 0,void 0,void 0,void 0):(r instanceof t&&r._ignoreRejections(),this._then(e,void 0,void 0,r,void 0))},t.prototype.throw=t.prototype.thenThrow=function(t){return void 0===t?this.then(o):i(t)?this._then(s(t,1),void 0,void 0,void 0,void 0):this._then(r,void 0,void 0,t,void 0)}}},{"./util.js":38}],12:[function(t,e,r){"use strict";e.exports=function(t,e){var r=t.reduce;t.prototype.each=function(t){return r(this,t,null,e)},t.each=function(t,n){return r(t,n,null,e)}}},{}],13:[function(t,e,r){"use strict";function n(t,e){function r(n){if(!(this instanceof r))return new r(n);h(this,"message","string"==typeof n?n:e),h(this,"name",t),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return c(r,Error),r}function i(t){if(!(this instanceof i))return new i(t);h(this,"name","OperationalError"),h(this,"message",t),this.cause=t,this.isOperational=!0,t instanceof Error?(h(this,"message",t.message),h(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}var o,s,a=t("./es5.js"),u=a.freeze,l=t("./util.js"),c=l.inherits,h=l.notEnumerableProp,f=n("Warning","warning"),p=n("CancellationError","cancellation error"),_=n("TimeoutError","timeout error"),d=n("AggregateError","aggregate error");try{o=TypeError,s=RangeError}catch(t){o=n("TypeError","type error"),s=n("RangeError","range error")}for(var v="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),m=0;m<v.length;++m)"function"==typeof Array.prototype[v[m]]&&(d.prototype[v[m]]=Array.prototype[v[m]]);a.defineProperty(d.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),d.prototype.isOperational=!0;var g=0;d.prototype.toString=function(){var t=Array(4*g+1).join(" "),e="\n"+t+"AggregateError of:\n";g++,t=Array(4*g+1).join(" ");for(var r=0;r<this.length;++r){for(var n=this[r]===this?"[Circular AggregateError]":this[r]+"",i=n.split("\n"),o=0;o<i.length;++o)i[o]=t+i[o];n=i.join("\n"),e+=n+"\n"}return g--,e},c(i,Error);var y=Error.__BluebirdErrorTypes__;y||(y=u({CancellationError:p,TimeoutError:_,OperationalError:i,RejectionError:i,AggregateError:d}),h(Error,"__BluebirdErrorTypes__",y)),e.exports={Error:Error,TypeError:o,RangeError:s,CancellationError:y.CancellationError,OperationalError:y.OperationalError,TimeoutError:y.TimeoutError,AggregateError:y.AggregateError,Warning:f}},{"./es5.js":14,"./util.js":38}],14:[function(t,e,r){var n=function(){"use strict";return void 0===this}();if(n)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:n,propertyIsWritable:function(t,e){var r=Object.getOwnPropertyDescriptor(t,e);return!(r&&!r.writable&&!r.set)}};else{var i={}.hasOwnProperty,o={}.toString,s={}.constructor.prototype,a=function(t){var e=[];for(var r in t)i.call(t,r)&&e.push(r);return e},u=function(t,e){return{value:t[e]}},l=function(t,e,r){return t[e]=r.value,t},c=function(t){return t},h=function(t){try{return Object(t).constructor.prototype}catch(t){return s}},f=function(t){try{return"[object Array]"===o.call(t)}catch(t){return!1}};e.exports={isArray:f,keys:a,names:a,defineProperty:l,getDescriptor:u,freeze:c,getPrototypeOf:h,isES5:n,propertyIsWritable:function(){return!0}}}},{}],15:[function(t,e,r){"use strict";e.exports=function(t,e){var r=t.map;t.prototype.filter=function(t,n){return r(this,t,n,e)},t.filter=function(t,n,i){return r(t,n,i,e)}}},{}],16:[function(t,e,r){"use strict";e.exports=function(e,r,n){function i(){return this}function o(){throw this}function s(t){return function(){return t}}function a(t){return function(){throw t}}function u(t,e,r){var n;return n=f(e)?r?s(e):a(e):r?i:o,t._then(n,p,void 0,e,void 0)}function l(t){var i=this.promise,o=this.handler,s=i._isBound()?o.call(i._boundValue()):o();if(void 0!==s){var a=n(s,i);if(a instanceof e)return a=a._target(),u(a,t,i.isFulfilled())}return i.isRejected()?(r.e=t,r):t}function c(t){var r=this.promise,i=this.handler,o=r._isBound()?i.call(r._boundValue(),t):i(t);if(void 0!==o){var s=n(o,r);if(s instanceof e)return s=s._target(),u(s,t,!0)}return t}var h=t("./util.js"),f=h.isPrimitive,p=h.thrower;e.prototype._passThroughHandler=function(t,e){if("function"!=typeof t)return this.then();var r={promise:this,handler:t};return this._then(e?l:c,e?l:void 0,void 0,r,void 0)},e.prototype.lastly=e.prototype.finally=function(t){return this._passThroughHandler(t,!0)},e.prototype.tap=function(t){return this._passThroughHandler(t,!1)}}},{"./util.js":38}],17:[function(t,e,r){"use strict";e.exports=function(e,r,n,i){function o(t,r,n){for(var o=0;o<r.length;++o){n._pushContext();var s=h(r[o])(t);if(n._popContext(),s===c){n._pushContext();var a=e.reject(c.e);return n._popContext(),a}var u=i(s,n);if(u instanceof e)return u}return null}function s(t,r,i,o){(this._promise=new e(n))._captureStackTrace(),this._stack=o,this._generatorFunction=t,this._receiver=r,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(f):f}var a=t("./errors.js"),u=a.TypeError,l=t("./util.js"),c=l.errorObj,h=l.tryCatch,f=[];s.prototype.promise=function(){return this._promise},s.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._next(void 0)},s.prototype._continue=function(t){if(t===c)return this._promise._rejectCallback(t.e,!1,!0);var r=t.value;if(!0===t.done)this._promise._resolveCallback(r);else{var n=i(r,this._promise);if(!(n instanceof e)&&null===(n=o(n,this._yieldHandlers,this._promise)))return void this._throw(new u("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/4Y4pDk\n\n".replace("%s",r)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));n._then(this._next,this._throw,void 0,this,null)}},s.prototype._throw=function(t){this._promise._attachExtraTrace(t),this._promise._pushContext();var e=h(this._generator.throw).call(this._generator,t);this._promise._popContext(),this._continue(e)},s.prototype._next=function(t){this._promise._pushContext();var e=h(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},e.coroutine=function(t,e){if("function"!=typeof t)throw new u("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var r=Object(e).yieldHandler,n=s,i=(new Error).stack;return function(){var e=t.apply(this,arguments),o=new n(void 0,void 0,r,i);return o._generator=e,o._next(void 0),o.promise()}},e.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new u("fn must be a function\n\n    See http://goo.gl/916lJJ\n");f.push(t)},e.spawn=function(t){if("function"!=typeof t)return r("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var n=new s(t,this),i=n.promise();return n._run(e.spawn),i}}},{"./errors.js":13,"./util.js":38}],18:[function(t,e,r){"use strict";e.exports=function(e,r,n,i){var o=t("./util.js");o.canEvaluate,o.tryCatch,o.errorObj;e.join=function(){var t,e=arguments.length-1;if(e>0&&"function"==typeof arguments[e]){t=arguments[e];var n}for(var i=arguments.length,o=new Array(i),s=0;s<i;++s)o[s]=arguments[s];t&&o.pop();var n=new r(o).promise();return void 0!==t?n.spread(t):n}}},{"./util.js":38}],19:[function(t,e,r){"use strict";e.exports=function(e,r,n,i,o){function s(t,e,r,n){this.constructor$(t),this._promise._captureStackTrace();var i=l();this._callback=null===i?e:i.bind(e),this._preservedValues=n===o?new Array(this.length()):null,this._limit=r,this._inFlight=0,this._queue=r>=1?[]:d,c.invoke(a,this,void 0)}function a(){this._init$(void 0,-2)}function u(t,e,r,n){var i="object"==typeof r&&null!==r?r.concurrency:0;return i="number"==typeof i&&isFinite(i)&&i>=1?i:0,new s(t,e,i,n)}var l=e._getDomain,c=t("./async.js"),h=t("./util.js"),f=h.tryCatch,p=h.errorObj,_={},d=[];h.inherits(s,r),s.prototype._init=function(){},s.prototype._promiseFulfilled=function(t,r){var n=this._values,o=this.length(),s=this._preservedValues,a=this._limit;if(n[r]===_){if(n[r]=t,a>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return}else{if(a>=1&&this._inFlight>=a)return n[r]=t,void this._queue.push(r);null!==s&&(s[r]=t);var u=this._callback,l=this._promise._boundValue();this._promise._pushContext();var c=f(u).call(l,t,r,o);if(this._promise._popContext(),c===p)return this._reject(c.e);var h=i(c,this._promise);if(h instanceof e){if(h=h._target(),h._isPending())return a>=1&&this._inFlight++,n[r]=_,h._proxyPromiseArray(this,r);if(!h._isFulfilled())return this._reject(h._reason());c=h._value()}n[r]=c}++this._totalResolved>=o&&(null!==s?this._filter(n,s):this._resolve(n))},s.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,r=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var n=t.pop();this._promiseFulfilled(r[n],n)}},s.prototype._filter=function(t,e){for(var r=e.length,n=new Array(r),i=0,o=0;o<r;++o)t[o]&&(n[i++]=e[o]);n.length=i,this._resolve(n)},s.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return"function"!=typeof t?n("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):u(this,t,e,null).promise()},e.map=function(t,e,r,i){return"function"!=typeof e?n("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):u(t,e,r,i).promise()}}},{"./async.js":2,"./util.js":38}],20:[function(t,e,r){"use strict";e.exports=function(e,r,n,i){var o=t("./util.js"),s=o.tryCatch;e.method=function(t){if("function"!=typeof t)throw new e.TypeError("fn must be a function\n\n    See http://goo.gl/916lJJ\n");return function(){var n=new e(r);n._captureStackTrace(),n._pushContext();var i=s(t).apply(this,arguments);return n._popContext(),n._resolveFromSyncValue(i),n}},e.attempt=e.try=function(t,n,a){if("function"!=typeof t)return i("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var u=new e(r);u._captureStackTrace(),u._pushContext();var l=o.isArray(n)?s(t).apply(a,n):s(t).call(a,n);return u._popContext(),u._resolveFromSyncValue(l),u},e.prototype._resolveFromSyncValue=function(t){t===o.errorObj?this._rejectCallback(t.e,!1,!0):this._resolveCallback(t,!0)}}},{"./util.js":38}],21:[function(t,e,r){"use strict";e.exports=function(e){function r(t,e){var r=this;if(!o.isArray(t))return n.call(r,t,e);var i=a(e).apply(r._boundValue(),[null].concat(t));i===u&&s.throwLater(i.e)}function n(t,e){var r=this,n=r._boundValue(),i=void 0===t?a(e).call(n,null):a(e).call(n,null,t);i===u&&s.throwLater(i.e)}function i(t,e){var r=this;if(!t){var n=r._target(),i=n._getCarriedStackTrace();i.cause=t,t=i}var o=a(e).call(r._boundValue(),t);o===u&&s.throwLater(o.e)}var o=t("./util.js"),s=t("./async.js"),a=o.tryCatch,u=o.errorObj;e.prototype.asCallback=e.prototype.nodeify=function(t,e){if("function"==typeof t){var o=n;void 0!==e&&Object(e).spread&&(o=r),this._then(o,i,void 0,this,t)}return this}}},{"./async.js":2,"./util.js":38}],22:[function(t,e,r){"use strict";e.exports=function(e,r){var n=t("./util.js"),i=t("./async.js"),o=n.tryCatch,s=n.errorObj;e.prototype.progressed=function(t){return this._then(void 0,void 0,t,void 0,void 0)},e.prototype._progress=function(t){this._isFollowingOrFulfilledOrRejected()||this._target()._progressUnchecked(t)},e.prototype._progressHandlerAt=function(t){return 0===t?this._progressHandler0:this[(t<<2)+t-5+2]},e.prototype._doProgressWith=function(t){var r=t.value,i=t.handler,a=t.promise,u=t.receiver,l=o(i).call(u,r);if(l===s){if(null!=l.e&&"StopProgressPropagation"!==l.e.name){var c=n.canAttachTrace(l.e)?l.e:new Error(n.toString(l.e));a._attachExtraTrace(c),a._progress(l.e)}}else l instanceof e?l._then(a._progress,null,null,a,void 0):a._progress(l)},e.prototype._progressUnchecked=function(t){for(var n=this._length(),o=this._progress,s=0;s<n;s++){var a=this._progressHandlerAt(s),u=this._promiseAt(s);if(u instanceof e)"function"==typeof a?i.invoke(this._doProgressWith,this,{handler:a,promise:u,receiver:this._receiverAt(s),value:t}):i.invoke(o,u,t);else{var l=this._receiverAt(s);"function"==typeof a?a.call(l,t,u):l instanceof r&&!l._isResolved()&&l._promiseProgressed(t,u)}}}}},{"./async.js":2,"./util.js":38}],23:[function(t,r,n){"use strict";r.exports=function(){function n(t){if("function"!=typeof t)throw new p("the promise constructor requires a resolver function\n\n    See http://goo.gl/EC22Yn\n");if(this.constructor!==n)throw new p("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/KsIlge\n");this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._progressHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._settledValue=void 0,t!==_&&this._resolveFromResolver(t)}function i(t){var e=new n(_);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._progressHandler0=t,e._promise0=t,e._receiver0=t,e._settledValue=t}var o,s=function(){return new p("circular promise resolution chain\n\n    See http://goo.gl/LhFpo0\n")},a=function(){return new n.PromiseInspection(this._target())},u=function(t){return n.reject(new p(t))},l=t("./util.js");o=l.isNode?function(){var t=e.domain;return void 0===t&&(t=null),t}:function(){return null},l.notEnumerableProp(n,"_getDomain",o);var c={},h=t("./async.js"),f=t("./errors.js"),p=n.TypeError=f.TypeError;n.RangeError=f.RangeError,n.CancellationError=f.CancellationError,n.TimeoutError=f.TimeoutError,n.OperationalError=f.OperationalError,n.RejectionError=f.OperationalError,n.AggregateError=f.AggregateError;var _=function(){},d={},v={e:null},m=t("./thenables.js")(n,_),g=t("./promise_array.js")(n,_,m,u),y=t("./captured_trace.js")(),b=t("./debuggability.js")(n,y),w=t("./context.js")(n,y,b),C=t("./catch_filter.js")(v),k=t("./promise_resolver.js"),x=k._nodebackForPromise,A=l.errorObj,E=l.tryCatch;return n.prototype.toString=function(){return"[object Promise]"},n.prototype.caught=n.prototype.catch=function(t){var e=arguments.length;if(e>1){var r,i=new Array(e-1),o=0;for(r=0;r<e-1;++r){var s=arguments[r];if("function"!=typeof s)return n.reject(new p("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"));i[o++]=s}i.length=o,t=arguments[r];var a=new C(i,t,this);return this._then(void 0,a.doFilter,void 0,a,void 0)}return this._then(void 0,t,void 0,void 0,void 0)},n.prototype.reflect=function(){return this._then(a,a,void 0,this,void 0)},n.prototype.then=function(t,e,r){if(b()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var n=".then() only accepts functions but was passed: "+l.classString(t);arguments.length>1&&(n+=", "+l.classString(e)),this._warn(n)}return this._then(t,e,r,void 0,void 0)},n.prototype.done=function(t,e,r){this._then(t,e,r,void 0,void 0)._setIsFinal()},n.prototype.spread=function(t,e){return this.all()._then(t,e,void 0,d,void 0)},n.prototype.isCancellable=function(){return!this.isResolved()&&this._cancellable()},n.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},n.prototype.all=function(){return new g(this).promise()},n.prototype.error=function(t){return this.caught(l.originatesFromRejection,t)},n.getNewLibraryCopy=r.exports,n.is=function(t){return t instanceof n},n.fromNode=function(t){var e=new n(_),r=E(t)(x(e));return r===A&&e._rejectCallback(r.e,!0,!0),e},n.all=function(t){return new g(t).promise()},n.defer=n.pending=function(){var t=new n(_);return new k(t)},n.cast=function(t){var e=m(t);if(!(e instanceof n)){var r=e;e=new n(_),e._fulfillUnchecked(r)}return e},n.resolve=n.fulfilled=n.cast,n.reject=n.rejected=function(t){var e=new n(_);return e._captureStackTrace(),e._rejectCallback(t,!0),e},n.setScheduler=function(t){if("function"!=typeof t)throw new p("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var e=h._schedule;return h._schedule=t,e},n.prototype._then=function(t,e,r,i,s){var a=void 0!==s,u=a?s:new n(_);a||(u._propagateFrom(this,5),u._captureStackTrace());var l=this._target();l!==this&&(void 0===i&&(i=this._boundTo),a||u._setIsMigrated());var c=l._addCallbacks(t,e,r,u,i,o());return l._isResolved()&&!l._isSettlePromisesQueued()&&h.invoke(l._settlePromiseAtPostResolution,l,c),u},n.prototype._settlePromiseAtPostResolution=function(t){this._isRejectionUnhandled()&&this._unsetRejectionIsUnhandled(),this._settlePromiseAt(t)},n.prototype._length=function(){return 131071&this._bitField},n.prototype._isFollowingOrFulfilledOrRejected=function(){return(939524096&this._bitField)>0},n.prototype._isFollowing=function(){return 536870912==(536870912&this._bitField)},n.prototype._setLength=function(t){this._bitField=-131072&this._bitField|131071&t},n.prototype._setFulfilled=function(){this._bitField=268435456|this._bitField},n.prototype._setRejected=function(){this._bitField=134217728|this._bitField},n.prototype._setFollowing=function(){this._bitField=536870912|this._bitField},n.prototype._setIsFinal=function(){this._bitField=33554432|this._bitField},n.prototype._isFinal=function(){return(33554432&this._bitField)>0},n.prototype._cancellable=function(){return(67108864&this._bitField)>0},n.prototype._setCancellable=function(){this._bitField=67108864|this._bitField},n.prototype._unsetCancellable=function(){this._bitField=-67108865&this._bitField},n.prototype._setIsMigrated=function(){this._bitField=4194304|this._bitField},n.prototype._unsetIsMigrated=function(){this._bitField=-4194305&this._bitField},n.prototype._isMigrated=function(){return(4194304&this._bitField)>0},n.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[5*t-5+4];if(e!==c)return void 0===e&&this._isBound()?this._boundValue():e},n.prototype._promiseAt=function(t){return 0===t?this._promise0:this[5*t-5+3]},n.prototype._fulfillmentHandlerAt=function(t){return 0===t?this._fulfillmentHandler0:this[5*t-5+0]},n.prototype._rejectionHandlerAt=function(t){return 0===t?this._rejectionHandler0:this[5*t-5+1]},n.prototype._boundValue=function(){var t=this._boundTo;return void 0!==t&&t instanceof n?t.isFulfilled()?t.value():void 0:t},n.prototype._migrateCallbacks=function(t,e){var r=t._fulfillmentHandlerAt(e),i=t._rejectionHandlerAt(e),o=t._progressHandlerAt(e),s=t._promiseAt(e),a=t._receiverAt(e);s instanceof n&&s._setIsMigrated(),void 0===a&&(a=c),this._addCallbacks(r,i,o,s,a,null)},n.prototype._addCallbacks=function(t,e,r,n,i,o){var s=this._length();if(s>=131066&&(s=0,this._setLength(0)),0===s)this._promise0=n,void 0!==i&&(this._receiver0=i),"function"!=typeof t||this._isCarryingStackTrace()||(this._fulfillmentHandler0=null===o?t:o.bind(t)),"function"==typeof e&&(this._rejectionHandler0=null===o?e:o.bind(e)),"function"==typeof r&&(this._progressHandler0=null===o?r:o.bind(r));else{var a=5*s-5;this[a+3]=n,this[a+4]=i,"function"==typeof t&&(this[a+0]=null===o?t:o.bind(t)),"function"==typeof e&&(this[a+1]=null===o?e:o.bind(e)),"function"==typeof r&&(this[a+2]=null===o?r:o.bind(r))}return this._setLength(s+1),s},n.prototype._setProxyHandlers=function(t,e){var r=this._length();if(r>=131066&&(r=0,this._setLength(0)),0===r)this._promise0=e,this._receiver0=t;else{var n=5*r-5;this[n+3]=e,this[n+4]=t}this._setLength(r+1)},n.prototype._proxyPromiseArray=function(t,e){this._setProxyHandlers(t,e)},n.prototype._resolveCallback=function(t,e){if(!this._isFollowingOrFulfilledOrRejected()){if(t===this)return this._rejectCallback(s(),!1,!0);var r=m(t,this);if(!(r instanceof n))return this._fulfill(t);var i=1|(e?4:0);this._propagateFrom(r,i);var o=r._target();if(o._isPending()){for(var a=this._length(),u=0;u<a;++u)o._migrateCallbacks(this,u);this._setFollowing(),this._setLength(0),this._setFollowee(o)}else o._isFulfilled()?this._fulfillUnchecked(o._value()):this._rejectUnchecked(o._reason(),o._getCarriedStackTrace())}},n.prototype._rejectCallback=function(t,e,r){r||l.markAsOriginatingFromRejection(t);var n=l.ensureErrorObject(t),i=n===t;this._attachExtraTrace(n,!!e&&i),this._reject(t,i?void 0:n)},n.prototype._resolveFromResolver=function(t){var e=this;this._captureStackTrace(),this._pushContext();var r=!0,n=E(t)(function(t){null!==e&&(e._resolveCallback(t),e=null)},function(t){null!==e&&(e._rejectCallback(t,r),e=null)});r=!1,this._popContext(),void 0!==n&&n===A&&null!==e&&(e._rejectCallback(n.e,!0,!0),e=null)},n.prototype._settlePromiseFromHandler=function(t,e,r,n){if(!n._isRejected()){n._pushContext();var i;if(i=e!==d||this._isRejected()?E(t).call(e,r):E(t).apply(this._boundValue(),r),n._popContext(),i===A||i===n||i===v){var o=i===n?s():i.e;n._rejectCallback(o,!1,!0)}else n._resolveCallback(i)}},n.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},n.prototype._followee=function(){return this._rejectionHandler0},n.prototype._setFollowee=function(t){this._rejectionHandler0=t},n.prototype._cleanValues=function(){this._cancellable()&&(this._cancellationParent=void 0)},n.prototype._propagateFrom=function(t,e){(1&e)>0&&t._cancellable()&&(this._setCancellable(),this._cancellationParent=t),(4&e)>0&&t._isBound()&&this._setBoundTo(t._boundTo)},n.prototype._fulfill=function(t){this._isFollowingOrFulfilledOrRejected()||this._fulfillUnchecked(t)},n.prototype._reject=function(t,e){this._isFollowingOrFulfilledOrRejected()||this._rejectUnchecked(t,e)},n.prototype._settlePromiseAt=function(t){var e=this._promiseAt(t),r=e instanceof n;if(r&&e._isMigrated())return e._unsetIsMigrated(),h.invoke(this._settlePromiseAt,this,t);var i=this._isFulfilled()?this._fulfillmentHandlerAt(t):this._rejectionHandlerAt(t),o=this._isCarryingStackTrace()?this._getCarriedStackTrace():void 0,s=this._settledValue,a=this._receiverAt(t);this._clearCallbackDataAtIndex(t),"function"==typeof i?r?this._settlePromiseFromHandler(i,a,s,e):i.call(a,s,e):a instanceof g?a._isResolved()||(this._isFulfilled()?a._promiseFulfilled(s,e):a._promiseRejected(s,e)):r&&(this._isFulfilled()?e._fulfill(s):e._reject(s,o)),t>=4&&4==(31&t)&&h.invokeLater(this._setLength,this,0)},n.prototype._clearCallbackDataAtIndex=function(t){if(0===t)this._isCarryingStackTrace()||(this._fulfillmentHandler0=void 0),this._rejectionHandler0=this._progressHandler0=this._receiver0=this._promise0=void 0;else{var e=5*t-5;this[e+3]=this[e+4]=this[e+0]=this[e+1]=this[e+2]=void 0}},n.prototype._isSettlePromisesQueued=function(){return-1073741824==(-1073741824&this._bitField)},n.prototype._setSettlePromisesQueued=function(){this._bitField=-1073741824|this._bitField},n.prototype._unsetSettlePromisesQueued=function(){this._bitField=1073741823&this._bitField},n.prototype._queueSettlePromises=function(){h.settlePromises(this),this._setSettlePromisesQueued()},n.prototype._fulfillUnchecked=function(t){if(t===this){var e=s();return this._attachExtraTrace(e),this._rejectUnchecked(e,void 0)}this._setFulfilled(),this._settledValue=t,this._cleanValues(),this._length()>0&&this._queueSettlePromises()},n.prototype._rejectUncheckedCheckError=function(t){var e=l.ensureErrorObject(t);this._rejectUnchecked(t,e===t?void 0:e)},n.prototype._rejectUnchecked=function(t,e){if(t===this){var r=s();return this._attachExtraTrace(r),this._rejectUnchecked(r)}if(this._setRejected(),this._settledValue=t,this._cleanValues(),this._isFinal())return void h.throwLater(function(t){throw"stack"in t&&h.invokeFirst(y.unhandledRejection,void 0,t),t},void 0===e?t:e);void 0!==e&&e!==t&&this._setCarriedStackTrace(e),this._length()>0?this._queueSettlePromises():this._ensurePossibleRejectionHandled()},n.prototype._settlePromises=function(){this._unsetSettlePromisesQueued();for(var t=this._length(),e=0;e<t;e++)this._settlePromiseAt(e)},l.notEnumerableProp(n,"_makeSelfResolutionError",s),t("./progress.js")(n,g),t("./method.js")(n,_,m,u),t("./bind.js")(n,_,m),t("./finally.js")(n,v,m),t("./direct_resolve.js")(n),t("./synchronous_inspection.js")(n),t("./join.js")(n,g,m,_),n.version="2.11.0",n.Promise=n,t("./map.js")(n,g,u,m,_),t("./cancel.js")(n),t("./using.js")(n,u,m,w),t("./generators.js")(n,u,_,m),t("./nodeify.js")(n),t("./call_get.js")(n),t("./props.js")(n,g,m,u),t("./race.js")(n,_,m,u),t("./reduce.js")(n,g,u,m,_),t("./settle.js")(n,g),t("./some.js")(n,g,u),t("./promisify.js")(n,_),t("./any.js")(n),t("./each.js")(n,_),t("./timers.js")(n,_),t("./filter.js")(n,_),l.toFastProperties(n),l.toFastProperties(n.prototype),i({a:1}),i({b:2}),i({c:3}),i(1),i(function(){}),i(void 0),i(!1),i(new n(_)),y.setBounds(h.firstLineError,l.lastLineError),n}},{"./any.js":1,"./async.js":2,"./bind.js":3,"./call_get.js":5,"./cancel.js":6,"./captured_trace.js":7,"./catch_filter.js":8,"./context.js":9,"./debuggability.js":10,"./direct_resolve.js":11,"./each.js":12,"./errors.js":13,"./filter.js":15,"./finally.js":16,"./generators.js":17,"./join.js":18,"./map.js":19,"./method.js":20,"./nodeify.js":21,"./progress.js":22,"./promise_array.js":24,"./promise_resolver.js":25,"./promisify.js":26,"./props.js":27,"./race.js":29,"./reduce.js":30,"./settle.js":32,"./some.js":33,"./synchronous_inspection.js":34,"./thenables.js":35,"./timers.js":36,"./using.js":37,"./util.js":38}],24:[function(t,e,r){"use strict";e.exports=function(e,r,n,i){function o(t){switch(t){case-2:return[];case-3:return{}}}function s(t){var n,i=this._promise=new e(r);t instanceof e&&(n=t,i._propagateFrom(n,5)),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var a=t("./util.js"),u=a.isArray;return s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function t(r,s){var a=n(this._values,this._promise);if(a instanceof e){if(a=a._target(),this._values=a,!a._isFulfilled())return a._isPending()?void a._then(t,this._reject,void 0,this,s):void this._reject(a._reason());if(a=a._value(),!u(a)){var l=new e.TypeError("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");return void this.__hardReject__(l)}}else if(!u(a))return void this._promise._reject(i("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n")._reason());if(0===a.length)return void(-5===s?this._resolveEmptyArray():this._resolve(o(s)));var c=this.getActualLength(a.length);this._length=c,this._values=this.shouldCopyValues()?new Array(c):this._values;for(var h=this._promise,f=0;f<c;++f){var p=this._isResolved(),_=n(a[f],h);_ instanceof e?(_=_._target(),p?_._ignoreRejections():_._isPending()?_._proxyPromiseArray(this,f):_._isFulfilled()?this._promiseFulfilled(_._value(),f):this._promiseRejected(_._reason(),f)):p||this._promiseFulfilled(_,f)}},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},s.prototype.__hardReject__=s.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1,!0)},s.prototype._promiseProgressed=function(t,e){this._promise._progress({index:e,value:t})},s.prototype._promiseFulfilled=function(t,e){this._values[e]=t,++this._totalResolved>=this._length&&this._resolve(this._values)},s.prototype._promiseRejected=function(t,e){this._totalResolved++,this._reject(t)},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(t){return t},s}},{"./util.js":38}],25:[function(t,e,r){"use strict";function n(t){return t instanceof Error&&p.getPrototypeOf(t)===Error.prototype}function i(t){var e;if(n(t)){e=new h(t),e.name=t.name,e.message=t.message,e.stack=t.stack;for(var r=p.keys(t),i=0;i<r.length;++i){var o=r[i];_.test(o)||(e[o]=t[o])}return e}return a.markAsOriginatingFromRejection(t),t}function o(t){return function(e,r){if(null!==t){if(e){var n=i(u(e));t._attachExtraTrace(n),t._reject(n)}else if(arguments.length>2){for(var o=arguments.length,s=new Array(o-1),a=1;a<o;++a)s[a-1]=arguments[a];t._fulfill(s)}else t._fulfill(r);t=null}}}var s,a=t("./util.js"),u=a.maybeWrapAsError,l=t("./errors.js"),c=l.TimeoutError,h=l.OperationalError,f=a.haveGetters,p=t("./es5.js"),_=/^(?:name|message|stack|cause)$/;if(s=f?function(t){this.promise=t}:function(t){this.promise=t,this.asCallback=o(t),this.callback=this.asCallback},f){var d={get:function(){return o(this.promise)}};p.defineProperty(s.prototype,"asCallback",d),p.defineProperty(s.prototype,"callback",d)}s._nodebackForPromise=o,s.prototype.toString=function(){return"[object PromiseResolver]"},s.prototype.resolve=s.prototype.fulfill=function(t){if(!(this instanceof s))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._resolveCallback(t)},s.prototype.reject=function(t){if(!(this instanceof s))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._rejectCallback(t)},s.prototype.progress=function(t){if(!(this instanceof s))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._progress(t)},s.prototype.cancel=function(t){this.promise.cancel(t)},s.prototype.timeout=function(){this.reject(new c("timeout"))},s.prototype.isResolved=function(){return this.promise.isResolved()},s.prototype.toJSON=function(){return this.promise.toJSON()},e.exports=s},{"./errors.js":13,"./es5.js":14,"./util.js":38}],26:[function(t,e,r){"use strict";e.exports=function(e,r){function n(t){return!w.test(t)}function i(t){try{return!0===t.__isPromisified__}catch(t){return!1}}function o(t,e,r){var n=p.getDataPropertyOrDefault(t,e+r,y);return!!n&&i(n)}function s(t,e,r){for(var n=0;n<t.length;n+=2){var i=t[n];if(r.test(i))for(var o=i.replace(r,""),s=0;s<t.length;s+=2)if(t[s]===o)throw new g("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/iWrZbw\n".replace("%s",e))}}function a(t,e,r,n){for(var a=p.inheritedDataKeys(t),u=[],l=0;l<a.length;++l){var c=a[l],h=t[c],f=n===C||C(c,h,t);"function"!=typeof h||i(h)||o(t,c,e)||!n(c,h,t,f)||u.push(c,h)}return s(u,e,r),u}function u(t,n,i,o){function s(){var i=n;n===f&&(i=this);var o=new e(r);o._captureStackTrace();var s="string"==typeof u&&this!==a?this[u]:t,l=_(o);try{s.apply(i,d(arguments,l))}catch(t){o._rejectCallback(v(t),!0,!0)}return o}var a=function(){return this}(),u=t;return"string"==typeof u&&(t=o),p.notEnumerableProp(s,"__isPromisified__",!0),s}function l(t,e,r,n){for(var i=new RegExp(k(e)+"$"),o=a(t,e,i,r),s=0,u=o.length;s<u;s+=2){var l=o[s],c=o[s+1],h=l+e;if(n===x)t[h]=x(l,f,l,c,e);else{var _=n(c,function(){return x(l,f,l,c,e)});p.notEnumerableProp(_,"__isPromisified__",!0),t[h]=_}}return p.toFastProperties(t),t}function c(t,e){return x(t,e,void 0,t)}var h,f={},p=t("./util.js"),_=t("./promise_resolver.js")._nodebackForPromise,d=p.withAppended,v=p.maybeWrapAsError,m=p.canEvaluate,g=t("./errors").TypeError,y={__isPromisified__:!0},b=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],w=new RegExp("^(?:"+b.join("|")+")$"),C=function(t){return p.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t},k=function(t){return t.replace(/([$])/,"\\$")},x=m?h:u;e.promisify=function(t,e){if("function"!=typeof t)throw new g("fn must be a function\n\n    See http://goo.gl/916lJJ\n");if(i(t))return t;var r=c(t,arguments.length<2?f:e);return p.copyDescriptors(t,r,n),r},e.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new g("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/9ITlV0\n");e=Object(e);var r=e.suffix;"string"!=typeof r&&(r="Async");var n=e.filter;"function"!=typeof n&&(n=C);var i=e.promisifier;if("function"!=typeof i&&(i=x),!p.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/8FZo5V\n");for(var o=p.inheritedDataKeys(t),s=0;s<o.length;++s){var a=t[o[s]];"constructor"!==o[s]&&p.isClass(a)&&(l(a.prototype,r,n,i),l(a,r,n,i))}return l(t,r,n,i)}}},{"./errors":13,"./promise_resolver.js":25,"./util.js":38}],27:[function(t,e,r){"use strict";e.exports=function(e,r,n,i){function o(t){for(var e=l.keys(t),r=e.length,n=new Array(2*r),i=0;i<r;++i){var o=e[i];n[i]=t[o],n[i+r]=o}this.constructor$(n)}function s(t){var r,s=n(t);return u(s)?(r=s instanceof e?s._then(e.props,void 0,void 0,void 0,void 0):new o(s).promise(),s instanceof e&&r._propagateFrom(s,4),r):i("cannot await properties of a non-object\n\n    See http://goo.gl/OsFKC8\n")}var a=t("./util.js"),u=a.isObject,l=t("./es5.js");a.inherits(o,r),o.prototype._init=function(){this._init$(void 0,-3)},o.prototype._promiseFulfilled=function(t,e){if(this._values[e]=t,++this._totalResolved>=this._length){for(var r={},n=this.length(),i=0,o=this.length();i<o;++i)r[this._values[i+n]]=this._values[i];this._resolve(r)}},o.prototype._promiseProgressed=function(t,e){this._promise._progress({key:this._values[e+this.length()],value:t})},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(t){return t>>1},e.prototype.props=function(){return s(this)},e.props=function(t){return s(t)}}},{"./es5.js":14,"./util.js":38}],28:[function(t,e,r){"use strict";function n(t,e,r,n,i){for(var o=0;o<i;++o)r[o+n]=t[o+e],t[o+e]=void 0}function i(t){this._capacity=t,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(t){return this._capacity<t},i.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1),this[this._front+e&this._capacity-1]=t,this._length=e+1},i.prototype._unshiftOne=function(t){var e=this._capacity;this._checkCapacity(this.length()+1);var r=this._front,n=(r-1&e-1^e)-e;this[n]=t,this._front=n,this._length=this.length()+1},i.prototype.unshift=function(t,e,r){this._unshiftOne(r),this._unshiftOne(e),this._unshiftOne(t)},i.prototype.push=function(t,e,r){var n=this.length()+3;if(this._willBeOverCapacity(n))return this._pushOne(t),this._pushOne(e),void this._pushOne(r);var i=this._front+n-3;this._checkCapacity(n);var o=this._capacity-1;this[i+0&o]=t,this[i+1&o]=e,this[i+2&o]=r,this._length=n},i.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t,n(this,0,this,e,this._front+this._length&e-1)},e.exports=i},{}],29:[function(t,e,r){"use strict";e.exports=function(e,r,n,i){function o(t,o){var u=n(t);if(u instanceof e)return a(u);if(!s(t))return i("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");var l=new e(r);void 0!==o&&l._propagateFrom(o,5);for(var c=l._fulfill,h=l._reject,f=0,p=t.length;f<p;++f){var _=t[f];(void 0!==_||f in t)&&e.cast(_)._then(c,h,void 0,l,null)}return l}var s=t("./util.js").isArray,a=function(t){return t.then(function(e){return o(e,t)})};e.race=function(t){return o(t,void 0)},e.prototype.race=function(){return o(this,void 0)}}},{"./util.js":38}],30:[function(t,e,r){"use strict";e.exports=function(e,r,n,i,o){function s(t,r,n,s){this.constructor$(t),this._promise._captureStackTrace(),this._preservedValues=s===o?[]:null,this._zerothIsAccum=void 0===n,this._gotAccum=!1,this._reducingIndex=this._zerothIsAccum?1:0,this._valuesPhase=void 0;var u=i(n,this._promise),h=!1,f=u instanceof e;f&&(u=u._target(),u._isPending()?u._proxyPromiseArray(this,-1):u._isFulfilled()?(n=u._value(),this._gotAccum=!0):(this._reject(u._reason()),h=!0)),f||this._zerothIsAccum||(this._gotAccum=!0);var p=l();this._callback=null===p?r:p.bind(r),this._accum=n,h||c.invoke(a,this,void 0)}function a(){this._init$(void 0,-5)}function u(t,e,r,i){return"function"!=typeof e?n("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):new s(t,e,r,i).promise()}var l=e._getDomain,c=t("./async.js"),h=t("./util.js"),f=h.tryCatch,p=h.errorObj;h.inherits(s,r),s.prototype._init=function(){},s.prototype._resolveEmptyArray=function(){(this._gotAccum||this._zerothIsAccum)&&this._resolve(null!==this._preservedValues?[]:this._accum)},s.prototype._promiseFulfilled=function(t,r){var n=this._values;n[r]=t;var o,s=this.length(),a=this._preservedValues,u=null!==a,l=this._gotAccum,c=this._valuesPhase;if(!c)for(c=this._valuesPhase=new Array(s),o=0;o<s;++o)c[o]=0;if(o=c[r],0===r&&this._zerothIsAccum?(this._accum=t,this._gotAccum=l=!0,c[r]=0===o?1:2):-1===r?(this._accum=t,this._gotAccum=l=!0):0===o?c[r]=1:(c[r]=2,this._accum=t),l){for(var h,_=this._callback,d=this._promise._boundValue(),v=this._reducingIndex;v<s;++v)if(2!==(o=c[v])){if(1!==o)return;if(t=n[v],this._promise._pushContext(),u?(a.push(t),h=f(_).call(d,t,v,s)):h=f(_).call(d,this._accum,t,v,s),this._promise._popContext(),h===p)return this._reject(h.e);var m=i(h,this._promise);if(m instanceof e){if(m=m._target(),m._isPending())return c[v]=4,m._proxyPromiseArray(this,v);if(!m._isFulfilled())return this._reject(m._reason());h=m._value()}this._reducingIndex=v+1,this._accum=h}else this._reducingIndex=v+1;this._resolve(u?a:this._accum)}},e.prototype.reduce=function(t,e){return u(this,t,e,null)},e.reduce=function(t,e,r,n){return u(t,e,r,n)}}},{"./async.js":2,"./util.js":38}],31:[function(t,r,o){"use strict";var s,a=t("./util"),u=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")};if(a.isNode&&"undefined"==typeof MutationObserver){var l=n.setImmediate,c=e.nextTick;s=a.isRecentNode?function(t){l.call(n,t)}:function(t){c.call(e,t)}}else"undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&window.navigator.standalone?s=void 0!==i?function(t){i(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:u:(s=function(t){var e=document.createElement("div");return new MutationObserver(t).observe(e,{attributes:!0}),function(){e.classList.toggle("foo")}},s.isStatic=!0);r.exports=s},{"./util":38}],32:[function(t,e,r){"use strict";e.exports=function(e,r){function n(t){this.constructor$(t)}var i=e.PromiseInspection;t("./util.js").inherits(n,r),n.prototype._promiseResolved=function(t,e){this._values[t]=e,++this._totalResolved>=this._length&&this._resolve(this._values)},n.prototype._promiseFulfilled=function(t,e){var r=new i;r._bitField=268435456,r._settledValue=t,this._promiseResolved(e,r)},n.prototype._promiseRejected=function(t,e){var r=new i;r._bitField=134217728,r._settledValue=t,this._promiseResolved(e,r)},e.settle=function(t){return new n(t).promise()},e.prototype.settle=function(){return new n(this).promise()}}},{"./util.js":38}],33:[function(t,e,r){"use strict";e.exports=function(e,r,n){function i(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(t,e){if((0|e)!==e||e<0)return n("expecting a positive integer\n\n    See http://goo.gl/1wAmHx\n");var r=new i(t),o=r.promise();return r.setHowMany(e),r.init(),o}var s=t("./util.js"),a=t("./errors.js").RangeError,u=t("./errors.js").AggregateError,l=s.isArray;s.inherits(i,r),i.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var t=l(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(t){this._howMany=t},i.prototype._promiseFulfilled=function(t){this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values))},i.prototype._promiseRejected=function(t){if(this._addRejected(t),this.howMany()>this._canPossiblyFulfill()){for(var e=new u,r=this.length();r<this._values.length;++r)e.push(this._values[r]);this._reject(e)}},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()},i.prototype._addRejected=function(t){this._values.push(t)},i.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},i.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new a(e)},i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(t,e){return o(t,e)},e.prototype.some=function(t){return o(this,t)},e._SomePromiseArray=i}},{"./errors.js":13,"./util.js":38}],34:[function(t,e,r){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValue=t._settledValue):(this._bitField=0,this._settledValue=void 0)}e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return this._settledValue},e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return this._settledValue},e.prototype.isFulfilled=t.prototype._isFulfilled=function(){return(268435456&this._bitField)>0},e.prototype.isRejected=t.prototype._isRejected=function(){return(134217728&this._bitField)>0},e.prototype.isPending=t.prototype._isPending=function(){return 0==(402653184&this._bitField)},e.prototype.isResolved=t.prototype._isResolved=function(){return(402653184&this._bitField)>0},t.prototype.isPending=function(){return this._target()._isPending()},t.prototype.isRejected=function(){return this._target()._isRejected()},t.prototype.isFulfilled=function(){return this._target()._isFulfilled()},t.prototype.isResolved=function(){return this._target()._isResolved()},t.prototype._value=function(){return this._settledValue},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue},t.prototype.value=function(){var t=this._target();if(!t.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return t._settledValue},t.prototype.reason=function(){var t=this._target();if(!t.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return t._unsetRejectionIsUnhandled(),t._settledValue},t.PromiseInspection=e}},{}],35:[function(t,e,r){"use strict";e.exports=function(e,r){function n(t,n){if(l(t)){if(t instanceof e)return t;if(o(t)){var c=new e(r);return t._then(c._fulfillUnchecked,c._rejectUncheckedCheckError,c._progressUnchecked,c,null),c}var h=a.tryCatch(i)(t);if(h===u){n&&n._pushContext();var c=e.reject(h.e);return n&&n._popContext(),c}if("function"==typeof h)return s(t,h,n)}return t}function i(t){return t.then}function o(t){return c.call(t,"_promise0")}function s(t,n,i){function o(t){c&&(c._resolveCallback(t),c=null)}function s(t){c&&(c._rejectCallback(t,f,!0),c=null)}function l(t){c&&"function"==typeof c._progress&&c._progress(t)}var c=new e(r),h=c;i&&i._pushContext(),c._captureStackTrace(),i&&i._popContext();var f=!0,p=a.tryCatch(n).call(t,o,s,l);return f=!1,c&&p===u&&(c._rejectCallback(p.e,!0,!0),c=null),h}var a=t("./util.js"),u=a.errorObj,l=a.isObject,c={}.hasOwnProperty;return n}},{"./util.js":38}],36:[function(t,e,r){"use strict";e.exports=function(e,r){function n(t){var e=this;return e instanceof Number&&(e=+e),clearTimeout(e),t}function i(t){var e=this;throw e instanceof Number&&(e=+e),clearTimeout(e),t}var o=t("./util.js"),s=e.TimeoutError,a=function(t,e){if(t.isPending()){var r;!o.isPrimitive(e)&&e instanceof Error?r=e:("string"!=typeof e&&(e="operation timed out"),r=new s(e)),o.markAsOriginatingFromRejection(r),t._attachExtraTrace(r),t._cancel(r)}},u=function(t){return l(+this).thenReturn(t)},l=e.delay=function(t,n){if(void 0===n){n=t,t=void 0;var i=new e(r);return setTimeout(function(){i._fulfill()},n),i}return n=+n,e.resolve(t)._then(u,null,null,n,void 0)};e.prototype.delay=function(t){return l(this,t)},e.prototype.timeout=function(t,e){t=+t;var r=this.then().cancellable();r._cancellationParent=this;var o=setTimeout(function(){a(r,e)},t);return r._then(n,i,void 0,o,void 0)}}},{"./util.js":38}],37:[function(t,e,r){"use strict";e.exports=function(e,r,n,i){function o(t){for(var r=t.length,n=0;n<r;++n){var i=t[n];if(i.isRejected())return e.reject(i.error());t[n]=i._settledValue}return t}function s(t){setTimeout(function(){throw t},0)}function a(t){var e=n(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}function u(t,r){function i(){if(o>=u)return l.resolve();var c=a(t[o++]);if(c instanceof e&&c._isDisposable()){try{c=n(c._getDisposer().tryDispose(r),t.promise)}catch(t){return s(t)}if(c instanceof e)return c._then(i,s,null,null,null)}i()}var o=0,u=t.length,l=e.defer();return i(),l.promise}function l(t){var e=new v;return e._settledValue=t,e._bitField=268435456,u(this,e).thenReturn(t)}function c(t){var e=new v;return e._settledValue=t,e._bitField=134217728,u(this,e).thenThrow(t)}function h(t,e,r){this._data=t,this._promise=e,this._context=r}function f(t,e,r){this.constructor$(t,e,r)}function p(t){return h.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}var _=t("./errors.js").TypeError,d=t("./util.js").inherits,v=e.PromiseInspection;h.prototype.data=function(){return this._data},h.prototype.promise=function(){return this._promise},h.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():null},h.prototype.tryDispose=function(t){var e=this.resource(),r=this._context;void 0!==r&&r._pushContext();var n=null!==e?this.doDispose(e,t):null;return void 0!==r&&r._popContext(),this._promise._unsetDisposable(),this._data=null,n},h.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},d(f,h),f.prototype.doDispose=function(t,e){return this.data().call(t,t,e)},e.using=function(){var t=arguments.length;if(t<2)return r("you must pass at least 2 arguments to Promise.using");var i=arguments[t-1];if("function"!=typeof i)return r("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var s,a=!0;2===t&&Array.isArray(arguments[0])?(s=arguments[0],t=s.length,a=!1):(s=arguments,t--);for(var u=new Array(t),f=0;f<t;++f){var _=s[f];if(h.isDisposer(_)){var d=_;_=_.promise(),_._setDisposable(d)}else{var v=n(_);v instanceof e&&(_=v._then(p,null,null,{resources:u,index:f},void 0))}u[f]=_}var m=e.settle(u).then(o).then(function(t){m._pushContext();var e;try{e=a?i.apply(void 0,t):i.call(void 0,t)}finally{m._popContext()}return e})._then(l,c,void 0,u,void 0);return u.promise=m,m},e.prototype._setDisposable=function(t){this._bitField=262144|this._bitField,this._disposer=t},e.prototype._isDisposable=function(){return(262144&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=-262145&this._bitField,this._disposer=void 0},e.prototype.disposer=function(t){if("function"==typeof t)return new f(t,this,i());throw new _}}},{"./errors.js":13,"./util.js":38}],38:[function(t,r,n){"use strict";function i(){try{var t=j;return j=null,t.apply(this,arguments)}catch(t){return E.e=t,E}}function o(t){return j=t,i}function s(t){return null==t||!0===t||!1===t||"string"==typeof t||"number"==typeof t}function a(t){return!s(t)}function u(t){return s(t)?new Error(m(t)):t}function l(t,e){var r,n=t.length,i=new Array(n+1);for(r=0;r<n;++r)i[r]=t[r];return i[r]=e,i}function c(t,e,r){if(!k.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var n=Object.getOwnPropertyDescriptor(t,e);return null!=n?null==n.get&&null==n.set?n.value:r:void 0}function h(t,e,r){if(s(t))return t;var n={value:r,configurable:!0,enumerable:!1,writable:!0};return k.defineProperty(t,e,n),t}function f(t){throw t}function p(t){try{if("function"==typeof t){var e=k.names(t.prototype),r=k.isES5&&e.length>1,n=e.length>0&&!(1===e.length&&"constructor"===e[0]),i=S.test(t+"")&&k.names(t).length>0;if(r||n||i)return!0}return!1}catch(t){return!1}}function _(t){function e(){}e.prototype=t;for(var r=8;r--;)new e;return t}function d(t){return F.test(t)}function v(t,e,r){for(var n=new Array(t),i=0;i<t;++i)n[i]=e+i+r;return n}function m(t){try{return t+""}catch(t){return"[no string representation]"}}function g(t){try{h(t,"isOperational",!0)}catch(t){}}function y(t){return null!=t&&(t instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===t.isOperational)}function b(t){return t instanceof Error&&k.propertyIsWritable(t,"stack")}function w(t){return{}.toString.call(t)}function C(t,e,r){for(var n=k.names(t),i=0;i<n.length;++i){var o=n[i];if(r(o))try{k.defineProperty(e,o,k.getDescriptor(t,o))}catch(t){}}}var k=t("./es5.js"),x="undefined"==typeof navigator,A=function(){try{var t={};return k.defineProperty(t,"f",{get:function(){return 3}}),3===t.f}catch(t){return!1}}(),E={e:{}},j,P=function(t,e){function r(){this.constructor=t,this.constructor$=e;for(var r in e.prototype)n.call(e.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=e.prototype[r])}var n={}.hasOwnProperty;return r.prototype=e.prototype,t.prototype=new r,t.prototype},T=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var r=0;r<t.length;++r)if(t[r]===e)return!0;return!1};if(k.isES5){var r=Object.getOwnPropertyNames;return function(t){for(var n=[],i=Object.create(null);null!=t&&!e(t);){var o;try{o=r(t)}catch(t){return n}for(var s=0;s<o.length;++s){var a=o[s];if(!i[a]){i[a]=!0;var u=Object.getOwnPropertyDescriptor(t,a);null!=u&&null==u.get&&null==u.set&&n.push(a)}}t=k.getPrototypeOf(t)}return n}}var n={}.hasOwnProperty;return function(r){if(e(r))return[];var i=[];t:for(var o in r)if(n.call(r,o))i.push(o);else{for(var s=0;s<t.length;++s)if(n.call(t[s],o))continue t;i.push(o)}return i}}(),S=/this\s*\.\s*\S+\s*=/,F=/^[a-z$_][a-z$_0-9]*$/i,B=function(){return"stack"in new Error?function(t){return b(t)?t:new Error(m(t))}:function(t){if(b(t))return t;try{throw new Error(m(t))}catch(t){return t}}}(),D={isClass:p,isIdentifier:d,inheritedDataKeys:T,getDataPropertyOrDefault:c,thrower:f,isArray:k.isArray,haveGetters:A,notEnumerableProp:h,isPrimitive:s,isObject:a,canEvaluate:x,errorObj:E,tryCatch:o,inherits:P,withAppended:l,maybeWrapAsError:u,toFastProperties:_,filledRange:v,toString:m,canAttachTrace:b,ensureErrorObject:B,originatesFromRejection:y,markAsOriginatingFromRejection:g,classString:w,copyDescriptors:C,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:void 0!==e&&"[object process]"===w(e).toLowerCase()};D.isRecentNode=D.isNode&&function(){var t=e.versions.node.split(".").map(Number);return 0===t[0]&&t[1]>10||t[0]>0}(),D.isNode&&D.toFastProperties(e);try{throw new Error}catch(t){D.lastLineError=t}r.exports=D},{"./es5.js":14}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(e,r(410),r(111),r(784).setImmediate)},803:function(t,e,r){(function(t,e){!function(t,r){"use strict";function n(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var n={callback:t,args:e};return l[u]=n,a(u),u++}function i(t){delete l[t]}function o(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(r,n)}}function s(t){if(c)setTimeout(s,0,t);else{var e=l[t];if(e){c=!0;try{o(e)}finally{i(t),c=!1}}}}if(!t.setImmediate){var a,u=1,l={},c=!1,h=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?function(){a=function(t){e.nextTick(function(){s(t)})}}():function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?function(){var e="setImmediate$"+Math.random()+"$",r=function(r){r.source===t&&"string"==typeof r.data&&0===r.data.indexOf(e)&&s(+r.data.slice(e.length))};t.addEventListener?t.addEventListener("message",r,!1):t.attachEvent("onmessage",r),a=function(r){t.postMessage(e+r,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){s(t.data)},a=function(e){t.port2.postMessage(e)}}():h&&"onreadystatechange"in h.createElement("script")?function(){var t=h.documentElement;a=function(e){var r=h.createElement("script");r.onreadystatechange=function(){s(e),r.onreadystatechange=null,t.removeChild(r),r=null},t.appendChild(r)}}():function(){a=function(t){setTimeout(s,0,t)}}(),f.setImmediate=n,f.clearImmediate=i}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,r(111),r(410))}});