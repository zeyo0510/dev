var LostUI={};LostUI.loader=function(){function c(){d(),b=document.createElement("div"),b.className="loader",a.body.appendChild(b)}function d(){b&&b.parentNode&&b.parentNode.removeChild(b)}var a=document,b;return{setDocument:function(b){a=b},show:c,hide:d}}(),LostUI.notifications=function(){function f(c){c=c||function(){},e=!1;var f=a.getElementsByClassName(b.box);if(f.length==0)return c();for(var g=0;g<f.length;g++)f[g].className=b.box+" "+b.hideBox;setTimeout(function(){c()},300),d&&clearTimeout(d)}function g(g){d&&clearTimeout(d),e=g.id||!1,c.box=a.createElement("div"),c.box.className=b.box+" "+b.hideBox,c.wrapper=a.createElement("div"),c.box.appendChild(c.wrapper),c.image=a.createElement("div"),c.image.className=b.image,c.image.style.backgroundImage=g.image||"none",c.wrapper.appendChild(c.image),c.body=a.createElement("div"),c.body.className=b.body,c.wrapper.appendChild(c.body),c.title=a.createElement("h3"),c.title.innerHTML=g.title,c.body.appendChild(c.title),c.message=a.createElement("p"),c.message.innerHTML=g.message,c.body.appendChild(c.message),a.body.appendChild(c.box),setTimeout(function(){c.box.className=b.box+" "+b.showBox},50),d=setTimeout(function(){f()},5e3)}var a=document,b={box:"helptip",image:"image",body:"message",showBox:"helptipIn",hideBox:"helptipOut"},c={box:null,wrapper:null,image:null,body:null,title:null,message:null},d=!1,e=!1;return{setDocument:function(b){a=b},create:function(a){a=a||{};if(a.id==e)return!1;f(function(){g(a)})},clear:function(){f()}}}(),LostUI.dialogs=function(){function d(d){return e(),c.modal=a.createElement("div"),c.modal.className=b.modal,a.body.appendChild(c.modal),d.cancellable!==!1&&(c.modal.addEventListener("keydown",g,!1),c.modal.setAttribute("tabindex","0"),c.modal.focus()),c.modal}function e(){var c=a.body.getElementsByClassName(b.modal);while(c.length>0)c[0].parentNode.removeChild(c[0]),c=a.body.getElementsByClassName(b.modal)}function f(){n(),e(),a.body.removeEventListener("keydown",g,!1)}function g(a){switch(a.keyCode){case 27:f()}}function h(d){var e=d.width||"200px",f=d.height||"200px",g=a.createElement("div");c.win=g,g.className=b.win,g.style.width=e,g.style.height=f,g.appendChild(i(d)),g.style.webkitTransform="scale(0.1,0.1)",g.style.opacity=0;var h=setInterval(function(){if(!g.parentNode)return!1;clearInterval(h),g.appendChild(j(d)),g.style.webkitTransform="scale(1,1)",g.style.opacity=1},5);return c.win}function i(d){var e=d.icon||"none",f=d.title||"",g=a.createElement("div");return c.title=g,g.className=b.title,g.style.backgroundImage=e,g.appendChild(a.createTextNode(f)),c.title}function j(d){var e=a.createElement("div");e.className=b.body,c.body=e;var f=c.win,g=c.title;e.style.width=f.offsetWidth-4+"px",e.style.height=f.offsetHeight-g.offsetHeight-4+"px";if(d.content){var h=a.createElement("div");c.content=h,h.className=b.content,h.innerHTML=d.content.innerHTML,e.appendChild(h),typeof d.ready=="function"&&d.ready(l())}var i=k(d);return i&&e.appendChild(i),c.body}function k(d){var e=!0,g=!1;d.cancellable===!1&&(e=!1),typeof d.submit=="function"&&(g=!0);if(!e&&!g)return!1;var h=a.createElement("div");c.actions=h,h.className=b.actions;if(g){var i=a.createElement("button");i.appendChild(a.createTextNode("OK")),i.onclick=function(){d.submit.apply(this,[m()])},h.appendChild(i)}if(e){var j=a.createElement("button");j.appendChild(a.createTextNode("Cancel")),j.onclick=function(){f()},h.appendChild(j)}return h}function l(){var a={},b=c.content,d=b.getElementsByTagName("*");for(var e=0;e<d.length;e++){var f=d[e].getAttribute("data-fieldname");if(!f)continue;a[f]=d[e]}return a}function m(){var a={},b=l();for(var c in b){var d=b[c];switch(d.nodeName){case"INPUT":switch(d.type){case"number":case"text":a[c]=d.value;break;case"checkbox":a[c]=d.checked}}}return a}function n(){for(var a in c){if(!c[a])continue;c[a].parentNode&&c[a].parentNode.removeChild(c[a]),c[a]=null}}var a=document,b={modal:"modal",win:"window",title:"title",body:"body",actions:"actions",content:"content"},c={modal:null,win:null,title:null,body:null,actions:null,content:null};return{setDocument:function(b){a=b},create:function(a){LostUI.notifications.clear(),n(),a=a||{};var b=d(a);b.appendChild(h(a))},close:function(){n(),e()}}}()