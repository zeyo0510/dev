var requirejs,require,define;!function(global){function isFunction(t){return"[object Function]"===ostring.call(t)}function isArray(t){return"[object Array]"===ostring.call(t)}function each(t,e){if(t){var n;for(n=0;n<t.length&&(!t[n]||!e(t[n],n,t));n+=1);}}function eachReverse(t,e){if(t){var n;for(n=t.length-1;n>-1&&(!t[n]||!e(t[n],n,t));n-=1);}}function hasProp(t,e){return hasOwn.call(t,e)}function getOwn(t,e){return hasProp(t,e)&&t[e]}function eachProp(t,e){var n;for(n in t)if(hasProp(t,n)&&e(t[n],n))break}function mixin(t,e,n,r){return e&&eachProp(e,function(e,i){(n||!hasProp(t,i))&&(!r||"object"!=typeof e||!e||isArray(e)||isFunction(e)||e instanceof RegExp?t[i]=e:(t[i]||(t[i]={}),mixin(t[i],e,n,r)))}),t}function bind(t,e){return function(){return e.apply(t,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(t){throw t}function getGlobal(t){if(!t)return t;var e=global;return each(t.split("."),function(t){e=e[t]}),e}function makeError(t,e,n,r){var i=new Error(e+"\nhttp://requirejs.org/docs/errors.html#"+t);return i.requireType=t,i.requireModules=r,n&&(i.originalError=n),i}function newContext(t){function e(t){var e,n;for(e=0;e<t.length;e++)if(n=t[e],"."===n)t.splice(e,1),e-=1;else if(".."===n){if(0===e||1===e&&".."===t[2]||".."===t[e-1])continue;e>0&&(t.splice(e-1,2),e-=2)}}function n(t,n,r){var i,o,s,a,u,l,c,h,f,d,p,g,v=n&&n.split("/"),m=C.map,y=m&&m["*"];if(t&&(t=t.split("/"),c=t.length-1,C.nodeIdCompat&&jsSuffixRegExp.test(t[c])&&(t[c]=t[c].replace(jsSuffixRegExp,"")),"."===t[0].charAt(0)&&v&&(g=v.slice(0,v.length-1),t=g.concat(t)),e(t),t=t.join("/")),r&&m&&(v||y)){s=t.split("/");t:for(a=s.length;a>0;a-=1){if(l=s.slice(0,a).join("/"),v)for(u=v.length;u>0;u-=1)if(o=getOwn(m,v.slice(0,u).join("/")),o&&(o=getOwn(o,l))){h=o,f=a;break t}!d&&y&&getOwn(y,l)&&(d=getOwn(y,l),p=a)}!h&&d&&(h=d,f=p),h&&(s.splice(0,f,h),t=s.join("/"))}return i=getOwn(C.pkgs,t),i?i:t}function r(t){isBrowser&&each(scripts(),function(e){return e.getAttribute("data-requiremodule")===t&&e.getAttribute("data-requirecontext")===b.contextName?(e.parentNode.removeChild(e),!0):void 0})}function i(t){var e=getOwn(C.paths,t);return e&&isArray(e)&&e.length>1?(e.shift(),b.require.undef(t),b.makeRequire(null,{skipMap:!0})([t]),!0):void 0}function o(t){var e,n=t?t.indexOf("!"):-1;return n>-1&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function s(t,e,r,i){var s,a,u,l,c=null,h=e?e.name:null,f=t,d=!0,p="";return t||(d=!1,t="_@r"+(I+=1)),l=o(t),c=l[0],t=l[1],c&&(c=n(c,h,i),a=getOwn(M,c)),t&&(c?p=a&&a.normalize?a.normalize(t,function(t){return n(t,h,i)}):-1===t.indexOf("!")?n(t,h,i):t:(p=n(t,h,i),l=o(p),c=l[0],p=l[1],r=!0,s=b.nameToUrl(p))),u=!c||a||r?"":"_unnormalized"+(A+=1),{prefix:c,name:p,parentMap:e,unnormalized:!!u,url:s,originalName:f,isDefine:d,id:(c?c+"!"+p:p)+u}}function a(t){var e=t.id,n=getOwn(L,e);return n||(n=L[e]=new b.Module(t)),n}function u(t,e,n){var r=t.id,i=getOwn(L,r);!hasProp(M,r)||i&&!i.defineEmitComplete?(i=a(t),i.error&&"error"===e?n(i.error):i.on(e,n)):"defined"===e&&n(M[r])}function l(t,e){var n=t.requireModules,r=!1;e?e(t):(each(n,function(e){var n=getOwn(L,e);n&&(n.error=t,n.events.error&&(r=!0,n.emit("error",t)))}),r||req.onError(t))}function c(){globalDefQueue.length&&(apsp.apply(T,[T.length,0].concat(globalDefQueue)),globalDefQueue=[])}function h(t){delete L[t],delete E[t]}function f(t,e,n){var r=t.map.id;t.error?t.emit("error",t.error):(e[r]=!0,each(t.depMaps,function(r,i){var o=r.id,s=getOwn(L,o);!s||t.depMatched[i]||n[o]||(getOwn(e,o)?(t.defineDep(i,M[o]),t.check()):f(s,e,n))}),n[r]=!0)}function d(){var t,e,n=1e3*C.waitSeconds,o=n&&b.startTime+n<(new Date).getTime(),s=[],a=[],u=!1,c=!0;if(!y){if(y=!0,eachProp(E,function(t){var n=t.map,l=n.id;if(t.enabled&&(n.isDefine||a.push(t),!t.error))if(!t.inited&&o)i(l)?(e=!0,u=!0):(s.push(l),r(l));else if(!t.inited&&t.fetched&&n.isDefine&&(u=!0,!n.prefix))return c=!1}),o&&s.length)return t=makeError("timeout","Load timeout for modules: "+s,null,s),t.contextName=b.contextName,l(t);c&&each(a,function(t){f(t,{},{})}),o&&!e||!u||!isBrowser&&!isWebWorker||_||(_=setTimeout(function(){_=0,d()},50)),y=!1}}function p(t){hasProp(M,t[0])||a(s(t[0],null,!0)).init(t[1],t[2])}function g(t,e,n,r){t.detachEvent&&!isOpera?r&&t.detachEvent(r,e):t.removeEventListener(n,e,!1)}function v(t){var e=t.currentTarget||t.srcElement;return g(e,b.onScriptLoad,"load","onreadystatechange"),g(e,b.onScriptError,"error"),{node:e,id:e&&e.getAttribute("data-requiremodule")}}function m(){var t;for(c();T.length;){if(t=T.shift(),null===t[0])return l(makeError("mismatch","Mismatched anonymous define() module: "+t[t.length-1]));p(t)}}var y,x,b,w,_,C={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},L={},E={},S={},T=[],M={},k={},z={},I=1,A=1;return w={require:function(t){return t.require?t.require:t.require=b.makeRequire(t.map)},exports:function(t){return t.usingExports=!0,t.map.isDefine?t.exports?M[t.map.id]=t.exports:t.exports=M[t.map.id]={}:void 0},module:function(t){return t.module?t.module:t.module={id:t.map.id,uri:t.map.url,config:function(){return getOwn(C.config,t.map.id)||{}},exports:t.exports||(t.exports={})}}},x=function(t){this.events=getOwn(S,t.id)||{},this.map=t,this.shim=getOwn(C.shim,t.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},x.prototype={init:function(t,e,n,r){r=r||{},this.inited||(this.factory=e,n?this.on("error",n):this.events.error&&(n=bind(this,function(t){this.emit("error",t)})),this.depMaps=t&&t.slice(0),this.errback=n,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check())},defineDep:function(t,e){this.depMatched[t]||(this.depMatched[t]=!0,this.depCount-=1,this.depExports[t]=e)},fetch:function(){if(!this.fetched){this.fetched=!0,b.startTime=(new Date).getTime();var t=this.map;return this.shim?void b.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return t.prefix?this.callPlugin():this.load()})):t.prefix?this.callPlugin():this.load()}},load:function(){var t=this.map.url;k[t]||(k[t]=!0,b.load(this.map.id,t))},check:function(){if(this.enabled&&!this.enabling){var t,e,n=this.map.id,r=this.depExports,i=this.exports,o=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(o)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{i=b.execCb(n,o,r,i)}catch(s){t=s}else i=b.execCb(n,o,r,i);if(this.map.isDefine&&void 0===i&&(e=this.module,e?i=e.exports:this.usingExports&&(i=this.exports)),t)return t.requireMap=this.map,t.requireModules=this.map.isDefine?[this.map.id]:null,t.requireType=this.map.isDefine?"define":"require",l(this.error=t)}else i=o;this.exports=i,this.map.isDefine&&!this.ignore&&(M[n]=i,req.onResourceLoad&&req.onResourceLoad(b,this.map,this.depMaps)),h(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var t=this.map,e=t.id,r=s(t.prefix);this.depMaps.push(r),u(r,"defined",bind(this,function(r){var i,o,c,f=getOwn(z,this.map.id),d=this.map.name,p=this.map.parentMap?this.map.parentMap.name:null,g=b.makeRequire(t.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(r.normalize&&(d=r.normalize(d,function(t){return n(t,p,!0)})||""),o=s(t.prefix+"!"+d,this.map.parentMap),u(o,"defined",bind(this,function(t){this.init([],function(){return t},null,{enabled:!0,ignore:!0})})),c=getOwn(L,o.id),void(c&&(this.depMaps.push(o),this.events.error&&c.on("error",bind(this,function(t){this.emit("error",t)})),c.enable()))):f?(this.map.url=b.nameToUrl(f),void this.load()):(i=bind(this,function(t){this.init([],function(){return t},null,{enabled:!0})}),i.error=bind(this,function(t){this.inited=!0,this.error=t,t.requireModules=[e],eachProp(L,function(t){0===t.map.id.indexOf(e+"_unnormalized")&&h(t.map.id)}),l(t)}),i.fromText=bind(this,function(n,r){var o=t.name,u=s(o),c=useInteractive;r&&(n=r),c&&(useInteractive=!1),a(u),hasProp(C.config,e)&&(C.config[o]=C.config[e]);try{req.exec(n)}catch(h){return l(makeError("fromtexteval","fromText eval for "+e+" failed: "+h,h,[e]))}c&&(useInteractive=!0),this.depMaps.push(u),b.completeLoad(o),g([o],i)}),void r.load(t.name,g,i,C))})),b.enable(r,this),this.pluginMaps[r.id]=r},enable:function(){E[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(t,e){var n,r,i;if("string"==typeof t){if(t=s(t,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[e]=t,i=getOwn(w,t.id))return void(this.depExports[e]=i(this));this.depCount+=1,u(t,"defined",bind(this,function(t){this.defineDep(e,t),this.check()})),this.errback?u(t,"error",bind(this,this.errback)):this.events.error&&u(t,"error",bind(this,function(t){this.emit("error",t)}))}n=t.id,r=L[n],hasProp(w,n)||!r||r.enabled||b.enable(t,this)})),eachProp(this.pluginMaps,bind(this,function(t){var e=getOwn(L,t.id);e&&!e.enabled&&b.enable(t,this)})),this.enabling=!1,this.check()},on:function(t,e){var n=this.events[t];n||(n=this.events[t]=[]),n.push(e)},emit:function(t,e){each(this.events[t],function(t){t(e)}),"error"===t&&delete this.events[t]}},b={config:C,contextName:t,registry:L,defined:M,urlFetched:k,defQueue:T,Module:x,makeModuleMap:s,nextTick:req.nextTick,onError:l,configure:function(t){t.baseUrl&&"/"!==t.baseUrl.charAt(t.baseUrl.length-1)&&(t.baseUrl+="/");var e=C.shim,n={paths:!0,bundles:!0,config:!0,map:!0};eachProp(t,function(t,e){n[e]?(C[e]||(C[e]={}),mixin(C[e],t,!0,!0)):C[e]=t}),t.bundles&&eachProp(t.bundles,function(t,e){each(t,function(t){t!==e&&(z[t]=e)})}),t.shim&&(eachProp(t.shim,function(t,n){isArray(t)&&(t={deps:t}),!t.exports&&!t.init||t.exportsFn||(t.exportsFn=b.makeShimExports(t)),e[n]=t}),C.shim=e),t.packages&&each(t.packages,function(t){var e,n;t="string"==typeof t?{name:t}:t,n=t.name,e=t.location,e&&(C.paths[n]=t.location),C.pkgs[n]=t.name+"/"+(t.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(L,function(t,e){t.inited||t.map.unnormalized||(t.map=s(e))}),(t.deps||t.callback)&&b.require(t.deps||[],t.callback)},makeShimExports:function(t){function e(){var e;return t.init&&(e=t.init.apply(global,arguments)),e||t.exports&&getGlobal(t.exports)}return e},makeRequire:function(e,i){function o(n,r,u){var c,h,f;return i.enableBuildCallback&&r&&isFunction(r)&&(r.__requireJsBuild=!0),"string"==typeof n?isFunction(r)?l(makeError("requireargs","Invalid require call"),u):e&&hasProp(w,n)?w[n](L[e.id]):req.get?req.get(b,n,e,o):(h=s(n,e,!1,!0),c=h.id,hasProp(M,c)?M[c]:l(makeError("notloaded",'Module name "'+c+'" has not been loaded yet for context: '+t+(e?"":". Use require([])")))):(m(),b.nextTick(function(){m(),f=a(s(null,e)),f.skipMap=i.skipMap,f.init(n,r,u,{enabled:!0}),d()}),o)}return i=i||{},mixin(o,{isBrowser:isBrowser,toUrl:function(t){var r,i=t.lastIndexOf("."),o=t.split("/")[0],s="."===o||".."===o;return-1!==i&&(!s||i>1)&&(r=t.substring(i,t.length),t=t.substring(0,i)),b.nameToUrl(n(t,e&&e.id,!0),r,!0)},defined:function(t){return hasProp(M,s(t,e,!1,!0).id)},specified:function(t){return t=s(t,e,!1,!0).id,hasProp(M,t)||hasProp(L,t)}}),e||(o.undef=function(t){c();var n=s(t,e,!0),i=getOwn(L,t);r(t),delete M[t],delete k[n.url],delete S[t],eachReverse(T,function(e,n){e[0]===t&&T.splice(n,1)}),i&&(i.events.defined&&(S[t]=i.events),h(t))}),o},enable:function(t){var e=getOwn(L,t.id);e&&a(t).enable()},completeLoad:function(t){var e,n,r,o=getOwn(C.shim,t)||{},s=o.exports;for(c();T.length;){if(n=T.shift(),null===n[0]){if(n[0]=t,e)break;e=!0}else n[0]===t&&(e=!0);p(n)}if(r=getOwn(L,t),!e&&!hasProp(M,t)&&r&&!r.inited){if(!(!C.enforceDefine||s&&getGlobal(s)))return i(t)?void 0:l(makeError("nodefine","No define call for "+t,null,[t]));p([t,o.deps||[],o.exportsFn])}d()},nameToUrl:function(t,e,n){var r,i,o,s,a,u,l,c=getOwn(C.pkgs,t);if(c&&(t=c),l=getOwn(z,t))return b.nameToUrl(l,e,n);if(req.jsExtRegExp.test(t))a=t+(e||"");else{for(r=C.paths,i=t.split("/"),o=i.length;o>0;o-=1)if(s=i.slice(0,o).join("/"),u=getOwn(r,s)){isArray(u)&&(u=u[0]),i.splice(0,o,u);break}a=i.join("/"),a+=e||(/^data\:|\?/.test(a)||n?"":".js"),a=("/"===a.charAt(0)||a.match(/^[\w\+\.\-]+:/)?"":C.baseUrl)+a}return C.urlArgs?a+((-1===a.indexOf("?")?"?":"&")+C.urlArgs):a},load:function(t,e){req.load(b,t,e)},execCb:function(t,e,n,r){return e.apply(r,n)},onScriptLoad:function(t){if("load"===t.type||readyRegExp.test((t.currentTarget||t.srcElement).readyState)){interactiveScript=null;var e=v(t);b.completeLoad(e.id)}},onScriptError:function(t){var e=v(t);return i(e.id)?void 0:l(makeError("scripterror","Script error for: "+e.id,t,[e.id]))}},b.require=b.makeRequire(),b}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(t){return"interactive"===t.readyState?interactiveScript=t:void 0}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.17",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(t,e,n,r){var i,o,s=defContextName;return isArray(t)||"string"==typeof t||(o=t,isArray(e)?(t=e,e=n,n=r):t=[]),o&&o.context&&(s=o.context),i=getOwn(contexts,s),i||(i=contexts[s]=req.s.newContext(s)),o&&i.configure(o),i.require(t,e,n)},req.config=function(t){return req(t)},req.nextTick="undefined"!=typeof setTimeout?function(t){setTimeout(t,4)}:function(t){t()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(t){req[t]=function(){var e=contexts[defContextName];return e.require[t].apply(e,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(t){var e=t.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return e.type=t.scriptType||"text/javascript",e.charset="utf-8",e.async=!0,e},req.load=function(t,e,n){var r,i=t&&t.config||{};if(isBrowser)return r=req.createNode(i,e,n),r.setAttribute("data-requirecontext",t.contextName),r.setAttribute("data-requiremodule",e),!r.attachEvent||r.attachEvent.toString&&r.attachEvent.toString().indexOf("[native code")<0||isOpera?(r.addEventListener("load",t.onScriptLoad,!1),r.addEventListener("error",t.onScriptError,!1)):(useInteractive=!0,r.attachEvent("onreadystatechange",t.onScriptLoad)),r.src=n,currentlyAddingScript=r,baseElement?head.insertBefore(r,baseElement):head.appendChild(r),currentlyAddingScript=null,r;if(isWebWorker)try{importScripts(n),t.completeLoad(e)}catch(o){t.onError(makeError("importscripts","importScripts failed for "+e+" at "+n,o,[e]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(t){return head||(head=t.parentNode),dataMain=t.getAttribute("data-main"),dataMain?(mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0):void 0}),define=function(t,e,n){var r,i;"string"!=typeof t&&(n=e,e=t,t=null),isArray(e)||(n=e,e=null),!e&&isFunction(n)&&(e=[],n.length&&(n.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(t,n){e.push(n)}),e=(1===n.length?["require"]:["require","exports","module"]).concat(e))),useInteractive&&(r=currentlyAddingScript||getInteractiveScript(),r&&(t||(t=r.getAttribute("data-requiremodule")),i=contexts[r.getAttribute("data-requirecontext")])),(i?i.defQueue:globalDefQueue).push([t,e,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this),define("requirejs",function(){}),function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e="length"in t&&t.length,n=Z.type(t);return"function"===n||Z.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function r(t,e,n){if(Z.isFunction(e))return Z.grep(t,function(t,r){return!!e.call(t,r,t)!==n});if(e.nodeType)return Z.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(ae.test(e))return Z.filter(e,t,n);e=Z.filter(e,t)}return Z.grep(t,function(t){return W.call(e,t)>=0!==n})}function i(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e=pe[t]={};return Z.each(t.match(de)||[],function(t,n){e[n]=!0}),e}function s(){K.removeEventListener("DOMContentLoaded",s,!1),t.removeEventListener("load",s,!1),Z.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Z.expando+a.uid++}function u(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(be,"-$1").toLowerCase(),n=t.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:xe.test(n)?Z.parseJSON(n):n}catch(i){}ye.set(t,e,n)}else n=void 0;return n}function l(){return!0}function c(){return!1}function h(){try{return K.activeElement}catch(t){}}function f(t,e){return Z.nodeName(t,"table")&&Z.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function d(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function p(t){var e=Ne.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function g(t,e){for(var n=0,r=t.length;r>n;n++)me.set(t[n],"globalEval",!e||me.get(e[n],"globalEval"))}function v(t,e){var n,r,i,o,s,a,u,l;if(1===e.nodeType){if(me.hasData(t)&&(o=me.access(t),s=me.set(e,o),l=o.events)){delete s.handle,s.events={};for(i in l)for(n=0,r=l[i].length;r>n;n++)Z.event.add(e,i,l[i][n])}ye.hasData(t)&&(a=ye.access(t),u=Z.extend({},a),ye.set(e,u))}}function m(t,e){var n=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&Z.nodeName(t,e)?Z.merge([t],n):n}function y(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Le.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function x(e,n){var r,i=Z(n.createElement(e)).appendTo(n.body),o=t.getDefaultComputedStyle&&(r=t.getDefaultComputedStyle(i[0]))?r.display:Z.css(i[0],"display");return i.detach(),o}function b(t){var e=K,n=Ve[t];return n||(n=x(t,e),"none"!==n&&n||(qe=(qe||Z("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=qe[0].contentDocument,e.write(),e.close(),n=x(t,e),qe.detach()),Ve[t]=n),n}function w(t,e,n){var r,i,o,s,a=t.style;return n=n||$e(t),n&&(s=n.getPropertyValue(e)||n[e]),n&&(""!==s||Z.contains(t.ownerDocument,t)||(s=Z.style(t,e)),Fe.test(s)&&Be.test(e)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+"":s}function _(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function C(t,e){if(e in t)return e;for(var n=e[0].toUpperCase()+e.slice(1),r=e,i=Ye.length;i--;)if(e=Ye[i]+n,e in t)return e;return r}function L(t,e,n){var r=Ue.exec(e);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):e}function E(t,e,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===e?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=Z.css(t,n+_e[o],!0,i)),r?("content"===n&&(s-=Z.css(t,"padding"+_e[o],!0,i)),"margin"!==n&&(s-=Z.css(t,"border"+_e[o]+"Width",!0,i))):(s+=Z.css(t,"padding"+_e[o],!0,i),"padding"!==n&&(s+=Z.css(t,"border"+_e[o]+"Width",!0,i)));return s}function S(t,e,n){var r=!0,i="width"===e?t.offsetWidth:t.offsetHeight,o=$e(t),s="border-box"===Z.css(t,"boxSizing",!1,o);if(0>=i||null==i){if(i=w(t,e,o),(0>i||null==i)&&(i=t.style[e]),Fe.test(i))return i;r=s&&(J.boxSizingReliable()||i===t.style[e]),i=parseFloat(i)||0}return i+E(t,e,n||(s?"border":"content"),r,o)+"px"}function T(t,e){for(var n,r,i,o=[],s=0,a=t.length;a>s;s++)r=t[s],r.style&&(o[s]=me.get(r,"olddisplay"),n=r.style.display,e?(o[s]||"none"!==n||(r.style.display=""),""===r.style.display&&Ce(r)&&(o[s]=me.access(r,"olddisplay",b(r.nodeName)))):(i=Ce(r),"none"===n&&i||me.set(r,"olddisplay",i?n:Z.css(r,"display"))));for(s=0;a>s;s++)r=t[s],r.style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?o[s]||"":"none"));return t}function M(t,e,n,r,i){return new M.prototype.init(t,e,n,r,i)}function k(){return setTimeout(function(){Je=void 0}),Je=Z.now()}function z(t,e){var n,r=0,i={height:t};for(e=e?1:0;4>r;r+=2-e)n=_e[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function I(t,e,n){for(var r,i=(nn[e]||[]).concat(nn["*"]),o=0,s=i.length;s>o;o++)if(r=i[o].call(n,e,t))return r}function A(t,e,n){var r,i,o,s,a,u,l,c,h=this,f={},d=t.style,p=t.nodeType&&Ce(t),g=me.get(t,"fxshow");n.queue||(a=Z._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,Z.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],l=Z.css(t,"display"),c="none"===l?me.get(t,"olddisplay")||b(t.nodeName):l,"inline"===c&&"none"===Z.css(t,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",h.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(r in e)if(i=e[r],Qe.exec(i)){if(delete e[r],o=o||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;p=!0}f[r]=g&&g[r]||Z.style(t,r)}else l=void 0;if(Z.isEmptyObject(f))"inline"===("none"===l?b(t.nodeName):l)&&(d.display=l);else{g?"hidden"in g&&(p=g.hidden):g=me.access(t,"fxshow",{}),o&&(g.hidden=!p),p?Z(t).show():h.done(function(){Z(t).hide()}),h.done(function(){var e;me.remove(t,"fxshow");for(e in f)Z.style(t,e,f[e])});for(r in f)s=I(p?g[r]:0,r,h),r in g||(g[r]=s.start,p&&(s.end=s.start,s.start="width"===r||"height"===r?1:0))}}function D(t,e){var n,r,i,o,s;for(n in t)if(r=Z.camelCase(n),i=e[r],o=t[n],Z.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),s=Z.cssHooks[r],s&&"expand"in s){o=s.expand(o),delete t[r];for(n in o)n in t||(t[n]=o[n],e[n]=i)}else e[r]=i}function O(t,e,n){var r,i,o=0,s=en.length,a=Z.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var e=Je||k(),n=Math.max(0,l.startTime+l.duration-e),r=n/l.duration||0,o=1-r,s=0,u=l.tweens.length;u>s;s++)l.tweens[s].run(o);return a.notifyWith(t,[l,o,n]),1>o&&u?n:(a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:Z.extend({},e),opts:Z.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Je||k(),duration:n.duration,tweens:[],createTween:function(e,n){var r=Z.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(r),r},stop:function(e){var n=0,r=e?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return e?a.resolveWith(t,[l,e]):a.rejectWith(t,[l,e]),this}}),c=l.props;for(D(c,l.opts.specialEasing);s>o;o++)if(r=en[o].call(l,t,c,l.opts))return r;return Z.map(c,I,l),Z.isFunction(l.opts.start)&&l.opts.start.call(t,l),Z.fx.timer(Z.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function j(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(de)||[];if(Z.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function N(t,e,n,r){function i(a){var u;return o[a]=!0,Z.each(t[a]||[],function(t,a){var l=a(e,n,r);return"string"!=typeof l||s||o[l]?s?!(u=l):void 0:(e.dataTypes.unshift(l),i(l),!1)}),u}var o={},s=t===bn;return i(e.dataTypes[0])||!o["*"]&&i("*")}function R(t,e){var n,r,i=Z.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&Z.extend(!0,t,r),t}function P(t,e,n){for(var r,i,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function q(t,e,n,r){var i,o,s,a,u,l={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)l[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(s=l[u+" "+o]||l["* "+o],!s)for(i in l)if(a=i.split(" "),a[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){s===!0?s=l[i]:l[i]!==!0&&(o=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(h){return{state:"parsererror",error:s?h:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}function V(t,e,n,r){var i;if(Z.isArray(e))Z.each(e,function(e,i){n||En.test(t)?r(t,i):V(t+"["+("object"==typeof i?e:"")+"]",i,n,r)});else if(n||"object"!==Z.type(e))r(t,e);else for(i in e)V(t+"["+i+"]",e[i],n,r)}function B(t){return Z.isWindow(t)?t:9===t.nodeType&&t.defaultView}var F=[],$=F.slice,H=F.concat,U=F.push,W=F.indexOf,X={},G=X.toString,Y=X.hasOwnProperty,J={},K=t.document,Q="2.1.4",Z=function(t,e){return new Z.fn.init(t,e)},te=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ee=/^-ms-/,ne=/-([\da-z])/gi,re=function(t,e){return e.toUpperCase()};Z.fn=Z.prototype={jquery:Q,constructor:Z,selector:"",length:0,toArray:function(){return $.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:$.call(this)},pushStack:function(t){var e=Z.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return Z.each(this,t,e)},map:function(t){return this.pushStack(Z.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack($.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:F.sort,splice:F.splice},Z.extend=Z.fn.extend=function(){var t,e,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||Z.isFunction(s)||(s={}),a===u&&(s=this,a--);u>a;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],r=t[e],s!==r&&(l&&r&&(Z.isPlainObject(r)||(i=Z.isArray(r)))?(i?(i=!1,o=n&&Z.isArray(n)?n:[]):o=n&&Z.isPlainObject(n)?n:{},s[e]=Z.extend(l,o,r)):void 0!==r&&(s[e]=r));return s},Z.extend({expando:"jQuery"+(Q+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===Z.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!Z.isArray(t)&&t-parseFloat(t)+1>=0},isPlainObject:function(t){return"object"!==Z.type(t)||t.nodeType||Z.isWindow(t)?!1:t.constructor&&!Y.call(t.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?X[G.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=Z.trim(t),t&&(1===t.indexOf("use strict")?(e=K.createElement("script"),e.text=t,K.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(ee,"ms-").replace(ne,re)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,r){var i,o=0,s=t.length,a=n(t);if(r){if(a)for(;s>o&&(i=e.apply(t[o],r),i!==!1);o++);else for(o in t)if(i=e.apply(t[o],r),i===!1)break}else if(a)for(;s>o&&(i=e.call(t[o],o,t[o]),i!==!1);o++);else for(o in t)if(i=e.call(t[o],o,t[o]),i===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(te,"")},makeArray:function(t,e){var r=e||[];return null!=t&&(n(Object(t))?Z.merge(r,"string"==typeof t?[t]:t):U.call(r,t)),r},inArray:function(t,e,n){return null==e?-1:W.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;n>r;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r,i=[],o=0,s=t.length,a=!n;s>o;o++)r=!e(t[o],o),r!==a&&i.push(t[o]);return i},map:function(t,e,r){var i,o=0,s=t.length,a=n(t),u=[];if(a)for(;s>o;o++)i=e(t[o],o,r),null!=i&&u.push(i);else for(o in t)i=e(t[o],o,r),null!=i&&u.push(i);return H.apply([],u)},guid:1,proxy:function(t,e){var n,r,i;return"string"==typeof e&&(n=t[e],e=t,t=n),Z.isFunction(t)?(r=$.call(arguments,2),i=function(){return t.apply(e||this,r.concat($.call(arguments)))},i.guid=t.guid=t.guid||Z.guid++,i):void 0},now:Date.now,support:J}),Z.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){X["[object "+e+"]"]=e.toLowerCase()});var ie=function(t){function e(t,e,n,r){var i,o,s,a,u,l,h,d,p,g;if((e?e.ownerDocument||e:V)!==A&&I(e),e=e||A,n=n||[],a=e.nodeType,"string"!=typeof t||!t||1!==a&&9!==a&&11!==a)return n;if(!r&&O){if(11!==a&&(i=ye.exec(t)))if(s=i[1]){if(9===a){if(o=e.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(s))&&P(e,o)&&o.id===s)return n.push(o),n}else{if(i[2])return Q.apply(n,e.getElementsByTagName(t)),n;if((s=i[3])&&w.getElementsByClassName)return Q.apply(n,e.getElementsByClassName(s)),n}if(w.qsa&&(!j||!j.test(t))){if(d=h=q,p=e,g=1!==a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(l=E(t),(h=e.getAttribute("id"))?d=h.replace(be,"\\$&"):e.setAttribute("id",d),d="[id='"+d+"'] ",u=l.length;u--;)l[u]=d+f(l[u]);p=xe.test(t)&&c(e.parentNode)||e,g=l.join(",")}if(g)try{return Q.apply(n,p.querySelectorAll(g)),n}catch(v){}finally{h||e.removeAttribute("id")}}}return T(t.replace(ue,"$1"),e,n,r)}function n(){function t(n,r){return e.push(n+" ")>_.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function r(t){return t[q]=!0,t}function i(t){var e=A.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),r=t.length;r--;)_.attrHandle[n[r]]=e}function s(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||X)-(~t.sourceIndex||X);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function l(t){return r(function(e){return e=+e,r(function(n,r){for(var i,o=t([],n.length,e),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t
}function h(){}function f(t){for(var e=0,n=t.length,r="";n>e;e++)r+=t[e].value;return r}function d(t,e,n){var r=e.dir,i=n&&"parentNode"===r,o=F++;return e.first?function(e,n,o){for(;e=e[r];)if(1===e.nodeType||i)return t(e,n,o)}:function(e,n,s){var a,u,l=[B,o];if(s){for(;e=e[r];)if((1===e.nodeType||i)&&t(e,n,s))return!0}else for(;e=e[r];)if(1===e.nodeType||i){if(u=e[q]||(e[q]={}),(a=u[r])&&a[0]===B&&a[1]===o)return l[2]=a[2];if(u[r]=l,l[2]=t(e,n,s))return!0}}}function p(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function g(t,n,r){for(var i=0,o=n.length;o>i;i++)e(t,n[i],r);return r}function v(t,e,n,r,i){for(var o,s=[],a=0,u=t.length,l=null!=e;u>a;a++)(o=t[a])&&(!n||n(o,r,i))&&(s.push(o),l&&e.push(a));return s}function m(t,e,n,i,o,s){return i&&!i[q]&&(i=m(i)),o&&!o[q]&&(o=m(o,s)),r(function(r,s,a,u){var l,c,h,f=[],d=[],p=s.length,m=r||g(e||"*",a.nodeType?[a]:a,[]),y=!t||!r&&e?m:v(m,f,t,a,u),x=n?o||(r?t:p||i)?[]:s:y;if(n&&n(y,x,a,u),i)for(l=v(x,d),i(l,[],a,u),c=l.length;c--;)(h=l[c])&&(x[d[c]]=!(y[d[c]]=h));if(r){if(o||t){if(o){for(l=[],c=x.length;c--;)(h=x[c])&&l.push(y[c]=h);o(null,x=[],l,u)}for(c=x.length;c--;)(h=x[c])&&(l=o?te(r,h):f[c])>-1&&(r[l]=!(s[l]=h))}}else x=v(x===s?x.splice(p,x.length):x),o?o(null,s,x,u):Q.apply(s,x)})}function y(t){for(var e,n,r,i=t.length,o=_.relative[t[0].type],s=o||_.relative[" "],a=o?1:0,u=d(function(t){return t===e},s,!0),l=d(function(t){return te(e,t)>-1},s,!0),c=[function(t,n,r){var i=!o&&(r||n!==M)||((e=n).nodeType?u(t,n,r):l(t,n,r));return e=null,i}];i>a;a++)if(n=_.relative[t[a].type])c=[d(p(c),n)];else{if(n=_.filter[t[a].type].apply(null,t[a].matches),n[q]){for(r=++a;i>r&&!_.relative[t[r].type];r++);return m(a>1&&p(c),a>1&&f(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(ue,"$1"),n,r>a&&y(t.slice(a,r)),i>r&&y(t=t.slice(r)),i>r&&f(t))}c.push(n)}return p(c)}function x(t,n){var i=n.length>0,o=t.length>0,s=function(r,s,a,u,l){var c,h,f,d=0,p="0",g=r&&[],m=[],y=M,x=r||o&&_.find.TAG("*",l),b=B+=null==y?1:Math.random()||.1,w=x.length;for(l&&(M=s!==A&&s);p!==w&&null!=(c=x[p]);p++){if(o&&c){for(h=0;f=t[h++];)if(f(c,s,a)){u.push(c);break}l&&(B=b)}i&&((c=!f&&c)&&d--,r&&g.push(c))}if(d+=p,i&&p!==d){for(h=0;f=n[h++];)f(g,m,s,a);if(r){if(d>0)for(;p--;)g[p]||m[p]||(m[p]=J.call(u));m=v(m)}Q.apply(u,m),l&&!r&&m.length>0&&d+n.length>1&&e.uniqueSort(u)}return l&&(B=b,M=y),g};return i?r(s):s}var b,w,_,C,L,E,S,T,M,k,z,I,A,D,O,j,N,R,P,q="sizzle"+1*new Date,V=t.document,B=0,F=0,$=n(),H=n(),U=n(),W=function(t,e){return t===e&&(z=!0),0},X=1<<31,G={}.hasOwnProperty,Y=[],J=Y.pop,K=Y.push,Q=Y.push,Z=Y.slice,te=function(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n;return-1},ee="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=re.replace("w","w#"),oe="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",se=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),ue=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),he=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),fe=new RegExp(se),de=new RegExp("^"+ie+"$"),pe={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+se),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+ee+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},ge=/^(?:input|select|textarea|button)$/i,ve=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xe=/[+~]/,be=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),_e=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Ce=function(){I()};try{Q.apply(Y=Z.call(V.childNodes),V.childNodes),Y[V.childNodes.length].nodeType}catch(Le){Q={apply:Y.length?function(t,e){K.apply(t,Z.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}w=e.support={},L=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},I=e.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:V;return r!==A&&9===r.nodeType&&r.documentElement?(A=r,D=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),O=!L(r),w.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=i(function(t){return t.appendChild(r.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=me.test(r.getElementsByClassName),w.getById=i(function(t){return D.appendChild(t).id=q,!r.getElementsByName||!r.getElementsByName(q).length}),w.getById?(_.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&O){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},_.filter.ID=function(t){var e=t.replace(we,_e);return function(t){return t.getAttribute("id")===e}}):(delete _.find.ID,_.filter.ID=function(t){var e=t.replace(we,_e);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),_.find.TAG=w.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},_.find.CLASS=w.getElementsByClassName&&function(t,e){return O?e.getElementsByClassName(t):void 0},N=[],j=[],(w.qsa=me.test(r.querySelectorAll))&&(i(function(t){D.appendChild(t).innerHTML="<a id='"+q+"'></a><select id='"+q+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&j.push("[*^$]="+ne+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||j.push("\\["+ne+"*(?:value|"+ee+")"),t.querySelectorAll("[id~="+q+"-]").length||j.push("~="),t.querySelectorAll(":checked").length||j.push(":checked"),t.querySelectorAll("a#"+q+"+*").length||j.push(".#.+[+~]")}),i(function(t){var e=r.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&j.push("name"+ne+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||j.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),j.push(",.*:")})),(w.matchesSelector=me.test(R=D.matches||D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&i(function(t){w.disconnectedMatch=R.call(t,"div"),R.call(t,"[s!='']:x"),N.push("!=",se)}),j=j.length&&new RegExp(j.join("|")),N=N.length&&new RegExp(N.join("|")),e=me.test(D.compareDocumentPosition),P=e||me.test(D.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},W=e?function(t,e){if(t===e)return z=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!w.sortDetached&&e.compareDocumentPosition(t)===n?t===r||t.ownerDocument===V&&P(V,t)?-1:e===r||e.ownerDocument===V&&P(V,e)?1:k?te(k,t)-te(k,e):0:4&n?-1:1)}:function(t,e){if(t===e)return z=!0,0;var n,i=0,o=t.parentNode,a=e.parentNode,u=[t],l=[e];if(!o||!a)return t===r?-1:e===r?1:o?-1:a?1:k?te(k,t)-te(k,e):0;if(o===a)return s(t,e);for(n=t;n=n.parentNode;)u.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;u[i]===l[i];)i++;return i?s(u[i],l[i]):u[i]===V?-1:l[i]===V?1:0},r):A},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==A&&I(t),n=n.replace(he,"='$1']"),!(!w.matchesSelector||!O||N&&N.test(n)||j&&j.test(n)))try{var r=R.call(t,n);if(r||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(i){}return e(n,A,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==A&&I(t),P(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==A&&I(t);var n=_.attrHandle[e.toLowerCase()],r=n&&G.call(_.attrHandle,e.toLowerCase())?n(t,e,!O):void 0;return void 0!==r?r:w.attributes||!O?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],r=0,i=0;if(z=!w.detectDuplicates,k=!w.sortStable&&t.slice(0),t.sort(W),z){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return k=null,t},C=e.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=C(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=C(e);return n},_=e.selectors={cacheLength:50,createPseudo:r,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(we,_e),t[3]=(t[3]||t[4]||t[5]||"").replace(we,_e),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pe.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&fe.test(n)&&(e=E(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(we,_e).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=$[t+" "];return e||(e=new RegExp("(^|"+ne+")"+t+"("+ne+"|$)"))&&$(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var o=e.attr(i,t);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(ae," ")+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var l,c,h,f,d,p,g=o!==s?"nextSibling":"previousSibling",v=e.parentNode,m=a&&e.nodeName.toLowerCase(),y=!u&&!a;if(v){if(o){for(;g;){for(h=e;h=h[g];)if(a?h.nodeName.toLowerCase()===m:1===h.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?v.firstChild:v.lastChild],s&&y){for(c=v[q]||(v[q]={}),l=c[t]||[],d=l[0]===B&&l[1],f=l[0]===B&&l[2],h=d&&v.childNodes[d];h=++d&&h&&h[g]||(f=d=0)||p.pop();)if(1===h.nodeType&&++f&&h===e){c[t]=[B,d,f];break}}else if(y&&(l=(e[q]||(e[q]={}))[t])&&l[0]===B)f=l[1];else for(;(h=++d&&h&&h[g]||(f=d=0)||p.pop())&&((a?h.nodeName.toLowerCase()!==m:1!==h.nodeType)||!++f||(y&&((h[q]||(h[q]={}))[t]=[B,f]),h!==e)););return f-=i,f===r||f%r===0&&f/r>=0}}},PSEUDO:function(t,n){var i,o=_.pseudos[t]||_.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[q]?o(n):o.length>1?(i=[t,t,"",n],_.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,e){for(var r,i=o(t,n),s=i.length;s--;)r=te(t,i[s]),t[r]=!(e[r]=i[s])}):function(t){return o(t,0,i)}):o}},pseudos:{not:r(function(t){var e=[],n=[],i=S(t.replace(ue,"$1"));return i[q]?r(function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(t){return t=t.replace(we,_e),function(e){return(e.textContent||e.innerText||C(e)).indexOf(t)>-1}}),lang:r(function(t){return de.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(we,_e).toLowerCase(),function(e){var n;do if(n=O?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===D},focus:function(t){return t===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!_.pseudos.empty(t)},header:function(t){return ve.test(t.nodeName)},input:function(t){return ge.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,n){return[0>n?n+e:n]}),even:l(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:l(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:l(function(t,e,n){for(var r=0>n?n+e:n;--r>=0;)t.push(r);return t}),gt:l(function(t,e,n){for(var r=0>n?n+e:n;++r<e;)t.push(r);return t})}},_.pseudos.nth=_.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[b]=a(b);for(b in{submit:!0,reset:!0})_.pseudos[b]=u(b);return h.prototype=_.filters=_.pseudos,_.setFilters=new h,E=e.tokenize=function(t,n){var r,i,o,s,a,u,l,c=H[t+" "];if(c)return n?0:c.slice(0);for(a=t,u=[],l=_.preFilter;a;){(!r||(i=le.exec(a)))&&(i&&(a=a.slice(i[0].length)||a),u.push(o=[])),r=!1,(i=ce.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ue," ")}),a=a.slice(r.length));for(s in _.filter)!(i=pe[s].exec(a))||l[s]&&!(i=l[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return n?a.length:a?e.error(t):H(t,u).slice(0)},S=e.compile=function(t,e){var n,r=[],i=[],o=U[t+" "];if(!o){for(e||(e=E(t)),n=e.length;n--;)o=y(e[n]),o[q]?r.push(o):i.push(o);o=U(t,x(i,r)),o.selector=t}return o},T=e.select=function(t,e,n,r){var i,o,s,a,u,l="function"==typeof t&&t,h=!r&&E(t=l.selector||t);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&w.getById&&9===e.nodeType&&O&&_.relative[o[1].type]){if(e=(_.find.ID(s.matches[0].replace(we,_e),e)||[])[0],!e)return n;l&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=pe.needsContext.test(t)?0:o.length;i--&&(s=o[i],!_.relative[a=s.type]);)if((u=_.find[a])&&(r=u(s.matches[0].replace(we,_e),xe.test(o[0].type)&&c(e.parentNode)||e))){if(o.splice(i,1),t=r.length&&f(o),!t)return Q.apply(n,r),n;break}}return(l||S(t,h))(r,e,!O,n,xe.test(t)&&c(e.parentNode)||e),n},w.sortStable=q.split("").sort(W).join("")===q,w.detectDuplicates=!!z,I(),w.sortDetached=i(function(t){return 1&t.compareDocumentPosition(A.createElement("div"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||o(ee,function(t,e,n){var r;return n?void 0:t[e]===!0?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),e}(t);Z.find=ie,Z.expr=ie.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=ie.uniqueSort,Z.text=ie.getText,Z.isXMLDoc=ie.isXML,Z.contains=ie.contains;var oe=Z.expr.match.needsContext,se=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ae=/^.[^:#\[\.,]*$/;Z.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?Z.find.matchesSelector(r,t)?[r]:[]:Z.find.matches(t,Z.grep(e,function(t){return 1===t.nodeType}))},Z.fn.extend({find:function(t){var e,n=this.length,r=[],i=this;if("string"!=typeof t)return this.pushStack(Z(t).filter(function(){for(e=0;n>e;e++)if(Z.contains(i[e],this))return!0}));for(e=0;n>e;e++)Z.find(t,i[e],r);return r=this.pushStack(n>1?Z.unique(r):r),r.selector=this.selector?this.selector+" "+t:t,r},filter:function(t){return this.pushStack(r(this,t||[],!1))},not:function(t){return this.pushStack(r(this,t||[],!0))},is:function(t){return!!r(this,"string"==typeof t&&oe.test(t)?Z(t):t||[],!1).length}});var ue,le=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ce=Z.fn.init=function(t,e){var n,r;if(!t)return this;if("string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:le.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||ue).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof Z?e[0]:e,Z.merge(this,Z.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:K,!0)),se.test(n[1])&&Z.isPlainObject(e))for(n in e)Z.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return r=K.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=K,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):Z.isFunction(t)?"undefined"!=typeof ue.ready?ue.ready(t):t(Z):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),Z.makeArray(t,this))};ce.prototype=Z.fn,ue=Z(K);var he=/^(?:parents|prev(?:Until|All))/,fe={children:!0,contents:!0,next:!0,prev:!0};Z.extend({dir:function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&Z(t).is(n))break;r.push(t)}return r},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),Z.fn.extend({has:function(t){var e=Z(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(Z.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,r=0,i=this.length,o=[],s=oe.test(t)||"string"!=typeof t?Z(t,e||this.context):0;i>r;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&Z.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?Z.unique(o):o)},index:function(t){return t?"string"==typeof t?W.call(Z(t),this[0]):W.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(Z.unique(Z.merge(this.get(),Z(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Z.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Z.dir(t,"parentNode")},parentsUntil:function(t,e,n){return Z.dir(t,"parentNode",n)},next:function(t){return i(t,"nextSibling")},prev:function(t){return i(t,"previousSibling")},nextAll:function(t){return Z.dir(t,"nextSibling")},prevAll:function(t){return Z.dir(t,"previousSibling")},nextUntil:function(t,e,n){return Z.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return Z.dir(t,"previousSibling",n)},siblings:function(t){return Z.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return Z.sibling(t.firstChild)},contents:function(t){return t.contentDocument||Z.merge([],t.childNodes)}},function(t,e){Z.fn[t]=function(n,r){var i=Z.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=Z.filter(r,i)),this.length>1&&(fe[t]||Z.unique(i),he.test(t)&&i.reverse()),this.pushStack(i)}});var de=/\S+/g,pe={};Z.Callbacks=function(t){t="string"==typeof t?pe[t]||o(t):Z.extend({},t);var e,n,r,i,s,a,u=[],l=!t.once&&[],c=function(o){for(e=t.memory&&o,n=!0,a=i||0,i=0,s=u.length,r=!0;u&&s>a;a++)if(u[a].apply(o[0],o[1])===!1&&t.stopOnFalse){e=!1;break}r=!1,u&&(l?l.length&&c(l.shift()):e?u=[]:h.disable())},h={add:function(){if(u){var n=u.length;!function o(e){Z.each(e,function(e,n){var r=Z.type(n);"function"===r?t.unique&&h.has(n)||u.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),r?s=u.length:e&&(i=n,c(e))}return this},remove:function(){return u&&Z.each(arguments,function(t,e){for(var n;(n=Z.inArray(e,u,n))>-1;)u.splice(n,1),r&&(s>=n&&s--,a>=n&&a--)}),this},has:function(t){return t?Z.inArray(t,u)>-1:!(!u||!u.length)},empty:function(){return u=[],s=0,this},disable:function(){return u=l=e=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,e||h.disable(),this},locked:function(){return!l},fireWith:function(t,e){return!u||n&&!l||(e=e||[],e=[t,e.slice?e.slice():e],r?l.push(e):c(e)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},Z.extend({Deferred:function(t){var e=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var t=arguments;return Z.Deferred(function(n){Z.each(e,function(e,o){var s=Z.isFunction(t[e])&&t[e];i[o[1]](function(){var t=s&&s.apply(this,arguments);t&&Z.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?Z.extend(t,r):r}},i={};return r.pipe=r.then,Z.each(e,function(t,o){var s=o[2],a=o[3];r[o[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=s.fireWith}),r.promise(i),t&&t.call(i,i),i},when:function(t){var e,n,r,i=0,o=$.call(arguments),s=o.length,a=1!==s||t&&Z.isFunction(t.promise)?s:0,u=1===a?t:Z.Deferred(),l=function(t,n,r){return function(i){n[t]=this,r[t]=arguments.length>1?$.call(arguments):i,r===e?u.notifyWith(n,r):--a||u.resolveWith(n,r)}};if(s>1)for(e=new Array(s),n=new Array(s),r=new Array(s);s>i;i++)o[i]&&Z.isFunction(o[i].promise)?o[i].promise().done(l(i,r,o)).fail(u.reject).progress(l(i,n,e)):--a;return a||u.resolveWith(r,o),u.promise()}});var ge;Z.fn.ready=function(t){return Z.ready.promise().done(t),this},Z.extend({isReady:!1,readyWait:1,holdReady:function(t){t?Z.readyWait++:Z.ready(!0)},ready:function(t){(t===!0?--Z.readyWait:Z.isReady)||(Z.isReady=!0,t!==!0&&--Z.readyWait>0||(ge.resolveWith(K,[Z]),Z.fn.triggerHandler&&(Z(K).triggerHandler("ready"),Z(K).off("ready"))))}}),Z.ready.promise=function(e){return ge||(ge=Z.Deferred(),"complete"===K.readyState?setTimeout(Z.ready):(K.addEventListener("DOMContentLoaded",s,!1),t.addEventListener("load",s,!1))),ge.promise(e)},Z.ready.promise();var ve=Z.access=function(t,e,n,r,i,o,s){var a=0,u=t.length,l=null==n;if("object"===Z.type(n)){i=!0;for(a in n)Z.access(t,e,a,n[a],!0,o,s)}else if(void 0!==r&&(i=!0,Z.isFunction(r)||(s=!0),l&&(s?(e.call(t,r),e=null):(l=e,e=function(t,e,n){return l.call(Z(t),n)})),e))for(;u>a;a++)e(t[a],n,s?r:r.call(t[a],a,e(t[a],n)));return i?t:l?e.call(t):u?e(t[0],n):o};Z.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},a.uid=1,a.accepts=Z.acceptData,a.prototype={key:function(t){if(!a.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=a.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(r){e[this.expando]=n,Z.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var r,i=this.key(t),o=this.cache[i];if("string"==typeof e)o[e]=n;else if(Z.isEmptyObject(o))Z.extend(this.cache[i],e);else for(r in e)o[r]=e[r];return o},get:function(t,e){var n=this.cache[this.key(t)];return void 0===e?n:n[e]},access:function(t,e,n){var r;return void 0===e||e&&"string"==typeof e&&void 0===n?(r=this.get(t,e),void 0!==r?r:this.get(t,Z.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r,i,o=this.key(t),s=this.cache[o];if(void 0===e)this.cache[o]={};else{Z.isArray(e)?r=e.concat(e.map(Z.camelCase)):(i=Z.camelCase(e),e in s?r=[e,i]:(r=i,r=r in s?[r]:r.match(de)||[])),n=r.length;for(;n--;)delete s[r[n]]}},hasData:function(t){return!Z.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var me=new a,ye=new a,xe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,be=/([A-Z])/g;Z.extend({hasData:function(t){return ye.hasData(t)||me.hasData(t)},data:function(t,e,n){return ye.access(t,e,n)},removeData:function(t,e){ye.remove(t,e)},_data:function(t,e,n){return me.access(t,e,n)},_removeData:function(t,e){me.remove(t,e)}}),Z.fn.extend({data:function(t,e){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(i=ye.get(o),1===o.nodeType&&!me.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(r=s[n].name,0===r.indexOf("data-")&&(r=Z.camelCase(r.slice(5)),u(o,r,i[r])));me.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){ye.set(this,t)}):ve(this,function(e){var n,r=Z.camelCase(t);if(o&&void 0===e){if(n=ye.get(o,t),void 0!==n)return n;if(n=ye.get(o,r),void 0!==n)return n;if(n=u(o,r,void 0),void 0!==n)return n}else this.each(function(){var n=ye.get(this,r);ye.set(this,r,e),-1!==t.indexOf("-")&&void 0!==n&&ye.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){ye.remove(this,t)})}}),Z.extend({queue:function(t,e,n){var r;return t?(e=(e||"fx")+"queue",r=me.get(t,e),n&&(!r||Z.isArray(n)?r=me.access(t,e,Z.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=Z.queue(t,e),r=n.length,i=n.shift(),o=Z._queueHooks(t,e),s=function(){Z.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,s,o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return me.get(t,n)||me.access(t,n,{empty:Z.Callbacks("once memory").add(function(){me.remove(t,[e+"queue",n])})})}}),Z.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?Z.queue(this[0],t):void 0===e?this:this.each(function(){var n=Z.queue(this,t,e);Z._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&Z.dequeue(this,t)})},dequeue:function(t){return this.each(function(){Z.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=Z.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)n=me.get(o[s],t+"queueHooks"),n&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(e)}});var we=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,_e=["Top","Right","Bottom","Left"],Ce=function(t,e){return t=e||t,"none"===Z.css(t,"display")||!Z.contains(t.ownerDocument,t)},Le=/^(?:checkbox|radio)$/i;!function(){var t=K.createDocumentFragment(),e=t.appendChild(K.createElement("div")),n=K.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),J.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",J.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Ee="undefined";J.focusinBubbles="onfocusin"in t;var Se=/^key/,Te=/^(?:mouse|pointer|contextmenu)|click/,Me=/^(?:focusinfocus|focusoutblur)$/,ke=/^([^.]*)(?:\.(.+)|)$/;Z.event={global:{},add:function(t,e,n,r,i){var o,s,a,u,l,c,h,f,d,p,g,v=me.get(t);if(v)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=Z.guid++),(u=v.events)||(u=v.events={}),(s=v.handle)||(s=v.handle=function(e){return typeof Z!==Ee&&Z.event.triggered!==e.type?Z.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(de)||[""],l=e.length;l--;)a=ke.exec(e[l])||[],d=g=a[1],p=(a[2]||"").split(".").sort(),d&&(h=Z.event.special[d]||{},d=(i?h.delegateType:h.bindType)||d,h=Z.event.special[d]||{},c=Z.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&Z.expr.match.needsContext.test(i),namespace:p.join(".")},o),(f=u[d])||(f=u[d]=[],f.delegateCount=0,h.setup&&h.setup.call(t,r,p,s)!==!1||t.addEventListener&&t.addEventListener(d,s,!1)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,c):f.push(c),Z.event.global[d]=!0)},remove:function(t,e,n,r,i){var o,s,a,u,l,c,h,f,d,p,g,v=me.hasData(t)&&me.get(t);if(v&&(u=v.events)){for(e=(e||"").match(de)||[""],l=e.length;l--;)if(a=ke.exec(e[l])||[],d=g=a[1],p=(a[2]||"").split(".").sort(),d){for(h=Z.event.special[d]||{},d=(r?h.delegateType:h.bindType)||d,f=u[d]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)c=f[o],!i&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,h.remove&&h.remove.call(t,c));s&&!f.length&&(h.teardown&&h.teardown.call(t,p,v.handle)!==!1||Z.removeEvent(t,d,v.handle),delete u[d])}else for(d in u)Z.event.remove(t,d+e[l],n,r,!0);Z.isEmptyObject(u)&&(delete v.handle,me.remove(t,"events"))}},trigger:function(e,n,r,i){var o,s,a,u,l,c,h,f=[r||K],d=Y.call(e,"type")?e.type:e,p=Y.call(e,"namespace")?e.namespace.split("."):[];if(s=a=r=r||K,3!==r.nodeType&&8!==r.nodeType&&!Me.test(d+Z.event.triggered)&&(d.indexOf(".")>=0&&(p=d.split("."),d=p.shift(),p.sort()),l=d.indexOf(":")<0&&"on"+d,e=e[Z.expando]?e:new Z.Event(d,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),n=null==n?[e]:Z.makeArray(n,[e]),h=Z.event.special[d]||{},i||!h.trigger||h.trigger.apply(r,n)!==!1)){if(!i&&!h.noBubble&&!Z.isWindow(r)){for(u=h.delegateType||d,Me.test(u+d)||(s=s.parentNode);s;s=s.parentNode)f.push(s),a=s;a===(r.ownerDocument||K)&&f.push(a.defaultView||a.parentWindow||t)}for(o=0;(s=f[o++])&&!e.isPropagationStopped();)e.type=o>1?u:h.bindType||d,c=(me.get(s,"events")||{})[e.type]&&me.get(s,"handle"),c&&c.apply(s,n),c=l&&s[l],c&&c.apply&&Z.acceptData(s)&&(e.result=c.apply(s,n),e.result===!1&&e.preventDefault());return e.type=d,i||e.isDefaultPrevented()||h._default&&h._default.apply(f.pop(),n)!==!1||!Z.acceptData(r)||l&&Z.isFunction(r[d])&&!Z.isWindow(r)&&(a=r[l],a&&(r[l]=null),Z.event.triggered=d,r[d](),Z.event.triggered=void 0,a&&(r[l]=a)),e.result}},dispatch:function(t){t=Z.event.fix(t);var e,n,r,i,o,s=[],a=$.call(arguments),u=(me.get(this,"events")||{})[t.type]||[],l=Z.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,t)!==!1){for(s=Z.event.handlers.call(this,t,u),e=0;(i=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(o.namespace))&&(t.handleObj=o,t.data=o.data,r=((Z.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a),void 0!==r&&(t.result=r)===!1&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,r,i,o,s=[],a=e.delegateCount,u=t.target;if(a&&u.nodeType&&(!t.button||"click"!==t.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==t.type){for(r=[],n=0;a>n;n++)o=e[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?Z(i,this).index(u)>=0:Z.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&s.push({elem:u,handlers:r})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s
},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,r,i,o=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||K,r=n.documentElement,i=n.body,t.pageX=e.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[Z.expando])return t;var e,n,r,i=t.type,o=t,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=Te.test(i)?this.mouseHooks:Se.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,t=new Z.Event(o),e=r.length;e--;)n=r[e],t[n]=o[n];return t.target||(t.target=K),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==h()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Z.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return Z.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,r){var i=Z.extend(new Z.Event,n,{type:t,isSimulated:!0,originalEvent:{}});r?Z.event.trigger(i,null,e):Z.event.dispatch.call(e,i),i.isDefaultPrevented()&&n.preventDefault()}},Z.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},Z.Event=function(t,e){return this instanceof Z.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?l:c):this.type=t,e&&Z.extend(this,e),this.timeStamp=t&&t.timeStamp||Z.now(),void(this[Z.expando]=!0)):new Z.Event(t,e)},Z.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=l,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=l,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=l,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},Z.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){Z.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return(!i||i!==r&&!Z.contains(r,i))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),J.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){Z.event.simulate(e,t.target,Z.event.fix(t),!0)};Z.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=me.access(r,e);i||r.addEventListener(t,n,!0),me.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=me.access(r,e)-1;i?me.access(r,e,i):(r.removeEventListener(t,n,!0),me.remove(r,e))}}}),Z.fn.extend({on:function(t,e,n,r,i){var o,s;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(s in t)this.on(s,e,n,t[s],i);return this}if(null==n&&null==r?(r=e,n=e=void 0):null==r&&("string"==typeof e?(r=n,n=void 0):(r=n,n=e,e=void 0)),r===!1)r=c;else if(!r)return this;return 1===i&&(o=r,r=function(t){return Z().off(t),o.apply(this,arguments)},r.guid=o.guid||(o.guid=Z.guid++)),this.each(function(){Z.event.add(this,t,r,n,e)})},one:function(t,e,n,r){return this.on(t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,Z(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=c),this.each(function(){Z.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){Z.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?Z.event.trigger(t,e,n,!0):void 0}});var ze=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ie=/<([\w:]+)/,Ae=/<|&#?\w+;/,De=/<(?:script|style|link)/i,Oe=/checked\s*(?:[^=]|=\s*.checked.)/i,je=/^$|\/(?:java|ecma)script/i,Ne=/^true\/(.*)/,Re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Pe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Pe.optgroup=Pe.option,Pe.tbody=Pe.tfoot=Pe.colgroup=Pe.caption=Pe.thead,Pe.th=Pe.td,Z.extend({clone:function(t,e,n){var r,i,o,s,a=t.cloneNode(!0),u=Z.contains(t.ownerDocument,t);if(!(J.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Z.isXMLDoc(t)))for(s=m(a),o=m(t),r=0,i=o.length;i>r;r++)y(o[r],s[r]);if(e)if(n)for(o=o||m(t),s=s||m(a),r=0,i=o.length;i>r;r++)v(o[r],s[r]);else v(t,a);return s=m(a,"script"),s.length>0&&g(s,!u&&m(t,"script")),a},buildFragment:function(t,e,n,r){for(var i,o,s,a,u,l,c=e.createDocumentFragment(),h=[],f=0,d=t.length;d>f;f++)if(i=t[f],i||0===i)if("object"===Z.type(i))Z.merge(h,i.nodeType?[i]:i);else if(Ae.test(i)){for(o=o||c.appendChild(e.createElement("div")),s=(Ie.exec(i)||["",""])[1].toLowerCase(),a=Pe[s]||Pe._default,o.innerHTML=a[1]+i.replace(ze,"<$1></$2>")+a[2],l=a[0];l--;)o=o.lastChild;Z.merge(h,o.childNodes),o=c.firstChild,o.textContent=""}else h.push(e.createTextNode(i));for(c.textContent="",f=0;i=h[f++];)if((!r||-1===Z.inArray(i,r))&&(u=Z.contains(i.ownerDocument,i),o=m(c.appendChild(i),"script"),u&&g(o),n))for(l=0;i=o[l++];)je.test(i.type||"")&&n.push(i);return c},cleanData:function(t){for(var e,n,r,i,o=Z.event.special,s=0;void 0!==(n=t[s]);s++){if(Z.acceptData(n)&&(i=n[me.expando],i&&(e=me.cache[i]))){if(e.events)for(r in e.events)o[r]?Z.event.remove(n,r):Z.removeEvent(n,r,e.handle);me.cache[i]&&delete me.cache[i]}delete ye.cache[n[ye.expando]]}}}),Z.fn.extend({text:function(t){return ve(this,function(t){return void 0===t?Z.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,r=t?Z.filter(t,this):this,i=0;null!=(n=r[i]);i++)e||1!==n.nodeType||Z.cleanData(m(n)),n.parentNode&&(e&&Z.contains(n.ownerDocument,n)&&g(m(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(Z.cleanData(m(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return Z.clone(this,t,e)})},html:function(t){return ve(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!De.test(t)&&!Pe[(Ie.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(ze,"<$1></$2>");try{for(;r>n;n++)e=this[n]||{},1===e.nodeType&&(Z.cleanData(m(e,!1)),e.innerHTML=t);e=0}catch(i){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,Z.cleanData(m(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=H.apply([],t);var n,r,i,o,s,a,u=0,l=this.length,c=this,h=l-1,f=t[0],g=Z.isFunction(f);if(g||l>1&&"string"==typeof f&&!J.checkClone&&Oe.test(f))return this.each(function(n){var r=c.eq(n);g&&(t[0]=f.call(this,n,r.html())),r.domManip(t,e)});if(l&&(n=Z.buildFragment(t,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(i=Z.map(m(n,"script"),d),o=i.length;l>u;u++)s=n,u!==h&&(s=Z.clone(s,!0,!0),o&&Z.merge(i,m(s,"script"))),e.call(this[u],s,u);if(o)for(a=i[i.length-1].ownerDocument,Z.map(i,p),u=0;o>u;u++)s=i[u],je.test(s.type||"")&&!me.access(s,"globalEval")&&Z.contains(a,s)&&(s.src?Z._evalUrl&&Z._evalUrl(s.src):Z.globalEval(s.textContent.replace(Re,"")))}return this}}),Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){Z.fn[t]=function(t){for(var n,r=[],i=Z(t),o=i.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),Z(i[s])[e](n),U.apply(r,n.get());return this.pushStack(r)}});var qe,Ve={},Be=/^margin/,Fe=new RegExp("^("+we+")(?!px)[a-z%]+$","i"),$e=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)};!function(){function e(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",i.appendChild(o);var e=t.getComputedStyle(s,null);n="1%"!==e.top,r="4px"===e.width,i.removeChild(o)}var n,r,i=K.documentElement,o=K.createElement("div"),s=K.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",J.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(s),t.getComputedStyle&&Z.extend(J,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==r&&e(),r},reliableMarginRight:function(){var e,n=s.appendChild(K.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",i.appendChild(o),e=!parseFloat(t.getComputedStyle(n,null).marginRight),i.removeChild(o),s.removeChild(n),e}}))}(),Z.swap=function(t,e,n,r){var i,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];i=n.apply(t,r||[]);for(o in e)t.style[o]=s[o];return i};var He=/^(none|table(?!-c[ea]).+)/,Ue=new RegExp("^("+we+")(.*)$","i"),We=new RegExp("^([+-])=("+we+")","i"),Xe={position:"absolute",visibility:"hidden",display:"block"},Ge={letterSpacing:"0",fontWeight:"400"},Ye=["Webkit","O","Moz","ms"];Z.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=w(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,s,a=Z.camelCase(e),u=t.style;return e=Z.cssProps[a]||(Z.cssProps[a]=C(u,a)),s=Z.cssHooks[e]||Z.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(i=s.get(t,!1,r))?i:u[e]:(o=typeof n,"string"===o&&(i=We.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(Z.css(t,e)),o="number"),null!=n&&n===n&&("number"!==o||Z.cssNumber[a]||(n+="px"),J.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,r))||(u[e]=n)),void 0)}},css:function(t,e,n,r){var i,o,s,a=Z.camelCase(e);return e=Z.cssProps[a]||(Z.cssProps[a]=C(t.style,a)),s=Z.cssHooks[e]||Z.cssHooks[a],s&&"get"in s&&(i=s.get(t,!0,n)),void 0===i&&(i=w(t,e,r)),"normal"===i&&e in Ge&&(i=Ge[e]),""===n||n?(o=parseFloat(i),n===!0||Z.isNumeric(o)?o||0:i):i}}),Z.each(["height","width"],function(t,e){Z.cssHooks[e]={get:function(t,n,r){return n?He.test(Z.css(t,"display"))&&0===t.offsetWidth?Z.swap(t,Xe,function(){return S(t,e,r)}):S(t,e,r):void 0},set:function(t,n,r){var i=r&&$e(t);return L(t,n,r?E(t,e,r,"border-box"===Z.css(t,"boxSizing",!1,i),i):0)}}}),Z.cssHooks.marginRight=_(J.reliableMarginRight,function(t,e){return e?Z.swap(t,{display:"inline-block"},w,[t,"marginRight"]):void 0}),Z.each({margin:"",padding:"",border:"Width"},function(t,e){Z.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[t+_e[r]+e]=o[r]||o[r-2]||o[0];return i}},Be.test(t)||(Z.cssHooks[t+e].set=L)}),Z.fn.extend({css:function(t,e){return ve(this,function(t,e,n){var r,i,o={},s=0;if(Z.isArray(e)){for(r=$e(t),i=e.length;i>s;s++)o[e[s]]=Z.css(t,e[s],!1,r);return o}return void 0!==n?Z.style(t,e,n):Z.css(t,e)},t,e,arguments.length>1)},show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ce(this)?Z(this).show():Z(this).hide()})}}),Z.Tween=M,M.prototype={constructor:M,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||"swing",this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(Z.cssNumber[n]?"":"px")},cur:function(){var t=M.propHooks[this.prop];return t&&t.get?t.get(this):M.propHooks._default.get(this)},run:function(t){var e,n=M.propHooks[this.prop];return this.pos=e=this.options.duration?Z.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):M.propHooks._default.set(this),this}},M.prototype.init.prototype=M.prototype,M.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=Z.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){Z.fx.step[t.prop]?Z.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[Z.cssProps[t.prop]]||Z.cssHooks[t.prop])?Z.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},M.propHooks.scrollTop=M.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Z.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},Z.fx=M.prototype.init,Z.fx.step={};var Je,Ke,Qe=/^(?:toggle|show|hide)$/,Ze=new RegExp("^(?:([+-])=|)("+we+")([a-z%]*)$","i"),tn=/queueHooks$/,en=[A],nn={"*":[function(t,e){var n=this.createTween(t,e),r=n.cur(),i=Ze.exec(e),o=i&&i[3]||(Z.cssNumber[t]?"":"px"),s=(Z.cssNumber[t]||"px"!==o&&+r)&&Ze.exec(Z.css(n.elem,t)),a=1,u=20;if(s&&s[3]!==o){o=o||s[3],i=i||[],s=+r||1;do a=a||".5",s/=a,Z.style(n.elem,t,s+o);while(a!==(a=n.cur()/r)&&1!==a&&--u)}return i&&(s=n.start=+s||+r||0,n.unit=o,n.end=i[1]?s+(i[1]+1)*i[2]:+i[2]),n}]};Z.Animation=Z.extend(O,{tweener:function(t,e){Z.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,r=0,i=t.length;i>r;r++)n=t[r],nn[n]=nn[n]||[],nn[n].unshift(e)},prefilter:function(t,e){e?en.unshift(t):en.push(t)}}),Z.speed=function(t,e,n){var r=t&&"object"==typeof t?Z.extend({},t):{complete:n||!n&&e||Z.isFunction(t)&&t,duration:t,easing:n&&e||e&&!Z.isFunction(e)&&e};return r.duration=Z.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in Z.fx.speeds?Z.fx.speeds[r.duration]:Z.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){Z.isFunction(r.old)&&r.old.call(this),r.queue&&Z.dequeue(this,r.queue)},r},Z.fn.extend({fadeTo:function(t,e,n,r){return this.filter(Ce).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=Z.isEmptyObject(t),o=Z.speed(e,n,r),s=function(){var e=O(this,Z.extend({},t),o);(i||me.get(this,"finish"))&&e.stop(!0)};return s.finish=s,i||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=Z.timers,s=me.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&tn.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));(e||!n)&&Z.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=me.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=Z.timers,s=r?r.length:0;for(n.finish=!0,Z.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),Z.each(["toggle","show","hide"],function(t,e){var n=Z.fn[e];Z.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(z(e,!0),t,r,i)}}),Z.each({slideDown:z("show"),slideUp:z("hide"),slideToggle:z("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){Z.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),Z.timers=[],Z.fx.tick=function(){var t,e=0,n=Z.timers;for(Je=Z.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||Z.fx.stop(),Je=void 0},Z.fx.timer=function(t){Z.timers.push(t),t()?Z.fx.start():Z.timers.pop()},Z.fx.interval=13,Z.fx.start=function(){Ke||(Ke=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.stop=function(){clearInterval(Ke),Ke=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fn.delay=function(t,e){return t=Z.fx?Z.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var r=setTimeout(e,t);n.stop=function(){clearTimeout(r)}})},function(){var t=K.createElement("input"),e=K.createElement("select"),n=e.appendChild(K.createElement("option"));t.type="checkbox",J.checkOn=""!==t.value,J.optSelected=n.selected,e.disabled=!0,J.optDisabled=!n.disabled,t=K.createElement("input"),t.value="t",t.type="radio",J.radioValue="t"===t.value}();var rn,on,sn=Z.expr.attrHandle;Z.fn.extend({attr:function(t,e){return ve(this,Z.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){Z.removeAttr(this,t)})}}),Z.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===Ee?Z.prop(t,e,n):(1===o&&Z.isXMLDoc(t)||(e=e.toLowerCase(),r=Z.attrHooks[e]||(Z.expr.match.bool.test(e)?on:rn)),void 0===n?r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=Z.find.attr(t,e),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):void Z.removeAttr(t,e))},removeAttr:function(t,e){var n,r,i=0,o=e&&e.match(de);if(o&&1===t.nodeType)for(;n=o[i++];)r=Z.propFix[n]||n,Z.expr.match.bool.test(n)&&(t[r]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!J.radioValue&&"radio"===e&&Z.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),on={set:function(t,e,n){return e===!1?Z.removeAttr(t,n):t.setAttribute(n,n),n}},Z.each(Z.expr.match.bool.source.match(/\w+/g),function(t,e){var n=sn[e]||Z.find.attr;sn[e]=function(t,e,r){var i,o;return r||(o=sn[e],sn[e]=i,i=null!=n(t,e,r)?e.toLowerCase():null,sn[e]=o),i}});var an=/^(?:input|select|textarea|button)$/i;Z.fn.extend({prop:function(t,e){return ve(this,Z.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[Z.propFix[t]||t]})}}),Z.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var r,i,o,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return o=1!==s||!Z.isXMLDoc(t),o&&(e=Z.propFix[e]||e,i=Z.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||an.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),J.optSelected||(Z.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),Z.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Z.propFix[this.toLowerCase()]=this});var un=/[\t\r\n\f]/g;Z.fn.extend({addClass:function(t){var e,n,r,i,o,s,a="string"==typeof t&&t,u=0,l=this.length;if(Z.isFunction(t))return this.each(function(e){Z(this).addClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(de)||[];l>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(un," "):" ")){for(o=0;i=e[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");s=Z.trim(r),n.className!==s&&(n.className=s)}return this},removeClass:function(t){var e,n,r,i,o,s,a=0===arguments.length||"string"==typeof t&&t,u=0,l=this.length;if(Z.isFunction(t))return this.each(function(e){Z(this).removeClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(de)||[];l>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(un," "):"")){for(o=0;i=e[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");s=t?Z.trim(r):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):this.each(Z.isFunction(t)?function(n){Z(this).toggleClass(t.call(this,n,this.className,e),e)}:function(){if("string"===n)for(var e,r=0,i=Z(this),o=t.match(de)||[];e=o[r++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else(n===Ee||"boolean"===n)&&(this.className&&me.set(this,"__className__",this.className),this.className=this.className||t===!1?"":me.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(un," ").indexOf(e)>=0)return!0;return!1}});var ln=/\r/g;Z.fn.extend({val:function(t){var e,n,r,i=this[0];{if(arguments.length)return r=Z.isFunction(t),this.each(function(n){var i;1===this.nodeType&&(i=r?t.call(this,n,Z(this).val()):t,null==i?i="":"number"==typeof i?i+="":Z.isArray(i)&&(i=Z.map(i,function(t){return null==t?"":t+""})),e=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))});if(i)return e=Z.valHooks[i.type]||Z.valHooks[i.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(ln,""):null==n?"":n)}}}),Z.extend({valHooks:{option:{get:function(t){var e=Z.find.attr(t,"value");return null!=e?e:Z.trim(Z.text(t))}},select:{get:function(t){for(var e,n,r=t.options,i=t.selectedIndex,o="select-one"===t.type||0>i,s=o?null:[],a=o?i+1:r.length,u=0>i?a:o?i:0;a>u;u++)if(n=r[u],!(!n.selected&&u!==i||(J.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&Z.nodeName(n.parentNode,"optgroup"))){if(e=Z(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,r,i=t.options,o=Z.makeArray(e),s=i.length;s--;)r=i[s],(r.selected=Z.inArray(r.value,o)>=0)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]={set:function(t,e){return Z.isArray(e)?t.checked=Z.inArray(Z(t).val(),e)>=0:void 0}},J.checkOn||(Z.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){Z.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),Z.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var cn=Z.now(),hn=/\?/;Z.parseJSON=function(t){return JSON.parse(t+"")},Z.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{n=new DOMParser,e=n.parseFromString(t,"text/xml")}catch(r){e=void 0}return(!e||e.getElementsByTagName("parsererror").length)&&Z.error("Invalid XML: "+t),e};var fn=/#.*$/,dn=/([?&])_=[^&]*/,pn=/^(.*?):[ \t]*([^\r\n]*)$/gm,gn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,vn=/^(?:GET|HEAD)$/,mn=/^\/\//,yn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,xn={},bn={},wn="*/".concat("*"),_n=t.location.href,Cn=yn.exec(_n.toLowerCase())||[];Z.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_n,type:"GET",isLocal:gn.test(Cn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":wn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?R(R(t,Z.ajaxSettings),e):R(Z.ajaxSettings,t)},ajaxPrefilter:j(xn),ajaxTransport:j(bn),ajax:function(t,e){function n(t,e,n,s){var u,c,m,y,b,_=e;2!==x&&(x=2,a&&clearTimeout(a),r=void 0,o=s||"",w.readyState=t>0?4:0,u=t>=200&&300>t||304===t,n&&(y=P(h,w,n)),y=q(h,y,w,u),u?(h.ifModified&&(b=w.getResponseHeader("Last-Modified"),b&&(Z.lastModified[i]=b),b=w.getResponseHeader("etag"),b&&(Z.etag[i]=b)),204===t||"HEAD"===h.type?_="nocontent":304===t?_="notmodified":(_=y.state,c=y.data,m=y.error,u=!m)):(m=_,(t||!_)&&(_="error",0>t&&(t=0))),w.status=t,w.statusText=(e||_)+"",u?p.resolveWith(f,[c,_,w]):p.rejectWith(f,[w,_,m]),w.statusCode(v),v=void 0,l&&d.trigger(u?"ajaxSuccess":"ajaxError",[w,h,u?c:m]),g.fireWith(f,[w,_]),l&&(d.trigger("ajaxComplete",[w,h]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,i,o,s,a,u,l,c,h=Z.ajaxSetup({},e),f=h.context||h,d=h.context&&(f.nodeType||f.jquery)?Z(f):Z.event,p=Z.Deferred(),g=Z.Callbacks("once memory"),v=h.statusCode||{},m={},y={},x=0,b="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===x){if(!s)for(s={};e=pn.exec(o);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===x?o:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return x||(t=y[n]=y[n]||t,m[t]=e),this},overrideMimeType:function(t){return x||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>x)for(e in t)v[e]=[v[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||b;return r&&r.abort(e),n(0,e),this}};if(p.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,h.url=((t||h.url||_n)+"").replace(fn,"").replace(mn,Cn[1]+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=Z.trim(h.dataType||"*").toLowerCase().match(de)||[""],null==h.crossDomain&&(u=yn.exec(h.url.toLowerCase()),h.crossDomain=!(!u||u[1]===Cn[1]&&u[2]===Cn[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(Cn[3]||("http:"===Cn[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=Z.param(h.data,h.traditional)),N(xn,h,e,w),2===x)return w;l=Z.event&&h.global,l&&0===Z.active++&&Z.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!vn.test(h.type),i=h.url,h.hasContent||(h.data&&(i=h.url+=(hn.test(i)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=dn.test(i)?i.replace(dn,"$1_="+cn++):i+(hn.test(i)?"&":"?")+"_="+cn++)),h.ifModified&&(Z.lastModified[i]&&w.setRequestHeader("If-Modified-Since",Z.lastModified[i]),Z.etag[i]&&w.setRequestHeader("If-None-Match",Z.etag[i])),(h.data&&h.hasContent&&h.contentType!==!1||e.contentType)&&w.setRequestHeader("Content-Type",h.contentType),w.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+wn+"; q=0.01":""):h.accepts["*"]);for(c in h.headers)w.setRequestHeader(c,h.headers[c]);if(h.beforeSend&&(h.beforeSend.call(f,w,h)===!1||2===x))return w.abort();b="abort";for(c in{success:1,error:1,complete:1})w[c](h[c]);if(r=N(bn,h,e,w)){w.readyState=1,l&&d.trigger("ajaxSend",[w,h]),h.async&&h.timeout>0&&(a=setTimeout(function(){w.abort("timeout")},h.timeout));try{x=1,r.send(m,n)}catch(_){if(!(2>x))throw _;n(-1,_)}}else n(-1,"No Transport");return w},getJSON:function(t,e,n){return Z.get(t,e,n,"json")},getScript:function(t,e){return Z.get(t,void 0,e,"script")}}),Z.each(["get","post"],function(t,e){Z[e]=function(t,n,r,i){return Z.isFunction(n)&&(i=i||r,r=n,n=void 0),Z.ajax({url:t,type:e,dataType:i,data:n,success:r})}}),Z._evalUrl=function(t){return Z.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Z.fn.extend({wrapAll:function(t){var e;return Z.isFunction(t)?this.each(function(e){Z(this).wrapAll(t.call(this,e))}):(this[0]&&(e=Z(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return this.each(Z.isFunction(t)?function(e){Z(this).wrapInner(t.call(this,e))}:function(){var e=Z(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=Z.isFunction(t);return this.each(function(n){Z(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()}}),Z.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},Z.expr.filters.visible=function(t){return!Z.expr.filters.hidden(t)};var Ln=/%20/g,En=/\[\]$/,Sn=/\r?\n/g,Tn=/^(?:submit|button|image|reset|file)$/i,Mn=/^(?:input|select|textarea|keygen)/i;Z.param=function(t,e){var n,r=[],i=function(t,e){e=Z.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(t)||t.jquery&&!Z.isPlainObject(t))Z.each(t,function(){i(this.name,this.value)});else for(n in t)V(n,t[n],e,i);return r.join("&").replace(Ln,"+")},Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=Z.prop(this,"elements");return t?Z.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!Z(this).is(":disabled")&&Mn.test(this.nodeName)&&!Tn.test(t)&&(this.checked||!Le.test(t))}).map(function(t,e){var n=Z(this).val();return null==n?null:Z.isArray(n)?Z.map(n,function(t){return{name:e.name,value:t.replace(Sn,"\r\n")}}):{name:e.name,value:n.replace(Sn,"\r\n")}}).get()}}),Z.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var kn=0,zn={},In={0:200,1223:204},An=Z.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in zn)zn[t]()}),J.cors=!!An&&"withCredentials"in An,J.ajax=An=!!An,Z.ajaxTransport(function(t){var e;return J.cors||An&&!t.crossDomain?{send:function(n,r){var i,o=t.xhr(),s=++kn;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(i in t.xhrFields)o[i]=t.xhrFields[i];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)o.setRequestHeader(i,n[i]);e=function(t){return function(){e&&(delete zn[s],e=o.onload=o.onerror=null,"abort"===t?o.abort():"error"===t?r(o.status,o.statusText):r(In[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=e(),o.onerror=e("error"),e=zn[s]=e("abort");try{o.send(t.hasContent&&t.data||null)}catch(a){if(e)throw a}},abort:function(){e&&e()}}:void 0}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return Z.globalEval(t),t
}}}),Z.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),Z.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(r,i){e=Z("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),K.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Dn=[],On=/(=)\?(?=&|$)|\?\?/;Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Dn.pop()||Z.expando+"_"+cn++;return this[t]=!0,t}}),Z.ajaxPrefilter("json jsonp",function(e,n,r){var i,o,s,a=e.jsonp!==!1&&(On.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&On.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(i=e.jsonpCallback=Z.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(On,"$1"+i):e.jsonp!==!1&&(e.url+=(hn.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return s||Z.error(i+" was not called"),s[0]},e.dataTypes[0]="json",o=t[i],t[i]=function(){s=arguments},r.always(function(){t[i]=o,e[i]&&(e.jsonpCallback=n.jsonpCallback,Dn.push(i)),s&&Z.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),Z.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||K;var r=se.exec(t),i=!n&&[];return r?[e.createElement(r[1])]:(r=Z.buildFragment([t],e,i),i&&i.length&&Z(i).remove(),Z.merge([],r.childNodes))};var jn=Z.fn.load;Z.fn.load=function(t,e,n){if("string"!=typeof t&&jn)return jn.apply(this,arguments);var r,i,o,s=this,a=t.indexOf(" ");return a>=0&&(r=Z.trim(t.slice(a)),t=t.slice(0,a)),Z.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),s.length>0&&Z.ajax({url:t,type:i,dataType:"html",data:e}).done(function(t){o=arguments,s.html(r?Z("<div>").append(Z.parseHTML(t)).find(r):t)}).complete(n&&function(t,e){s.each(n,o||[t.responseText,e,t])}),this},Z.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){Z.fn[e]=function(t){return this.on(e,t)}}),Z.expr.filters.animated=function(t){return Z.grep(Z.timers,function(e){return t===e.elem}).length};var Nn=t.document.documentElement;Z.offset={setOffset:function(t,e,n){var r,i,o,s,a,u,l,c=Z.css(t,"position"),h=Z(t),f={};"static"===c&&(t.style.position="relative"),a=h.offset(),o=Z.css(t,"top"),u=Z.css(t,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=h.position(),s=r.top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),Z.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(f.top=e.top-a.top+s),null!=e.left&&(f.left=e.left-a.left+i),"using"in e?e.using.call(t,f):h.css(f)}},Z.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){Z.offset.setOffset(this,t,e)});var e,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;if(o)return e=o.documentElement,Z.contains(e,r)?(typeof r.getBoundingClientRect!==Ee&&(i=r.getBoundingClientRect()),n=B(o),{top:i.top+n.pageYOffset-e.clientTop,left:i.left+n.pageXOffset-e.clientLeft}):i},position:function(){if(this[0]){var t,e,n=this[0],r={top:0,left:0};return"fixed"===Z.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),Z.nodeName(t[0],"html")||(r=t.offset()),r.top+=Z.css(t[0],"borderTopWidth",!0),r.left+=Z.css(t[0],"borderLeftWidth",!0)),{top:e.top-r.top-Z.css(n,"marginTop",!0),left:e.left-r.left-Z.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Nn;t&&!Z.nodeName(t,"html")&&"static"===Z.css(t,"position");)t=t.offsetParent;return t||Nn})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r="pageYOffset"===n;Z.fn[e]=function(i){return ve(this,function(e,i,o){var s=B(e);return void 0===o?s?s[n]:e[i]:void(s?s.scrollTo(r?t.pageXOffset:o,r?o:t.pageYOffset):e[i]=o)},e,i,arguments.length,null)}}),Z.each(["top","left"],function(t,e){Z.cssHooks[e]=_(J.pixelPosition,function(t,n){return n?(n=w(t,e),Fe.test(n)?Z(t).position()[e]+"px":n):void 0})}),Z.each({Height:"height",Width:"width"},function(t,e){Z.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){Z.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),s=n||(r===!0||i===!0?"margin":"border");return ve(this,function(e,n,r){var i;return Z.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+t],i["scroll"+t],e.body["offset"+t],i["offset"+t],i["client"+t])):void 0===r?Z.css(e,n,s):Z.style(e,n,r,s)},e,o?r:void 0,o,null)}})}),Z.fn.size=function(){return this.length},Z.fn.andSelf=Z.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Z});var Rn=t.jQuery,Pn=t.$;return Z.noConflict=function(e){return t.$===Z&&(t.$=Pn),e&&t.jQuery===Z&&(t.jQuery=Rn),Z},typeof e===Ee&&(t.jQuery=t.$=Z),Z}),function(){function t(t,e){if(t!==e){var n=null===t,r=t===w,i=t===t,o=null===e,s=e===w,a=e===e;if(t>e&&!o||!i||n&&!s&&a||r&&a)return 1;if(e>t&&!n||!a||o&&!r&&i||s&&i)return-1}return 0}function e(t,e,n){for(var r=t.length,i=n?r:-1;n?i--:++i<r;)if(e(t[i],i,t))return i;return-1}function n(t,e,n){if(e!==e)return f(t,n);for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function r(t){return"function"==typeof t||!1}function i(t){return"string"==typeof t?t:null==t?"":t+""}function o(t,e){for(var n=-1,r=t.length;++n<r&&e.indexOf(t.charAt(n))>-1;);return n}function s(t,e){for(var n=t.length;n--&&e.indexOf(t.charAt(n))>-1;);return n}function a(e,n){return t(e.criteria,n.criteria)||e.index-n.index}function u(e,n,r){for(var i=-1,o=e.criteria,s=n.criteria,a=o.length,u=r.length;++i<a;){var l=t(o[i],s[i]);if(l)return i>=u?l:l*(r[i]?1:-1)}return e.index-n.index}function l(t){return Fe[t]}function c(t){return $e[t]}function h(t){return"\\"+We[t]}function f(t,e,n){for(var r=t.length,i=e+(n?0:-1);n?i--:++i<r;){var o=t[i];if(o!==o)return i}return-1}function d(t){return!!t&&"object"==typeof t}function p(t){return 160>=t&&t>=9&&13>=t||32==t||160==t||5760==t||6158==t||t>=8192&&(8202>=t||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function g(t,e){for(var n=-1,r=t.length,i=-1,o=[];++n<r;)t[n]===e&&(t[n]=V,o[++i]=n);return o}function v(t,e){for(var n,r=-1,i=t.length,o=-1,s=[];++r<i;){var a=t[r],u=e?e(a,r,t):a;r&&n===u||(n=u,s[++o]=a)}return s}function m(t){for(var e=-1,n=t.length;++e<n&&p(t.charCodeAt(e)););return e}function y(t){for(var e=t.length;e--&&p(t.charCodeAt(e)););return e}function x(t){return He[t]}function b(p){function X(t){if(d(t)&&!Tu(t)&&!(t instanceof Fe)){if(t instanceof Z)return t;if(Ys.call(t,"__chain__")&&Ys.call(t,"__wrapped__"))return li(t)}return new Z(t)}function K(){}function Z(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}function Fe(t){this.__wrapped__=t,this.__actions__=null,this.__dir__=1,this.__dropCount__=0,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=Ea,this.__views__=null}function $e(){var t=this.__actions__,e=this.__iteratees__,n=this.__views__,r=new Fe(this.__wrapped__);return r.__actions__=t?nn(t):null,r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=e?nn(e):null,r.__takeCount__=this.__takeCount__,r.__views__=n?nn(n):null,r}function He(){if(this.__filtered__){var t=new Fe(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Ue(){var t=this.__wrapped__.value();if(!Tu(t))return nr(t,this.__actions__);var e=this.__dir__,n=0>e,r=Fr(0,t.length,this.__views__),i=r.start,o=r.end,s=o-i,a=n?o:i-1,u=xa(s,this.__takeCount__),l=this.__iteratees__,c=l?l.length:0,h=0,f=[];t:for(;s--&&u>h;){a+=e;for(var d=-1,p=t[a];++d<c;){var g=l[d],v=g.iteratee,m=g.type;if(m==N){if(g.done&&(n?a>g.index:a<g.index)&&(g.count=0,g.done=!1),g.index=a,!g.done){var y=g.limit;if(!(g.done=y>-1?g.count++>=y:!v(p)))continue t}}else{var x=v(p);if(m==P)p=x;else if(!x){if(m==R)continue t;break t}}}f[h++]=p}return f}function We(){this.__data__={}}function Xe(t){return this.has(t)&&delete this.__data__[t]}function Ge(t){return"__proto__"==t?w:this.__data__[t]}function Ye(t){return"__proto__"!=t&&Ys.call(this.__data__,t)}function Je(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this}function Ke(t){var e=t?t.length:0;for(this.data={hash:pa(null),set:new ua};e--;)this.push(t[e])}function Qe(t,e){var n=t.data,r="string"==typeof e||ko(e)?n.set.has(e):n.hash[e];return r?0:-1}function en(t){var e=this.data;"string"==typeof t||ko(t)?e.set.add(t):e.hash[t]=!0}function nn(t,e){var n=-1,r=t.length;for(e||(e=Os(r));++n<r;)e[n]=t[n];return e}function rn(t,e){for(var n=-1,r=t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function on(t,e){for(var n=t.length;n--&&e(t[n],n,t)!==!1;);return t}function sn(t,e){for(var n=-1,r=t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function an(t,e,n,r){for(var i=-1,o=t.length,s=r,a=s;++i<o;){var u=t[i],l=+e(u);n(l,s)&&(s=l,a=u)}return a}function un(t,e){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[++i]=s)}return o}function ln(t,e){for(var n=-1,r=t.length,i=Os(r);++n<r;)i[n]=e(t[n],n,t);return i}function cn(t,e,n,r){var i=-1,o=t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function hn(t,e,n,r){var i=t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function fn(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function dn(t){for(var e=t.length,n=0;e--;)n+=+t[e]||0;return n}function pn(t,e){return t===w?e:t}function gn(t,e,n,r){return t!==w&&Ys.call(r,n)?t:e}function vn(t,e,n){for(var r=-1,i=qu(e),o=i.length;++r<o;){var s=i[r],a=t[s],u=n(a,e[s],s,t,e);(u===u?u===a:a!==a)&&(a!==w||s in t)||(t[s]=u)}return t}function mn(t,e){return null==e?t:xn(e,qu(e),t)}function yn(t,e){for(var n=-1,r=null==t,i=!r&&Xr(t),o=i?t.length:0,s=e.length,a=Os(s);++n<s;){var u=e[n];a[n]=i?Gr(u,o)?t[u]:w:r?w:t[u]}return a}function xn(t,e,n){n||(n={});for(var r=-1,i=e.length;++r<i;){var o=e[r];n[o]=t[o]}return n}function bn(t,e,n){var r=typeof t;return"function"==r?e===w?t:or(t,e,n):null==t?ws:"object"==r?qn(t):e===w?Ts(t):Vn(t,e)}function wn(t,e,n,r,i,o,s){var a;if(n&&(a=i?n(t,r,i):n(t)),a!==w)return a;if(!ko(t))return t;var u=Tu(t);if(u){if(a=$r(t),!e)return nn(t,a)}else{var l=Ks.call(t),c=l==W;if(l!=Y&&l!=B&&(!c||i))return Ve[l]?Ur(t,l,e):i?t:{};if(a=Hr(c?{}:t),!e)return mn(a,t)}o||(o=[]),s||(s=[]);for(var h=o.length;h--;)if(o[h]==t)return s[h];return o.push(t),s.push(a),(u?rn:In)(t,function(r,i){a[i]=wn(r,e,n,i,t,o,s)}),a}function _n(t,e,n){if("function"!=typeof t)throw new $s(q);return la(function(){t.apply(w,n)},e)}function Cn(t,e){var r=t?t.length:0,i=[];if(!r)return i;var o=-1,s=qr(),a=s==n,u=a&&e.length>=200?Va(e):null,l=e.length;u&&(s=Qe,a=!1,e=u);t:for(;++o<r;){var c=t[o];if(a&&c===c){for(var h=l;h--;)if(e[h]===c)continue t;i.push(c)}else s(e,c,0)<0&&i.push(c)}return i}function Ln(t,e){var n=!0;return ja(t,function(t,r,i){return n=!!e(t,r,i)}),n}function En(t,e,n,r){var i=r,o=i;return ja(t,function(t,s,a){var u=+e(t,s,a);(n(u,i)||u===r&&u===o)&&(i=u,o=t)}),o}function Sn(t,e,n,r){var i=t.length;for(n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),r=r===w||r>i?i:+r||0,0>r&&(r+=i),i=n>r?0:r>>>0,n>>>=0;i>n;)t[n++]=e;return t}function Tn(t,e){var n=[];return ja(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function Mn(t,e,n,r){var i;return n(t,function(t,n,o){return e(t,n,o)?(i=r?n:t,!1):void 0}),i}function kn(t,e,n){for(var r=-1,i=t.length,o=-1,s=[];++r<i;){var a=t[r];if(d(a)&&Xr(a)&&(n||Tu(a)||_o(a))){e&&(a=kn(a,e,n));for(var u=-1,l=a.length;++u<l;)s[++o]=a[u]}else n||(s[++o]=a)}return s}function zn(t,e){return Ra(t,e,Go)}function In(t,e){return Ra(t,e,qu)}function An(t,e){return Pa(t,e,qu)}function Dn(t,e){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var s=e[n];ku(t[s])&&(o[++i]=s)}return o}function On(t,e,n){if(null!=t){n!==w&&n in ai(t)&&(e=[n]);for(var r=0,i=e.length;null!=t&&i>r;)t=t[e[r++]];return r&&r==i?t:w}}function jn(t,e,n,r,i,o){return t===e?!0:null==t||null==e||!ko(t)&&!d(e)?t!==t&&e!==e:Nn(t,e,jn,n,r,i,o)}function Nn(t,e,n,r,i,o,s){var a=Tu(t),u=Tu(e),l=F,c=F;a||(l=Ks.call(t),l==B?l=Y:l!=Y&&(a=Ro(t))),u||(c=Ks.call(e),c==B?c=Y:c!=Y&&(u=Ro(e)));var h=l==Y,f=c==Y,d=l==c;if(d&&!a&&!h)return jr(t,e,l);if(!i){var p=h&&Ys.call(t,"__wrapped__"),g=f&&Ys.call(e,"__wrapped__");if(p||g)return n(p?t.value():t,g?e.value():e,r,i,o,s)}if(!d)return!1;o||(o=[]),s||(s=[]);for(var v=o.length;v--;)if(o[v]==t)return s[v]==e;o.push(t),s.push(e);var m=(a?Or:Nr)(t,e,n,r,i,o,s);return o.pop(),s.pop(),m}function Rn(t,e,n){var r=e.length,i=r,o=!n;if(null==t)return!i;for(t=ai(t);r--;){var s=e[r];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<i;){s=e[r];var a=s[0],u=t[a],l=s[1];if(o&&s[2]){if(u===w&&!(a in t))return!1}else{var c=n?n(u,l,a):w;if(!(c===w?jn(l,u,n,!0):c))return!1}}return!0}function Pn(t,e){var n=-1,r=Xr(t)?Os(t.length):[];return ja(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function qn(t){var e=Vr(t);if(1==e.length&&e[0][2]){var n=e[0][0],r=e[0][1];return function(t){return null==t?!1:t[n]===r&&(r!==w||n in ai(t))}}return function(t){return Rn(t,e)}}function Vn(t,e){var n=Tu(t),r=Jr(t)&&Zr(e),i=t+"";return t=ui(t),function(o){if(null==o)return!1;var s=i;if(o=ai(o),!(!n&&r||s in o)){if(o=1==t.length?o:On(o,Gn(t,0,-1)),null==o)return!1;s=_i(t),o=ai(o)}return o[s]===e?e!==w||s in o:jn(e,o[s],w,!0)}}function Bn(t,e,n,r,i){if(!ko(t))return t;var o=Xr(e)&&(Tu(e)||Ro(e)),s=o?null:qu(e);return rn(s||e,function(a,u){if(s&&(u=a,a=e[u]),d(a))r||(r=[]),i||(i=[]),Fn(t,e,u,Bn,n,r,i);else{var l=t[u],c=n?n(l,a,u,t,e):w,h=c===w;h&&(c=a),c===w&&(!o||u in t)||!h&&(c===c?c===l:l!==l)||(t[u]=c)}}),t}function Fn(t,e,n,r,i,o,s){for(var a=o.length,u=e[n];a--;)if(o[a]==u)return void(t[n]=s[a]);var l=t[n],c=i?i(l,u,n,t,e):w,h=c===w;h&&(c=u,Xr(u)&&(Tu(u)||Ro(u))?c=Tu(l)?l:Xr(l)?nn(l):[]:zu(u)||_o(u)?c=_o(l)?Fo(l):zu(l)?l:{}:h=!1),o.push(u),s.push(c),h?t[n]=r(c,u,i,o,s):(c===c?c!==l:l===l)&&(t[n]=c)}function $n(t){return function(e){return null==e?w:e[t]}}function Hn(t){var e=t+"";return t=ui(t),function(n){return On(n,t,e)}}function Un(t,e){for(var n=t?e.length:0;n--;){var r=e[n];if(r!=i&&Gr(r)){var i=r;ca.call(t,r,1)}}return t}function Wn(t,e){return t+ia(Ca()*(e-t+1))}function Xn(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function Gn(t,e,n){var r=-1,i=t.length;e=null==e?0:+e||0,0>e&&(e=-e>i?0:i+e),n=n===w||n>i?i:+n||0,0>n&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Os(i);++r<i;)o[r]=t[r+e];return o}function Yn(t,e){var n;return ja(t,function(t,r,i){return n=e(t,r,i),!n}),!!n}function Jn(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function Kn(t,e,n){var r=Rr(),i=-1;e=ln(e,function(t){return r(t)});var o=Pn(t,function(t){var n=ln(e,function(e){return e(t)});return{criteria:n,index:++i,value:t}});return Jn(o,function(t,e){return u(t,e,n)})}function Qn(t,e){var n=0;return ja(t,function(t,r,i){n+=+e(t,r,i)||0}),n}function Zn(t,e){var r=-1,i=qr(),o=t.length,s=i==n,a=s&&o>=200,u=a?Va():null,l=[];u?(i=Qe,s=!1):(a=!1,u=e?[]:l);t:for(;++r<o;){var c=t[r],h=e?e(c,r,t):c;if(s&&c===c){for(var f=u.length;f--;)if(u[f]===h)continue t;e&&u.push(h),l.push(c)}else i(u,h,0)<0&&((e||a)&&u.push(h),l.push(c))}return l}function tr(t,e){for(var n=-1,r=e.length,i=Os(r);++n<r;)i[n]=t[e[n]];return i}function er(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Gn(t,r?0:o,r?o+1:i):Gn(t,r?o+1:0,r?i:o)}function nr(t,e){var n=t;n instanceof Fe&&(n=n.value());for(var r=-1,i=e.length;++r<i;){var o=[n],s=e[r];aa.apply(o,s.args),n=s.func.apply(s.thisArg,o)}return n}function rr(t,e,n){var r=0,i=t?t.length:r;if("number"==typeof e&&e===e&&Ma>=i){for(;i>r;){var o=r+i>>>1,s=t[o];(n?e>=s:e>s)&&null!==s?r=o+1:i=o}return i}return ir(t,e,ws,n)}function ir(t,e,n,r){e=n(e);for(var i=0,o=t?t.length:0,s=e!==e,a=null===e,u=e===w;o>i;){var l=ia((i+o)/2),c=n(t[l]),h=c!==w,f=c===c;if(s)var d=f||r;else d=a?f&&h&&(r||null!=c):u?f&&(r||h):null==c?!1:r?e>=c:e>c;d?i=l+1:o=l}return xa(o,Ta)}function or(t,e,n){if("function"!=typeof t)return ws;if(e===w)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)};case 5:return function(n,r,i,o,s){return t.call(e,n,r,i,o,s)}}return function(){return t.apply(e,arguments)}}function sr(t){return ea.call(t,0)}function ar(t,e,n){for(var r=n.length,i=-1,o=ya(t.length-r,0),s=-1,a=e.length,u=Os(o+a);++s<a;)u[s]=e[s];for(;++i<r;)u[n[i]]=t[i];for(;o--;)u[s++]=t[i++];return u}function ur(t,e,n){for(var r=-1,i=n.length,o=-1,s=ya(t.length-i,0),a=-1,u=e.length,l=Os(s+u);++o<s;)l[o]=t[o];for(var c=o;++a<u;)l[c+a]=e[a];for(;++r<i;)l[c+n[r]]=t[o++];return l}function lr(t,e){return function(n,r,i){var o=e?e():{};if(r=Rr(r,i,3),Tu(n))for(var s=-1,a=n.length;++s<a;){var u=n[s];t(o,u,r(u,s,n),n)}else ja(n,function(e,n,i){t(o,e,r(e,n,i),i)});return o}}function cr(t){return po(function(e,n){var r=-1,i=null==e?0:n.length,o=i>2?n[i-2]:w,s=i>2?n[2]:w,a=i>1?n[i-1]:w;for("function"==typeof o?(o=or(o,a,5),i-=2):(o="function"==typeof a?a:w,i-=o?1:0),s&&Yr(n[0],n[1],s)&&(o=3>i?w:o,i=1);++r<i;){var u=n[r];u&&t(e,u,o)}return e})}function hr(t,e){return function(n,r){var i=n?Fa(n):0;if(!Qr(i))return t(n,r);for(var o=e?i:-1,s=ai(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}function fr(t){return function(e,n,r){for(var i=ai(e),o=r(e),s=o.length,a=t?s:-1;t?a--:++a<s;){var u=o[a];if(n(i[u],u,i)===!1)break}return e}}function dr(t,e){function n(){var i=this&&this!==Ze&&this instanceof n?r:t;return i.apply(e,arguments)}var r=gr(t);return n}function pr(t){return function(e){for(var n=-1,r=ys(is(e)),i=r.length,o="";++n<i;)o=t(o,r[n],n);return o}}function gr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4])}var n=Oa(t.prototype),r=t.apply(n,e);return ko(r)?r:n}}function vr(t){function e(n,r,i){i&&Yr(n,r,i)&&(r=null);var o=Dr(n,t,null,null,null,null,null,r);return o.placeholder=e.placeholder,o}return e}function mr(t,e){return function(n,r,i){if(i&&Yr(n,r,i)&&(r=null),r=Rr(r,i,3),1==r.length){n=si(n);var o=an(n,r,t,e);if(!n.length||o!==e)return o}return En(n,r,t,e)}}function yr(t,n){return function(r,i,o){if(i=Rr(i,o,3),Tu(r)){var s=e(r,i,n);return s>-1?r[s]:w}return Mn(r,i,t)}}function xr(t){return function(n,r,i){return n&&n.length?(r=Rr(r,i,3),e(n,r,t)):-1}}function br(t){return function(e,n,r){return n=Rr(n,r,3),Mn(e,n,t,!0)}}function wr(t){return function(){for(var e,n=arguments.length,r=t?n:-1,i=0,o=Os(n);t?r--:++r<n;){var s=o[i++]=arguments[r];if("function"!=typeof s)throw new $s(q);!e&&Z.prototype.thru&&"wrapper"==Pr(s)&&(e=new Z([]))}for(r=e?-1:n;++r<n;){s=o[r];var a=Pr(s),u="wrapper"==a?Ba(s):null;e=u&&Kr(u[0])&&u[1]==(z|S|M|I)&&!u[4].length&&1==u[9]?e[Pr(u[0])].apply(e,u[3]):1==s.length&&Kr(s)?e[a]():e.thru(s)}return function(){var t=arguments;if(e&&1==t.length&&Tu(t[0]))return e.plant(t[0]).value();for(var r=0,i=n?o[r].apply(this,t):t[0];++r<n;)i=o[r].call(this,i);return i}}}function _r(t,e){return function(n,r,i){return"function"==typeof r&&i===w&&Tu(n)?t(n,r):e(n,or(r,i,3))}}function Cr(t){return function(e,n,r){return("function"!=typeof n||r!==w)&&(n=or(n,r,3)),t(e,n,Go)}}function Lr(t){return function(e,n,r){return("function"!=typeof n||r!==w)&&(n=or(n,r,3)),t(e,n)}}function Er(t){return function(e,n,r){var i={};return n=Rr(n,r,3),In(e,function(e,r,o){var s=n(e,r,o);r=t?s:r,e=t?e:s,i[r]=e}),i}}function Sr(t){return function(e,n,r){return e=i(e),(t?e:"")+zr(e,n,r)+(t?"":e)}}function Tr(t){var e=po(function(n,r){var i=g(r,e.placeholder);return Dr(n,t,null,r,i)});return e}function Mr(t,e){return function(n,r,i,o){var s=arguments.length<3;return"function"==typeof r&&o===w&&Tu(n)?t(n,r,i,s):Xn(n,Rr(r,o,4),i,s,e)}}function kr(t,e,n,r,i,o,s,a,u,l){function c(){for(var x=arguments.length,b=x,_=Os(x);b--;)_[b]=arguments[b];if(r&&(_=ar(_,r,i)),o&&(_=ur(_,o,s)),p||m){var E=c.placeholder,S=g(_,E);if(x-=S.length,l>x){var T=a?nn(a):null,z=ya(l-x,0),I=p?S:null,A=p?null:S,D=p?_:null,O=p?null:_;e|=p?M:k,e&=~(p?k:M),v||(e&=~(C|L));var j=[t,e,n,D,I,O,A,T,u,z],N=kr.apply(w,j);return Kr(t)&&$a(N,j),N.placeholder=E,N}}var R=f?n:this,P=d?R[t]:t;return a&&(_=ri(_,a)),h&&u<_.length&&(_.length=u),this&&this!==Ze&&this instanceof c&&(P=y||gr(t)),P.apply(R,_)}var h=e&z,f=e&C,d=e&L,p=e&S,v=e&E,m=e&T,y=d?null:gr(t);return c}function zr(t,e,n){var r=t.length;if(e=+e,r>=e||!va(e))return"";var i=e-r;return n=null==n?" ":n+"",cs(n,na(i/n.length)).slice(0,i)}function Ir(t,e,n,r){function i(){for(var e=-1,a=arguments.length,u=-1,l=r.length,c=Os(a+l);++u<l;)c[u]=r[u];for(;a--;)c[u++]=arguments[++e];var h=this&&this!==Ze&&this instanceof i?s:t;return h.apply(o?n:this,c)}var o=e&C,s=gr(t);return i}function Ar(t){return function(e,n,r,i){var o=Rr(r);return null==r&&o===bn?rr(e,n,t):ir(e,n,o(r,i,1),t)}}function Dr(t,e,n,r,i,o,s,a){var u=e&L;if(!u&&"function"!=typeof t)throw new $s(q);var l=r?r.length:0;if(l||(e&=~(M|k),r=i=null),l-=i?i.length:0,e&k){var c=r,h=i;r=i=null}var f=u?null:Ba(t),d=[t,e,n,r,i,c,h,o,s,a];if(f&&(ti(d,f),e=d[1],a=d[9]),d[9]=null==a?u?0:t.length:ya(a-l,0)||0,e==C)var p=dr(d[0],d[2]);else p=e!=M&&e!=(C|M)||d[4].length?kr.apply(w,d):Ir.apply(w,d);var g=f?qa:$a;return g(p,d)}function Or(t,e,n,r,i,o,s){var a=-1,u=t.length,l=e.length;if(u!=l&&!(i&&l>u))return!1;for(;++a<u;){var c=t[a],h=e[a],f=r?r(i?h:c,i?c:h,a):w;if(f!==w){if(f)continue;return!1}if(i){if(!fn(e,function(t){return c===t||n(c,t,r,i,o,s)}))return!1}else if(c!==h&&!n(c,h,r,i,o,s))return!1}return!0}function jr(t,e,n){switch(n){case $:case H:return+t==+e;case U:return t.name==e.name&&t.message==e.message;case G:return t!=+t?e!=+e:t==+e;case J:case Q:return t==e+""}return!1}function Nr(t,e,n,r,i,o,s){var a=qu(t),u=a.length,l=qu(e),c=l.length;if(u!=c&&!i)return!1;for(var h=u;h--;){var f=a[h];if(!(i?f in e:Ys.call(e,f)))return!1}for(var d=i;++h<u;){f=a[h];var p=t[f],g=e[f],v=r?r(i?g:p,i?p:g,f):w;if(!(v===w?n(p,g,r,i,o,s):v))return!1;d||(d="constructor"==f)}if(!d){var m=t.constructor,y=e.constructor;if(m!=y&&"constructor"in t&&"constructor"in e&&!("function"==typeof m&&m instanceof m&&"function"==typeof y&&y instanceof y))return!1}return!0}function Rr(t,e,n){var r=X.callback||xs;return r=r===xs?bn:r,n?r(t,e,n):r}function Pr(t){for(var e=t.name,n=Aa[e],r=n?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function qr(t,e,r){var i=X.indexOf||bi;return i=i===bi?n:i,t?i(t,e,r):i}function Vr(t){for(var e=Yo(t),n=e.length;n--;)e[n][2]=Zr(e[n][1]);return e}function Br(t,e){var n=null==t?w:t[e];return Ao(n)?n:w}function Fr(t,e,n){for(var r=-1,i=n?n.length:0;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=xa(e,t+s);break;case"takeRight":t=ya(t,e-s)}}return{start:t,end:e}}function $r(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Ys.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Hr(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=Vs),new e}function Ur(t,e,n){var r=t.constructor;switch(e){case te:return sr(t);case $:case H:return new r(+t);case ee:case ne:case re:case ie:case oe:case se:case ae:case ue:case le:var i=t.buffer;return new r(n?sr(i):i,t.byteOffset,t.length);case G:case Q:return new r(t);case J:var o=new r(t.source,Me.exec(t));o.lastIndex=t.lastIndex}return o}function Wr(t,e,n){null==t||Jr(e,t)||(e=ui(e),t=1==e.length?t:On(t,Gn(e,0,-1)),e=_i(e));var r=null==t?t:t[e];return null==r?w:r.apply(t,n)}function Xr(t){return null!=t&&Qr(Fa(t))}function Gr(t,e){return t="number"==typeof t||Ie.test(t)?+t:-1,e=null==e?za:e,t>-1&&t%1==0&&e>t}function Yr(t,e,n){if(!ko(n))return!1;var r=typeof e;if("number"==r?Xr(n)&&Gr(e,n.length):"string"==r&&e in n){var i=n[e];return t===t?t===i:i!==i}return!1}function Jr(t,e){var n=typeof t;if("string"==n&&we.test(t)||"number"==n)return!0;if(Tu(t))return!1;var r=!be.test(t);return r||null!=e&&t in ai(e)}function Kr(t){var e=Pr(t);if(!(e in Fe.prototype))return!1;var n=X[e];if(t===n)return!0;var r=Ba(n);return!!r&&t===r[0]}function Qr(t){return"number"==typeof t&&t>-1&&t%1==0&&za>=t}function Zr(t){return t===t&&!ko(t)}function ti(t,e){var n=t[1],r=e[1],i=n|r,o=z>i,s=r==z&&n==S||r==z&&n==I&&t[7].length<=e[8]||r==(z|I)&&n==S;if(!o&&!s)return t;r&C&&(t[2]=e[2],i|=n&C?0:E);var a=e[3];if(a){var u=t[3];t[3]=u?ar(u,a,e[4]):nn(a),t[4]=u?g(t[3],V):nn(e[4])}return a=e[5],a&&(u=t[5],t[5]=u?ur(u,a,e[6]):nn(a),t[6]=u?g(t[5],V):nn(e[6])),a=e[7],a&&(t[7]=nn(a)),r&z&&(t[8]=null==t[8]?e[8]:xa(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function ei(t,e){t=ai(t);for(var n=-1,r=e.length,i={};++n<r;){var o=e[n];o in t&&(i[o]=t[o])}return i}function ni(t,e){var n={};return zn(t,function(t,r,i){e(t,r,i)&&(n[r]=t)}),n}function ri(t,e){for(var n=t.length,r=xa(e.length,n),i=nn(t);r--;){var o=e[r];t[r]=Gr(o,n)?i[o]:w}return t}function ii(t){{var e;X.support}if(!d(t)||Ks.call(t)!=Y||!Ys.call(t,"constructor")&&(e=t.constructor,"function"==typeof e&&!(e instanceof e)))return!1;var n;return zn(t,function(t,e){n=e}),n===w||Ys.call(t,n)}function oi(t){for(var e=Go(t),n=e.length,r=n&&t.length,i=!!r&&Qr(r)&&(Tu(t)||_o(t)),o=-1,s=[];++o<n;){var a=e[o];(i&&Gr(a,r)||Ys.call(t,a))&&s.push(a)}return s}function si(t){return null==t?[]:Xr(t)?ko(t)?t:Vs(t):Zo(t)}function ai(t){return ko(t)?t:Vs(t)}function ui(t){if(Tu(t))return t;var e=[];return i(t).replace(_e,function(t,n,r,i){e.push(r?i.replace(Se,"$1"):n||t)}),e}function li(t){return t instanceof Fe?t.clone():new Z(t.__wrapped__,t.__chain__,nn(t.__actions__))}function ci(t,e,n){e=(n?Yr(t,e,n):null==e)?1:ya(+e||1,1);for(var r=0,i=t?t.length:0,o=-1,s=Os(na(i/e));i>r;)s[++o]=Gn(t,r,r+=e);return s}function hi(t){for(var e=-1,n=t?t.length:0,r=-1,i=[];++e<n;){var o=t[e];o&&(i[++r]=o)}return i}function fi(t,e,n){var r=t?t.length:0;return r?((n?Yr(t,e,n):null==e)&&(e=1),Gn(t,0>e?0:e)):[]}function di(t,e,n){var r=t?t.length:0;return r?((n?Yr(t,e,n):null==e)&&(e=1),e=r-(+e||0),Gn(t,0,0>e?0:e)):[]}function pi(t,e,n){return t&&t.length?er(t,Rr(e,n,3),!0,!0):[]}function gi(t,e,n){return t&&t.length?er(t,Rr(e,n,3),!0):[]}function vi(t,e,n,r){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&Yr(t,e,n)&&(n=0,r=i),Sn(t,e,n,r)):[]}function mi(t){return t?t[0]:w}function yi(t,e,n){var r=t?t.length:0;return n&&Yr(t,e,n)&&(e=!1),r?kn(t,e):[]}function xi(t){var e=t?t.length:0;return e?kn(t,!0):[]}function bi(t,e,r){var i=t?t.length:0;if(!i)return-1;if("number"==typeof r)r=0>r?ya(i+r,0):r;else if(r){var o=rr(t,e),s=t[o];return(e===e?e===s:s!==s)?o:-1}return n(t,e,r||0)}function wi(t){return di(t,1)}function _i(t){var e=t?t.length:0;return e?t[e-1]:w}function Ci(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(0>n?ya(r+n,0):xa(n||0,r-1))+1;else if(n){i=rr(t,e,!0)-1;var o=t[i];return(e===e?e===o:o!==o)?i:-1}if(e!==e)return f(t,i,!0);for(;i--;)if(t[i]===e)return i;return-1}function Li(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var n=0,r=qr(),i=t.length;++n<i;)for(var o=0,s=t[n];(o=r(e,s,o))>-1;)ca.call(e,o,1);return e}function Ei(t,e,n){var r=[];if(!t||!t.length)return r;var i=-1,o=[],s=t.length;for(e=Rr(e,n,3);++i<s;){var a=t[i];e(a,i,t)&&(r.push(a),o.push(i))}return Un(t,o),r}function Si(t){return fi(t,1)}function Ti(t,e,n){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&Yr(t,e,n)&&(e=0,n=r),Gn(t,e,n)):[]}function Mi(t,e,n){var r=t?t.length:0;return r?((n?Yr(t,e,n):null==e)&&(e=1),Gn(t,0,0>e?0:e)):[]}function ki(t,e,n){var r=t?t.length:0;return r?((n?Yr(t,e,n):null==e)&&(e=1),e=r-(+e||0),Gn(t,0>e?0:e)):[]}function zi(t,e,n){return t&&t.length?er(t,Rr(e,n,3),!1,!0):[]}function Ii(t,e,n){return t&&t.length?er(t,Rr(e,n,3)):[]}function Ai(t,e,r,i){var o=t?t.length:0;if(!o)return[];null!=e&&"boolean"!=typeof e&&(i=r,r=Yr(t,e,i)?null:e,e=!1);var s=Rr();return(null!=r||s!==bn)&&(r=s(r,i,3)),e&&qr()==n?v(t,r):Zn(t,r)}function Di(t){if(!t||!t.length)return[];var e=-1,n=0;t=un(t,function(t){return Xr(t)?(n=ya(t.length,n),!0):void 0});for(var r=Os(n);++e<n;)r[e]=ln(t,$n(e));return r}function Oi(t,e,n){var r=t?t.length:0;if(!r)return[];var i=Di(t);return null==e?i:(e=or(e,n,4),ln(i,function(t){return cn(t,e,w,!0)}))}function ji(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(Xr(n))var r=r?Cn(r,n).concat(Cn(n,r)):n}return r?Zn(r):[]}function Ni(t,e){var n=-1,r=t?t.length:0,i={};for(!r||e||Tu(t[0])||(e=[]);++n<r;){var o=t[n];e?i[o]=e[n]:o&&(i[o[0]]=o[1])}return i}function Ri(t){var e=X(t);return e.__chain__=!0,e}function Pi(t,e,n){return e.call(n,t),t}function qi(t,e,n){return e.call(n,t)}function Vi(){return Ri(this)}function Bi(){return new Z(this.value(),this.__chain__)}function Fi(t){for(var e,n=this;n instanceof K;){var r=li(n);e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e}function $i(){var t=this.__wrapped__;return t instanceof Fe?(this.__actions__.length&&(t=new Fe(this)),new Z(t.reverse(),this.__chain__)):this.thru(function(t){return t.reverse()})}function Hi(){return this.value()+""}function Ui(){return nr(this.__wrapped__,this.__actions__)}function Wi(t,e,n){var r=Tu(t)?sn:Ln;return n&&Yr(t,e,n)&&(e=null),("function"!=typeof e||n!==w)&&(e=Rr(e,n,3)),r(t,e)}function Xi(t,e,n){var r=Tu(t)?un:Tn;return e=Rr(e,n,3),r(t,e)}function Gi(t,e){return ru(t,qn(e))}function Yi(t,e,n,r){var i=t?Fa(t):0;return Qr(i)||(t=Zo(t),i=t.length),i?(n="number"!=typeof n||r&&Yr(e,n,r)?0:0>n?ya(i+n,0):n||0,"string"==typeof t||!Tu(t)&&No(t)?i>n&&t.indexOf(e,n)>-1:qr(t,e,n)>-1):!1}function Ji(t,e,n){var r=Tu(t)?ln:Pn;return e=Rr(e,n,3),r(t,e)}function Ki(t,e){return Ji(t,Ts(e))}function Qi(t,e,n){var r=Tu(t)?un:Tn;return e=Rr(e,n,3),r(t,function(t,n,r){return!e(t,n,r)})}function Zi(t,e,n){if(n?Yr(t,e,n):null==e){t=si(t);var r=t.length;return r>0?t[Wn(0,r-1)]:w}var i=-1,o=Bo(t),r=o.length,s=r-1;for(e=xa(0>e?0:+e||0,r);++i<e;){var a=Wn(i,s),u=o[a];o[a]=o[i],o[i]=u}return o.length=e,o}function to(t){return Zi(t,Ea)}function eo(t){var e=t?Fa(t):0;return Qr(e)?e:qu(t).length}function no(t,e,n){var r=Tu(t)?fn:Yn;return n&&Yr(t,e,n)&&(e=null),("function"!=typeof e||n!==w)&&(e=Rr(e,n,3)),r(t,e)}function ro(t,e,n){if(null==t)return[];n&&Yr(t,e,n)&&(e=null);var r=-1;e=Rr(e,n,3);var i=Pn(t,function(t,n,i){return{criteria:e(t,n,i),index:++r,value:t}});return Jn(i,a)}function io(t,e,n,r){return null==t?[]:(r&&Yr(e,n,r)&&(n=null),Tu(e)||(e=null==e?[]:[e]),Tu(n)||(n=null==n?[]:[n]),Kn(t,e,n))}function oo(t,e){return Xi(t,qn(e))}function so(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new $s(q);var n=t;t=e,e=n}return t=va(t=+t)?t:0,function(){return--t<1?e.apply(this,arguments):void 0}}function ao(t,e,n){return n&&Yr(t,e,n)&&(e=null),e=t&&null==e?t.length:ya(+e||0,0),Dr(t,z,null,null,null,null,e)}function uo(t,e){var n;if("function"!=typeof e){if("function"!=typeof t)throw new $s(q);var r=t;t=e,e=r}return function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=null),n}}function lo(t,e,n){function r(){f&&ra(f),u&&ra(u),u=f=d=w}function i(){var n=e-(pu()-c);if(0>=n||n>e){u&&ra(u);var r=d;u=f=d=w,r&&(p=pu(),l=t.apply(h,a),f||u||(a=h=null))}else f=la(i,n)}function o(){f&&ra(f),u=f=d=w,(v||g!==e)&&(p=pu(),l=t.apply(h,a),f||u||(a=h=null))}function s(){if(a=arguments,c=pu(),h=this,d=v&&(f||!m),g===!1)var n=m&&!f;else{u||m||(p=c);var r=g-(c-p),s=0>=r||r>g;s?(u&&(u=ra(u)),p=c,l=t.apply(h,a)):u||(u=la(o,r))}return s&&f?f=ra(f):f||e===g||(f=la(i,e)),n&&(s=!0,l=t.apply(h,a)),!s||f||u||(a=h=null),l}var a,u,l,c,h,f,d,p=0,g=!1,v=!0;if("function"!=typeof t)throw new $s(q);if(e=0>e?0:+e||0,n===!0){var m=!0;v=!1}else ko(n)&&(m=n.leading,g="maxWait"in n&&ya(+n.maxWait||0,e),v="trailing"in n?n.trailing:v);return s.cancel=r,s}function co(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new $s(q);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s),s};return n.cache=new co.Cache,n}function ho(t){if("function"!=typeof t)throw new $s(q);
return function(){return!t.apply(this,arguments)}}function fo(t){return uo(2,t)}function po(t,e){if("function"!=typeof t)throw new $s(q);return e=ya(e===w?t.length-1:+e||0,0),function(){for(var n=arguments,r=-1,i=ya(n.length-e,0),o=Os(i);++r<i;)o[r]=n[e+r];switch(e){case 0:return t.call(this,o);case 1:return t.call(this,n[0],o);case 2:return t.call(this,n[0],n[1],o)}var s=Os(e+1);for(r=-1;++r<e;)s[r]=n[r];return s[e]=o,t.apply(this,s)}}function go(t){if("function"!=typeof t)throw new $s(q);return function(e){return t.apply(this,e)}}function vo(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new $s(q);return n===!1?r=!1:ko(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Be.leading=r,Be.maxWait=+e,Be.trailing=i,lo(t,e,Be)}function mo(t,e){return e=null==e?ws:e,Dr(e,M,null,[t],[])}function yo(t,e,n,r){return e&&"boolean"!=typeof e&&Yr(t,e,n)?e=!1:"function"==typeof e&&(r=n,n=e,e=!1),"function"==typeof n?wn(t,e,or(n,r,1)):wn(t,e)}function xo(t,e,n){return"function"==typeof e?wn(t,!0,or(e,n,1)):wn(t,!0)}function bo(t,e){return t>e}function wo(t,e){return t>=e}function _o(t){return d(t)&&Xr(t)&&Ks.call(t)==B}function Co(t){return t===!0||t===!1||d(t)&&Ks.call(t)==$}function Lo(t){return d(t)&&Ks.call(t)==H}function Eo(t){return!!t&&1===t.nodeType&&d(t)&&Ks.call(t).indexOf("Element")>-1}function So(t){return null==t?!0:Xr(t)&&(Tu(t)||No(t)||_o(t)||d(t)&&ku(t.splice))?!t.length:!qu(t).length}function To(t,e,n,r){n="function"==typeof n?or(n,r,3):w;var i=n?n(t,e):w;return i===w?jn(t,e,n):!!i}function Mo(t){return d(t)&&"string"==typeof t.message&&Ks.call(t)==U}function ko(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function zo(t,e,n,r){return n="function"==typeof n?or(n,r,3):w,Rn(t,Vr(e),n)}function Io(t){return Oo(t)&&t!=+t}function Ao(t){return null==t?!1:Ks.call(t)==W?Zs.test(Gs.call(t)):d(t)&&ze.test(t)}function Do(t){return null===t}function Oo(t){return"number"==typeof t||d(t)&&Ks.call(t)==G}function jo(t){return d(t)&&Ks.call(t)==J}function No(t){return"string"==typeof t||d(t)&&Ks.call(t)==Q}function Ro(t){return d(t)&&Qr(t.length)&&!!qe[Ks.call(t)]}function Po(t){return t===w}function qo(t,e){return e>t}function Vo(t,e){return e>=t}function Bo(t){var e=t?Fa(t):0;return Qr(e)?e?nn(t):[]:Zo(t)}function Fo(t){return xn(t,Go(t))}function $o(t,e,n){var r=Oa(t);return n&&Yr(t,e,n)&&(e=null),e?mn(r,e):r}function Ho(t){return Dn(t,Go(t))}function Uo(t,e,n){var r=null==t?w:On(t,ui(e),e+"");return r===w?n:r}function Wo(t,e){if(null==t)return!1;var n=Ys.call(t,e);if(!n&&!Jr(e)){if(e=ui(e),t=1==e.length?t:On(t,Gn(e,0,-1)),null==t)return!1;e=_i(e),n=Ys.call(t,e)}return n||Qr(t.length)&&Gr(e,t.length)&&(Tu(t)||_o(t))}function Xo(t,e,n){n&&Yr(t,e,n)&&(e=null);for(var r=-1,i=qu(t),o=i.length,s={};++r<o;){var a=i[r],u=t[a];e?Ys.call(s,u)?s[u].push(a):s[u]=[a]:s[u]=a}return s}function Go(t){if(null==t)return[];ko(t)||(t=Vs(t));var e=t.length;e=e&&Qr(e)&&(Tu(t)||_o(t))&&e||0;for(var n=t.constructor,r=-1,i="function"==typeof n&&n.prototype===t,o=Os(e),s=e>0;++r<e;)o[r]=r+"";for(var a in t)s&&Gr(a,e)||"constructor"==a&&(i||!Ys.call(t,a))||o.push(a);return o}function Yo(t){t=ai(t);for(var e=-1,n=qu(t),r=n.length,i=Os(r);++e<r;){var o=n[e];i[e]=[o,t[o]]}return i}function Jo(t,e,n){var r=null==t?w:t[e];return r===w&&(null==t||Jr(e,t)||(e=ui(e),t=1==e.length?t:On(t,Gn(e,0,-1)),r=null==t?w:t[_i(e)]),r=r===w?n:r),ku(r)?r.call(t):r}function Ko(t,e,n){if(null==t)return t;var r=e+"";e=null!=t[r]||Jr(e,t)?[r]:ui(e);for(var i=-1,o=e.length,s=o-1,a=t;null!=a&&++i<o;){var u=e[i];ko(a)&&(i==s?a[u]=n:null==a[u]&&(a[u]=Gr(e[i+1])?[]:{})),a=a[u]}return t}function Qo(t,e,n,r){var i=Tu(t)||Ro(t);if(e=Rr(e,r,4),null==n)if(i||ko(t)){var o=t.constructor;n=i?Tu(t)?new o:[]:Oa(ku(o)?o.prototype:null)}else n={};return(i?rn:In)(t,function(t,r,i){return e(n,t,r,i)}),n}function Zo(t){return tr(t,qu(t))}function ts(t){return tr(t,Go(t))}function es(t,e,n){return e=+e||0,"undefined"==typeof n?(n=e,e=0):n=+n||0,t>=xa(e,n)&&t<ya(e,n)}function ns(t,e,n){n&&Yr(t,e,n)&&(e=n=null);var r=null==t,i=null==e;if(null==n&&(i&&"boolean"==typeof t?(n=t,t=1):"boolean"==typeof e&&(n=e,i=!0)),r&&i&&(e=1,i=!1),t=+t||0,i?(e=t,t=0):e=+e||0,n||t%1||e%1){var o=Ca();return xa(t+o*(e-t+sa("1e-"+((o+"").length-1))),e)}return Wn(t,e)}function rs(t){return t=i(t),t&&t.charAt(0).toUpperCase()+t.slice(1)}function is(t){return t=i(t),t&&t.replace(Ae,l).replace(Ee,"")}function os(t,e,n){t=i(t),e+="";var r=t.length;return n=n===w?r:xa(0>n?0:+n||0,r),n-=e.length,n>=0&&t.indexOf(e,n)==n}function ss(t){return t=i(t),t&&ve.test(t)?t.replace(pe,c):t}function as(t){return t=i(t),t&&Le.test(t)?t.replace(Ce,"\\$&"):t}function us(t,e,n){t=i(t),e=+e;var r=t.length;if(r>=e||!va(e))return t;var o=(e-r)/2,s=ia(o),a=na(o);return n=zr("",a,n),n.slice(0,s)+t+n}function ls(t,e,n){return n&&Yr(t,e,n)&&(e=0),_a(t,e)}function cs(t,e){var n="";if(t=i(t),e=+e,1>e||!t||!va(e))return n;do e%2&&(n+=t),e=ia(e/2),t+=t;while(e);return n}function hs(t,e,n){return t=i(t),n=null==n?0:xa(0>n?0:+n||0,t.length),t.lastIndexOf(e,n)==n}function fs(t,e,n){var r=X.templateSettings;n&&Yr(t,e,n)&&(e=n=null),t=i(t),e=vn(mn({},n||e),r,gn);var o,s,a=vn(mn({},e.imports),r.imports,gn),u=qu(a),l=tr(a,u),c=0,f=e.interpolate||De,d="__p += '",p=Bs((e.escape||De).source+"|"+f.source+"|"+(f===xe?Te:De).source+"|"+(e.evaluate||De).source+"|$","g"),g="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Pe+"]")+"\n";t.replace(p,function(e,n,r,i,a,u){return r||(r=i),d+=t.slice(c,u).replace(Oe,h),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+e.length,e}),d+="';\n";var v=e.variable;v||(d="with (obj) {\n"+d+"\n}\n"),d=(s?d.replace(ce,""):d).replace(he,"$1").replace(fe,"$1;"),d="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=Ku(function(){return Rs(u,g+"return "+d).apply(w,l)});if(m.source=d,Mo(m))throw m;return m}function ds(t,e,n){var r=t;return(t=i(t))?(n?Yr(r,e,n):null==e)?t.slice(m(t),y(t)+1):(e+="",t.slice(o(t,e),s(t,e)+1)):t}function ps(t,e,n){var r=t;return t=i(t),t?t.slice((n?Yr(r,e,n):null==e)?m(t):o(t,e+"")):t}function gs(t,e,n){var r=t;return t=i(t),t?(n?Yr(r,e,n):null==e)?t.slice(0,y(t)+1):t.slice(0,s(t,e+"")+1):t}function vs(t,e,n){n&&Yr(t,e,n)&&(e=null);var r=A,o=D;if(null!=e)if(ko(e)){var s="separator"in e?e.separator:s;r="length"in e?+e.length||0:r,o="omission"in e?i(e.omission):o}else r=+e||0;if(t=i(t),r>=t.length)return t;var a=r-o.length;if(1>a)return o;var u=t.slice(0,a);if(null==s)return u+o;if(jo(s)){if(t.slice(a).search(s)){var l,c,h=t.slice(0,a);for(s.global||(s=Bs(s.source,(Me.exec(s)||"")+"g")),s.lastIndex=0;l=s.exec(h);)c=l.index;u=u.slice(0,null==c?a:c)}}else if(t.indexOf(s,a)!=a){var f=u.lastIndexOf(s);f>-1&&(u=u.slice(0,f))}return u+o}function ms(t){return t=i(t),t&&ge.test(t)?t.replace(de,x):t}function ys(t,e,n){return n&&Yr(t,e,n)&&(e=null),t=i(t),t.match(e||je)||[]}function xs(t,e,n){return n&&Yr(t,e,n)&&(e=null),d(t)?_s(t):bn(t,e)}function bs(t){return function(){return t}}function ws(t){return t}function _s(t){return qn(wn(t,!0))}function Cs(t,e){return Vn(t,wn(e,!0))}function Ls(t,e,n){if(null==n){var r=ko(e),i=r?qu(e):null,o=i&&i.length?Dn(e,i):null;(o?o.length:r)||(o=!1,n=e,e=t,t=this)}o||(o=Dn(e,qu(e)));var s=!0,a=-1,u=ku(t),l=o.length;n===!1?s=!1:ko(n)&&"chain"in n&&(s=n.chain);for(;++a<l;){var c=o[a],h=e[c];t[c]=h,u&&(t.prototype[c]=function(e){return function(){var n=this.__chain__;if(s||n){var r=t(this.__wrapped__),i=r.__actions__=nn(this.__actions__);return i.push({func:e,args:arguments,thisArg:t}),r.__chain__=n,r}var o=[this.value()];return aa.apply(o,arguments),e.apply(t,o)}}(h))}return t}function Es(){return p._=Qs,this}function Ss(){}function Ts(t){return Jr(t)?$n(t):Hn(t)}function Ms(t){return function(e){return On(t,ui(e),e+"")}}function ks(t,e,n){n&&Yr(t,e,n)&&(e=n=null),t=+t||0,n=null==n?1:+n||0,null==e?(e=t,t=0):e=+e||0;for(var r=-1,i=ya(na((e-t)/(n||1)),0),o=Os(i);++r<i;)o[r]=t,t+=n;return o}function zs(t,e,n){if(t=ia(t),1>t||!va(t))return[];var r=-1,i=Os(xa(t,Sa));for(e=or(e,n,1);++r<t;)Sa>r?i[r]=e(r):e(r);return i}function Is(t){var e=++Js;return i(t)+e}function As(t,e){return(+t||0)+(+e||0)}function Ds(t,e,n){n&&Yr(t,e,n)&&(e=null);var r=Rr(),i=null==e;return i&&r===bn||(i=!1,e=r(e,n,3)),i?dn(Tu(t)?t:si(t)):Qn(t,e)}p=p?tn.defaults(Ze.Object(),p,tn.pick(Ze,Re)):Ze;var Os=p.Array,js=p.Date,Ns=p.Error,Rs=p.Function,Ps=p.Math,qs=p.Number,Vs=p.Object,Bs=p.RegExp,Fs=p.String,$s=p.TypeError,Hs=Os.prototype,Us=Vs.prototype,Ws=Fs.prototype,Xs=(Xs=p.window)?Xs.document:null,Gs=Rs.prototype.toString,Ys=Us.hasOwnProperty,Js=0,Ks=Us.toString,Qs=p._,Zs=Bs("^"+as(Gs.call(Ys)).replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ta=Br(p,"ArrayBuffer"),ea=Br(ta&&new ta(0),"slice"),na=Ps.ceil,ra=p.clearTimeout,ia=Ps.floor,oa=Br(Vs,"getPrototypeOf"),sa=p.parseFloat,aa=Hs.push,ua=Br(p,"Set"),la=p.setTimeout,ca=Hs.splice,ha=Br(p,"Uint8Array"),fa=Br(p,"WeakMap"),da=function(){try{var t=Br(p,"Float64Array"),e=new t(new ta(10),0,1)&&t}catch(n){}return e||null}(),pa=Br(Vs,"create"),ga=Br(Os,"isArray"),va=p.isFinite,ma=Br(Vs,"keys"),ya=Ps.max,xa=Ps.min,ba=Br(js,"now"),wa=Br(qs,"isFinite"),_a=p.parseInt,Ca=Ps.random,La=qs.NEGATIVE_INFINITY,Ea=qs.POSITIVE_INFINITY,Sa=4294967295,Ta=Sa-1,Ma=Sa>>>1,ka=da?da.BYTES_PER_ELEMENT:0,za=9007199254740991,Ia=fa&&new fa,Aa={},Da=X.support={};!function(t){var e=function(){this.x=t},n=[];e.prototype={valueOf:t,y:t};for(var r in new e)n.push(r);try{Da.dom=11===Xs.createDocumentFragment().nodeType}catch(i){Da.dom=!1}}(1,0),X.templateSettings={escape:me,evaluate:ye,interpolate:xe,variable:"",imports:{_:X}};var Oa=function(){function t(){}return function(e){if(ko(e)){t.prototype=e;var n=new t;t.prototype=null}return n||{}}}(),ja=hr(In),Na=hr(An,!0),Ra=fr(),Pa=fr(!0),qa=Ia?function(t,e){return Ia.set(t,e),t}:ws;ea||(sr=ta&&ha?function(t){var e=t.byteLength,n=da?ia(e/ka):0,r=n*ka,i=new ta(e);if(n){var o=new da(i,0,n);o.set(new da(t,0,n))}return e!=r&&(o=new ha(i,r),o.set(new ha(t,r))),i}:bs(null));var Va=pa&&ua?function(t){return new Ke(t)}:bs(null),Ba=Ia?function(t){return Ia.get(t)}:Ss,Fa=$n("length"),$a=function(){var t=0,e=0;return function(n,r){var i=pu(),o=j-(i-e);if(e=i,o>0){if(++t>=O)return n}else t=0;return qa(n,r)}}(),Ha=po(function(t,e){return Xr(t)?Cn(t,kn(e,!1,!0)):[]}),Ua=xr(),Wa=xr(!0),Xa=po(function(t){for(var e=t.length,r=e,i=Os(h),o=qr(),s=o==n,a=[];r--;){var u=t[r]=Xr(u=t[r])?u:[];i[r]=s&&u.length>=120?Va(r&&u):null}var l=t[0],c=-1,h=l?l.length:0,f=i[0];t:for(;++c<h;)if(u=l[c],(f?Qe(f,u):o(a,u,0))<0){for(var r=e;--r;){var d=i[r];if((d?Qe(d,u):o(t[r],u,0))<0)continue t}f&&f.push(u),a.push(u)}return a}),Ga=po(function(e,n){n=kn(n);var r=yn(e,n);return Un(e,n.sort(t)),r}),Ya=Ar(),Ja=Ar(!0),Ka=po(function(t){return Zn(kn(t,!1,!0))}),Qa=po(function(t,e){return Xr(t)?Cn(t,e):[]}),Za=po(Di),tu=po(function(t){var e=t.length,n=e>2?t[e-2]:w,r=e>1?t[e-1]:w;return e>2&&"function"==typeof n?e-=2:(n=e>1&&"function"==typeof r?(--e,r):w,r=w),t.length=e,Oi(t,n,r)}),eu=po(function(t,e){return yn(t,kn(e))}),nu=lr(function(t,e,n){Ys.call(t,n)?++t[n]:t[n]=1}),ru=yr(ja),iu=yr(Na,!0),ou=_r(rn,ja),su=_r(on,Na),au=lr(function(t,e,n){Ys.call(t,n)?t[n].push(e):t[n]=[e]}),uu=lr(function(t,e,n){t[n]=e}),lu=po(function(t,e,n){var r=-1,i="function"==typeof e,o=Jr(e),s=Xr(t)?Os(t.length):[];return ja(t,function(t){var a=i?e:o&&null!=t?t[e]:null;s[++r]=a?a.apply(t,n):Wr(t,e,n)}),s}),cu=lr(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),hu=Mr(cn,ja),fu=Mr(hn,Na),du=po(function(t,e){if(null==t)return[];var n=e[2];return n&&Yr(e[0],e[1],n)&&(e.length=1),Kn(t,kn(e),[])}),pu=ba||function(){return(new js).getTime()},gu=po(function(t,e,n){var r=C;if(n.length){var i=g(n,gu.placeholder);r|=M}return Dr(t,r,e,n,i)}),vu=po(function(t,e){e=e.length?kn(e):Ho(t);for(var n=-1,r=e.length;++n<r;){var i=e[n];t[i]=Dr(t[i],C,t)}return t}),mu=po(function(t,e,n){var r=C|L;if(n.length){var i=g(n,mu.placeholder);r|=M}return Dr(e,r,t,n,i)}),yu=vr(S),xu=vr(T),bu=po(function(t,e){return _n(t,1,e)}),wu=po(function(t,e,n){return _n(t,e,n)}),_u=wr(),Cu=wr(!0),Lu=Tr(M),Eu=Tr(k),Su=po(function(t,e){return Dr(t,I,null,null,null,kn(e))}),Tu=ga||function(t){return d(t)&&Qr(t.length)&&Ks.call(t)==F};Da.dom||(Eo=function(t){return!!t&&1===t.nodeType&&d(t)&&!zu(t)});var Mu=wa||function(t){return"number"==typeof t&&va(t)},ku=r(/x/)||ha&&!r(ha)?function(t){return Ks.call(t)==W}:r,zu=oa?function(t){if(!t||Ks.call(t)!=Y)return!1;var e=Br(t,"valueOf"),n=e&&(n=oa(e))&&oa(n);return n?t==n||oa(t)==n:ii(t)}:ii,Iu=cr(function(t,e,n){return n?vn(t,e,n):mn(t,e)}),Au=po(function(t){var e=t[0];return null==e?e:(t.push(pn),Iu.apply(w,t))}),Du=br(In),Ou=br(An),ju=Cr(Ra),Nu=Cr(Pa),Ru=Lr(In),Pu=Lr(An),qu=ma?function(t){var e=null==t?null:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&Xr(t)?oi(t):ko(t)?ma(t):[]}:oi,Vu=Er(!0),Bu=Er(),Fu=cr(Bn),$u=po(function(t,e){if(null==t)return{};if("function"!=typeof e[0]){var e=ln(kn(e),Fs);return ei(t,Cn(Go(t),e))}var n=or(e[0],e[1],3);return ni(t,function(t,e,r){return!n(t,e,r)})}),Hu=po(function(t,e){return null==t?{}:"function"==typeof e[0]?ni(t,or(e[0],e[1],3)):ei(t,kn(e))}),Uu=pr(function(t,e,n){return e=e.toLowerCase(),t+(n?e.charAt(0).toUpperCase()+e.slice(1):e)}),Wu=pr(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Xu=Sr(),Gu=Sr(!0);8!=_a(Ne+"08")&&(ls=function(t,e,n){return(n?Yr(t,e,n):null==e)?e=0:e&&(e=+e),t=ds(t),_a(t,e||(ke.test(t)?16:10))});var Yu=pr(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Ju=pr(function(t,e,n){return t+(n?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}),Ku=po(function(t,e){try{return t.apply(w,e)}catch(n){return Mo(n)?n:new Ns(n)}}),Qu=po(function(t,e){return function(n){return Wr(n,t,e)}}),Zu=po(function(t,e){return function(n){return Wr(t,n,e)}}),tl=mr(bo,La),el=mr(qo,Ea);return X.prototype=K.prototype,Z.prototype=Oa(K.prototype),Z.prototype.constructor=Z,Fe.prototype=Oa(K.prototype),Fe.prototype.constructor=Fe,We.prototype["delete"]=Xe,We.prototype.get=Ge,We.prototype.has=Ye,We.prototype.set=Je,Ke.prototype.push=en,co.Cache=We,X.after=so,X.ary=ao,X.assign=Iu,X.at=eu,X.before=uo,X.bind=gu,X.bindAll=vu,X.bindKey=mu,X.callback=xs,X.chain=Ri,X.chunk=ci,X.compact=hi,X.constant=bs,X.countBy=nu,X.create=$o,X.curry=yu,X.curryRight=xu,X.debounce=lo,X.defaults=Au,X.defer=bu,X.delay=wu,X.difference=Ha,X.drop=fi,X.dropRight=di,X.dropRightWhile=pi,X.dropWhile=gi,X.fill=vi,X.filter=Xi,X.flatten=yi,X.flattenDeep=xi,X.flow=_u,X.flowRight=Cu,X.forEach=ou,X.forEachRight=su,X.forIn=ju,X.forInRight=Nu,X.forOwn=Ru,X.forOwnRight=Pu,X.functions=Ho,X.groupBy=au,X.indexBy=uu,X.initial=wi,X.intersection=Xa,X.invert=Xo,X.invoke=lu,X.keys=qu,X.keysIn=Go,X.map=Ji,X.mapKeys=Vu,X.mapValues=Bu,X.matches=_s,X.matchesProperty=Cs,X.memoize=co,X.merge=Fu,X.method=Qu,X.methodOf=Zu,X.mixin=Ls,X.negate=ho,X.omit=$u,X.once=fo,X.pairs=Yo,X.partial=Lu,X.partialRight=Eu,X.partition=cu,X.pick=Hu,X.pluck=Ki,X.property=Ts,X.propertyOf=Ms,X.pull=Li,X.pullAt=Ga,X.range=ks,X.rearg=Su,X.reject=Qi,X.remove=Ei,X.rest=Si,X.restParam=po,X.set=Ko,X.shuffle=to,X.slice=Ti,X.sortBy=ro,X.sortByAll=du,X.sortByOrder=io,X.spread=go,X.take=Mi,X.takeRight=ki,X.takeRightWhile=zi,X.takeWhile=Ii,X.tap=Pi,X.throttle=vo,X.thru=qi,X.times=zs,X.toArray=Bo,X.toPlainObject=Fo,X.transform=Qo,X.union=Ka,X.uniq=Ai,X.unzip=Di,X.unzipWith=Oi,X.values=Zo,X.valuesIn=ts,X.where=oo,X.without=Qa,X.wrap=mo,X.xor=ji,X.zip=Za,X.zipObject=Ni,X.zipWith=tu,X.backflow=Cu,X.collect=Ji,X.compose=Cu,X.each=ou,X.eachRight=su,X.extend=Iu,X.iteratee=xs,X.methods=Ho,X.object=Ni,X.select=Xi,X.tail=Si,X.unique=Ai,Ls(X,X),X.add=As,X.attempt=Ku,X.camelCase=Uu,X.capitalize=rs,X.clone=yo,X.cloneDeep=xo,X.deburr=is,X.endsWith=os,X.escape=ss,X.escapeRegExp=as,X.every=Wi,X.find=ru,X.findIndex=Ua,X.findKey=Du,X.findLast=iu,X.findLastIndex=Wa,X.findLastKey=Ou,X.findWhere=Gi,X.first=mi,X.get=Uo,X.gt=bo,X.gte=wo,X.has=Wo,X.identity=ws,X.includes=Yi,X.indexOf=bi,X.inRange=es,X.isArguments=_o,X.isArray=Tu,X.isBoolean=Co,X.isDate=Lo,X.isElement=Eo,X.isEmpty=So,X.isEqual=To,X.isError=Mo,X.isFinite=Mu,X.isFunction=ku,X.isMatch=zo,X.isNaN=Io,X.isNative=Ao,X.isNull=Do,X.isNumber=Oo,X.isObject=ko,X.isPlainObject=zu,X.isRegExp=jo,X.isString=No,X.isTypedArray=Ro,X.isUndefined=Po,X.kebabCase=Wu,X.last=_i,X.lastIndexOf=Ci,X.lt=qo,X.lte=Vo,X.max=tl,X.min=el,X.noConflict=Es,X.noop=Ss,X.now=pu,X.pad=us,X.padLeft=Xu,X.padRight=Gu,X.parseInt=ls,X.random=ns,X.reduce=hu,X.reduceRight=fu,X.repeat=cs,X.result=Jo,X.runInContext=b,X.size=eo,X.snakeCase=Yu,X.some=no,X.sortedIndex=Ya,X.sortedLastIndex=Ja,X.startCase=Ju,X.startsWith=hs,X.sum=Ds,X.template=fs,X.trim=ds,X.trimLeft=ps,X.trimRight=gs,X.trunc=vs,X.unescape=ms,X.uniqueId=Is,X.words=ys,X.all=Wi,X.any=no,X.contains=Yi,X.eq=To,X.detect=ru,X.foldl=hu,X.foldr=fu,X.head=mi,X.include=Yi,X.inject=hu,Ls(X,function(){var t={};return In(X,function(e,n){X.prototype[n]||(t[n]=e)}),t}(),!1),X.sample=Zi,X.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return Zi(e,t)}):Zi(this.value())},X.VERSION=_,rn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){X[t].placeholder=X}),rn(["dropWhile","filter","map","takeWhile"],function(t,e){var n=e!=P,r=e==N;Fe.prototype[t]=function(t,i){var o=this.__filtered__,s=o&&r?new Fe(this):this.clone(),a=s.__iteratees__||(s.__iteratees__=[]);return a.push({done:!1,count:0,index:0,iteratee:Rr(t,i,1),limit:-1,type:e}),s.__filtered__=o||n,s}}),rn(["drop","take"],function(t,e){var n=t+"While";Fe.prototype[t]=function(n){var r=this.__filtered__,i=r&&!e?this.dropWhile():this.clone();if(n=null==n?1:ya(ia(n)||0,0),r)e?i.__takeCount__=xa(i.__takeCount__,n):_i(i.__iteratees__).limit=n;else{var o=i.__views__||(i.__views__=[]);o.push({size:n,type:t+(i.__dir__<0?"Right":"")})}return i},Fe.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()},Fe.prototype[t+"RightWhile"]=function(t,e){return this.reverse()[n](t,e).reverse()}}),rn(["first","last"],function(t,e){var n="take"+(e?"Right":"");Fe.prototype[t]=function(){return this[n](1).value()[0]}}),rn(["initial","rest"],function(t,e){var n="drop"+(e?"":"Right");Fe.prototype[t]=function(){return this[n](1)}}),rn(["pluck","where"],function(t,e){var n=e?"filter":"map",r=e?qn:Ts;Fe.prototype[t]=function(t){return this[n](r(t))}}),Fe.prototype.compact=function(){return this.filter(ws)},Fe.prototype.reject=function(t,e){return t=Rr(t,e,1),this.filter(function(e){return!t(e)})},Fe.prototype.slice=function(t,e){t=null==t?0:+t||0;var n=this;return 0>t?n=this.takeRight(-t):t&&(n=this.drop(t)),e!==w&&(e=+e||0,n=0>e?n.dropRight(-e):n.take(e-t)),n},Fe.prototype.toArray=function(){return this.drop(0)},In(Fe.prototype,function(t,e){var n=X[e];if(n){var r=/^(?:filter|map|reject)|While$/.test(e),i=/^(?:first|last)$/.test(e);X.prototype[e]=function(){var e=arguments,o=this.__chain__,s=this.__wrapped__,a=!!this.__actions__.length,u=s instanceof Fe,l=e[0],c=u||Tu(s);c&&r&&"function"==typeof l&&1!=l.length&&(u=c=!1);var h=u&&!a;if(i&&!o)return h?t.call(s):n.call(X,this.value());var f=function(t){var r=[t];return aa.apply(r,e),n.apply(X,r)};if(c){var d=h?s:new Fe(this),p=t.apply(d,e);if(!i&&(a||p.__actions__)){var g=p.__actions__||(p.__actions__=[]);g.push({func:qi,args:[f],thisArg:X})}return new Z(p,o)}return this.thru(f)}}}),rn(["concat","join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var e=(/^(?:replace|split)$/.test(t)?Ws:Hs)[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:join|pop|replace|shift)$/.test(t);X.prototype[t]=function(){var t=arguments;return r&&!this.__chain__?e.apply(this.value(),t):this[n](function(n){return e.apply(n,t)})}}),In(Fe.prototype,function(t,e){var n=X[e];if(n){var r=n.name,i=Aa[r]||(Aa[r]=[]);i.push({name:e,func:n})}}),Aa[kr(null,L).name]=[{name:"wrapper",func:null}],Fe.prototype.clone=$e,Fe.prototype.reverse=He,Fe.prototype.value=Ue,X.prototype.chain=Vi,X.prototype.commit=Bi,X.prototype.plant=Fi,X.prototype.reverse=$i,X.prototype.toString=Hi,X.prototype.run=X.prototype.toJSON=X.prototype.valueOf=X.prototype.value=Ui,X.prototype.collect=X.prototype.map,X.prototype.head=X.prototype.first,X.prototype.select=X.prototype.filter,X.prototype.tail=X.prototype.rest,X}var w,_="3.9.3",C=1,L=2,E=4,S=8,T=16,M=32,k=64,z=128,I=256,A=30,D="...",O=150,j=16,N=0,R=1,P=2,q="Expected a function",V="__lodash_placeholder__",B="[object Arguments]",F="[object Array]",$="[object Boolean]",H="[object Date]",U="[object Error]",W="[object Function]",X="[object Map]",G="[object Number]",Y="[object Object]",J="[object RegExp]",K="[object Set]",Q="[object String]",Z="[object WeakMap]",te="[object ArrayBuffer]",ee="[object Float32Array]",ne="[object Float64Array]",re="[object Int8Array]",ie="[object Int16Array]",oe="[object Int32Array]",se="[object Uint8Array]",ae="[object Uint8ClampedArray]",ue="[object Uint16Array]",le="[object Uint32Array]",ce=/\b__p \+= '';/g,he=/\b(__p \+=) '' \+/g,fe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,de=/&(?:amp|lt|gt|quot|#39|#96);/g,pe=/[&<>"'`]/g,ge=RegExp(de.source),ve=RegExp(pe.source),me=/<%-([\s\S]+?)%>/g,ye=/<%([\s\S]+?)%>/g,xe=/<%=([\s\S]+?)%>/g,be=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,we=/^\w*$/,_e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Ce=/[.*+?^${}()|[\]\/\\]/g,Le=RegExp(Ce.source),Ee=/[\u0300-\u036f\ufe20-\ufe23]/g,Se=/\\(\\)?/g,Te=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Me=/\w*$/,ke=/^0[xX]/,ze=/^\[object .+?Constructor\]$/,Ie=/^\d+$/,Ae=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,De=/($^)/,Oe=/['\n\r\u2028\u2029\\]/g,je=function(){var t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",e="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(t+"+(?="+t+e+")|"+t+"?"+e+"|"+t+"+|[0-9]+","g")}(),Ne=" 	\f\n\r\u2028\u2029",Re=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","document","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","window"],Pe=-1,qe={};qe[ee]=qe[ne]=qe[re]=qe[ie]=qe[oe]=qe[se]=qe[ae]=qe[ue]=qe[le]=!0,qe[B]=qe[F]=qe[te]=qe[$]=qe[H]=qe[U]=qe[W]=qe[X]=qe[G]=qe[Y]=qe[J]=qe[K]=qe[Q]=qe[Z]=!1;var Ve={};Ve[B]=Ve[F]=Ve[te]=Ve[$]=Ve[H]=Ve[ee]=Ve[ne]=Ve[re]=Ve[ie]=Ve[oe]=Ve[G]=Ve[Y]=Ve[J]=Ve[Q]=Ve[se]=Ve[ae]=Ve[ue]=Ve[le]=!0,Ve[U]=Ve[W]=Ve[X]=Ve[K]=Ve[Z]=!1;var Be={leading:!1,maxWait:0,trailing:!1},Fe={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss"},$e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},He={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Ue={"function":!0,object:!0},We={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Xe=Ue[typeof exports]&&exports&&!exports.nodeType&&exports,Ge=Ue[typeof module]&&module&&!module.nodeType&&module,Ye=Xe&&Ge&&"object"==typeof global&&global&&global.Object&&global,Je=Ue[typeof self]&&self&&self.Object&&self,Ke=Ue[typeof window]&&window&&window.Object&&window,Qe=Ge&&Ge.exports===Xe&&Xe,Ze=Ye||Ke!==(this&&this.window)&&Ke||Je||this,tn=b();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Ze._=tn,define("lodash",[],function(){return tn})):Xe&&Ge?Qe?(Ge.exports=tn)._=tn:Xe._=tn:Ze._=tn}.call(this),function(t){var e="object"==typeof self&&self.self==self&&self||"object"==typeof global&&global.global==global&&global;if("function"==typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(n,r,i){e.Backbone=t(e,i,n,r)});else if("undefined"!=typeof exports){var n,r=require("underscore");try{n=require("jquery")}catch(i){}t(e,exports,r,n)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(function(t,e,n,r){var i=t.Backbone,o=[],s=o.slice;e.VERSION="1.2.0",e.$=r,e.noConflict=function(){return t.Backbone=i,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=e.Events={},u=/\s+/,l=function(t,e,r,i,o){var s,a=0;if(r&&"object"==typeof r)for(s=n.keys(r);a<s.length;a++)e=t(e,s[a],r[s[a]],o);else if(r&&u.test(r))for(s=r.split(u);a<s.length;a++)e=t(e,s[a],i,o);else e=t(e,r,i,o);return e};a.on=function(t,e,n){return c(this,t,e,n)};var c=function(t,e,n,r,i){if(t._events=l(h,t._events||{},e,n,{context:r,ctx:t,listening:i}),i){var o=t._listeners||(t._listeners={});o[i.id]=i}return t};a.listenTo=function(t,e,r){if(!t)return this;var i=t._listenId||(t._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),s=o[i];if(!s){var a=this._listenId||(this._listenId=n.uniqueId("l"));s=o[i]={obj:t,objId:i,id:a,listeningTo:o,count:0}}return c(t,e,r,this,s),this};var h=function(t,e,n,r){if(n){var i=t[e]||(t[e]=[]),o=r.context,s=r.ctx,a=r.listening;a&&a.count++,i.push({callback:n,context:o,ctx:o||s,listening:a})}return t};a.off=function(t,e,n){return this._events?(this._events=l(f,this._events,t,e,{context:n,listeners:this._listeners}),this):this},a.stopListening=function(t,e,r){var i=this._listeningTo;if(!i)return this;for(var o=t?[t._listenId]:n.keys(i),s=0;s<o.length;s++){var a=i[o[s]];if(!a)break;a.obj.off(e,r,this)}return n.isEmpty(i)&&(this._listeningTo=void 0),this};var f=function(t,e,r,i){if(t){var o,s=0,a=i.context,u=i.listeners;if(e||r||a){for(var l=e?[e]:n.keys(t);s<l.length;s++){e=l[s];var c=t[e];if(!c)break;for(var h=[],f=0;f<c.length;f++){var d=c[f];r&&r!==d.callback&&r!==d.callback._callback||a&&a!==d.context?h.push(d):(o=d.listening,o&&0===--o.count&&(delete u[o.id],delete o.listeningTo[o.objId]))}h.length?t[e]=h:delete t[e]}return n.size(t)?t:void 0}for(var p=n.keys(u);s<p.length;s++)o=u[p[s]],delete u[o.id],delete o.listeningTo[o.objId]}};a.once=function(t,e,r){var i=l(d,{},t,e,n.bind(this.off,this));return this.on(i,void 0,r)},a.listenToOnce=function(t,e,r){var i=l(d,{},e,r,n.bind(this.stopListening,this,t));return this.listenTo(t,i)};var d=function(t,e,r,i){if(r){var o=t[e]=n.once(function(){i(e,o),r.apply(this,arguments)});o._callback=r}return t};a.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),r=0;e>r;r++)n[r]=arguments[r+1];return l(p,this._events,t,void 0,n),this};var p=function(t,e,n,r){if(t){var i=t[e],o=t.all;i&&o&&(o=o.slice()),i&&g(i,r),o&&g(o,[e].concat(r))}return t},g=function(t,e){var n,r=-1,i=t.length,o=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,s);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,s,a);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e);return}},v=function(t,e,r){switch(t){case 1:return function(){return n[e](this[r])};case 2:return function(t){return n[e](this[r],t)};case 3:return function(t,i){return n[e](this[r],t,i)};case 4:return function(t,i,o){return n[e](this[r],t,i,o)};default:return function(){var t=s.call(arguments);return t.unshift(this[r]),n[e].apply(n,t)}}},m=function(t,e,r){n.each(e,function(e,i){n[i]&&(t.prototype[i]=v(e,i,r))})};a.bind=a.on,a.unbind=a.off,n.extend(e,a);var y=e.Model=function(t,e){var r=t||{};e||(e={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(r=this.parse(r,e)||{}),r=n.defaults({},r,n.result(this,"defaults")),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(y.prototype,a,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,r){var i,o,s,a,u,l,c,h;if(null==t)return this;if("object"==typeof t?(o=t,r=e):(o={})[t]=e,r||(r={}),!this._validate(o,r))return!1;s=r.unset,u=r.silent,a=[],l=this._changing,this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={}),h=this.attributes,c=this._previousAttributes,this.idAttribute in o&&(this.id=o[this.idAttribute]);for(i in o)e=o[i],n.isEqual(h[i],e)||a.push(i),n.isEqual(c[i],e)?delete this.changed[i]:this.changed[i]=e,s?delete h[i]:h[i]=e;if(!u){a.length&&(this._pending=r);for(var f=0;f<a.length;f++)this.trigger("change:"+a[f],this,h[a[f]],r)}if(l)return this;if(!u)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?n.clone(this.changed):!1;var e,r=!1,i=this._changing?this._previousAttributes:this.attributes;for(var o in t)n.isEqual(i[o],e=t[o])||((r||(r={}))[o]=e);return r},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=t?n.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=this,r=t.success;return t.success=function(n){return e.set(e.parse(n,t),t)?(r&&r.call(t.context,e,n,t),void e.trigger("sync",e,n,t)):!1},V(this,t),this.sync("read",this,t)},save:function(t,e,r){var i,o,s,a,u=this.attributes;if(null==t||"object"==typeof t?(i=t,r=e):(i={})[t]=e,r=n.extend({validate:!0},r),a=r.wait,i&&!a){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;i&&a&&(this.attributes=n.extend({},u,i)),void 0===r.parse&&(r.parse=!0);var l=this,c=r.success;return r.success=function(t){l.attributes=u;var e=r.parse?l.parse(t,r):t;return a&&(e=n.extend(i||{},e)),n.isObject(e)&&!l.set(e,r)?!1:(c&&c.call(r.context,l,t,r),void l.trigger("sync",l,t,r))},V(this,r),o=this.isNew()?"create":r.patch?"patch":"update","patch"!==o||r.attrs||(r.attrs=i),s=this.sync(o,this,r),i&&a&&(this.attributes=u),s},destroy:function(t){t=t?n.clone(t):{};var e=this,r=t.success,i=t.wait,o=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){i&&o(),r&&r.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var s=!1;return this.isNew()?n.defer(t.success):(V(this,t),s=this.sync("delete",this,t)),i||o(),s},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||q();if(this.isNew())return t;var e=this.id||this.attributes[this.idAttribute];return t.replace(/([^\/])$/,"$1/")+encodeURIComponent(e)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;return r?(this.trigger("invalid",this,r,n.extend(e,{validationError:r})),!1):!0}});var x={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};m(y,x,"attributes");var b=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},w={add:!0,remove:!0,merge:!0},_={add:!0,remove:!1};
n.extend(b.prototype,a,{model:y,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,_))},remove:function(t,e){var r,i=!n.isArray(t);return t=i?[t]:n.clone(t),e||(e={}),r=this._removeModels(t,e),!e.silent&&r&&this.trigger("update",this,e),i?t[0]:t},set:function(t,e){e=n.defaults({},e,w),e.parse&&(t=this.parse(t,e));var r=!n.isArray(t);t=r?t?[t]:[]:t.slice();var i,o,s,a,u,l=e.at;null!=l&&(l=+l),0>l&&(l+=this.length+1);for(var c=this.comparator&&null==l&&e.sort!==!1,h=n.isString(this.comparator)?this.comparator:null,f=[],d=[],p={},g=e.add,v=e.merge,m=e.remove,y=!c&&g&&m?[]:!1,x=!1,b=0;b<t.length;b++){if(s=t[b],a=this.get(s))m&&(p[a.cid]=!0),v&&s!==a&&(s=this._isModel(s)?s.attributes:s,e.parse&&(s=a.parse(s,e)),a.set(s,e),c&&!u&&a.hasChanged(h)&&(u=!0)),t[b]=a;else if(g){if(o=t[b]=this._prepareModel(s,e),!o)continue;f.push(o),this._addReference(o,e)}o=a||o,o&&(i=this.modelId(o.attributes),!y||!o.isNew()&&p[i]||(y.push(o),x=x||!this.models[b]||o.cid!==this.models[b].cid),p[i]=!0)}if(m){for(var b=0;b<this.length;b++)p[(o=this.models[b]).cid]||d.push(o);d.length&&this._removeModels(d,e)}if(f.length||x)if(c&&(u=!0),this.length+=f.length,null!=l)for(var b=0;b<f.length;b++)this.models.splice(l+b,0,f[b]);else{y&&(this.models.length=0);for(var _=y||f,b=0;b<_.length;b++)this.models.push(_[b])}if(u&&this.sort({silent:!0}),!e.silent){for(var C=null!=l?n.clone(e):e,b=0;b<f.length;b++)null!=l&&(C.index=l+b),(o=f[b]).trigger("add",o,this,C);(u||x)&&this.trigger("sort",this,e),(f.length||d.length)&&this.trigger("update",this,e)}return r?t[0]:t},reset:function(t,e){e=e?n.clone(e):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(){return s.apply(this.models,arguments)},get:function(t){if(null==t)return void 0;var e=this.modelId(this._isModel(t)?t.attributes:t);return this._byId[t]||this._byId[e]||this._byId[t.cid]},at:function(t){return 0>t&&(t+=this.length),this.models[t]},where:function(t,e){var r=n.matches(t);return this[e?"find":"filter"](function(t){return r(t.attributes)})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return n.invoke(this.models,"get",t)},fetch:function(t){t=t?n.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,r=this;return t.success=function(n){var i=t.reset?"reset":"set";r[i](n,t),e&&e.call(t.context,r,n,t),r.trigger("sync",r,n,t)},V(this,t),this.sync("read",this,t)},create:function(t,e){e=e?n.clone(e):{};var r=e.wait;if(!(t=this._prepareModel(t,e)))return!1;r||this.add(t,e);var i=this,o=e.success;return e.success=function(t,e,n){r&&i.add(t,n),o&&o.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?n.clone(e):{},e.collection=this;var r=new this.model(t,e);return r.validationError?(this.trigger("invalid",this,r.validationError,e),!1):r},_removeModels:function(t,e){for(var n,r,i,o=!1,n=0,s=0;n<t.length;n++){var i=t[n]=this.get(t[n]);if(i){var a=this.modelId(i.attributes);null!=a&&delete this._byId[a],delete this._byId[i.cid];var r=this.indexOf(i);this.models.splice(r,1),this.length--,e.silent||(e.index=r,i.trigger("remove",i,this,e)),t[s++]=i,this._removeReference(i,e),o=!0}}return t.length!==s&&(t=t.slice(0,s)),o},_isModel:function(t){return t instanceof y},_addReference:function(t){this._byId[t.cid]=t;var e=this.modelId(t.attributes);null!=e&&(this._byId[e]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){if("add"!==t&&"remove"!==t||n===this){if("destroy"===t&&this.remove(e,r),"change"===t){var i=this.modelId(e.previousAttributes()),o=this.modelId(e.attributes);i!==o&&(null!=i&&delete this._byId[i],null!=o&&(this._byId[o]=e))}this.trigger.apply(this,arguments)}}});var C={forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:2,contains:2,invoke:2,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3};m(b,C,"models");var L=["groupBy","countBy","sortBy","indexBy"];n.each(L,function(t){n[t]&&(b.prototype[t]=function(e,r){var i=n.isFunction(e)?e:function(t){return t.get(e)};return n[t](this.models,i,r)})});var E=e.View=function(t){this.cid=n.uniqueId("view"),t||(t={}),n.extend(this,n.pick(t,T)),this._ensureElement(),this.initialize.apply(this,arguments)},S=/^(\S+)\s*(.*)$/,T=["model","collection","el","id","attributes","className","tagName","events"];n.extend(E.prototype,a,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(!t&&!(t=n.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var r=t[e];if(n.isFunction(r)||(r=this[t[e]]),r){var i=e.match(S);this.delegate(i[1],i[2],n.bind(r,this))}}return this},delegate:function(t,e,n){this.$el.on(t+".delegateEvents"+this.cid,e,n)},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){this.$el.off(t+".delegateEvents"+this.cid,e,n)},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t["class"]=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,r,i){var o=M[t];n.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var s={type:o,dataType:"json"};if(i.url||(s.url=n.result(r,"url")||q()),null!=i.data||!r||"create"!==t&&"update"!==t&&"patch"!==t||(s.contentType="application/json",s.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),i.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){s.type="POST",i.emulateJSON&&(s.data._method=o);var a=i.beforeSend;i.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",o),a?a.apply(this,arguments):void 0}}"GET"===s.type||i.emulateJSON||(s.processData=!1);var u=i.error;i.error=function(t,e,n){i.textStatus=e,i.errorThrown=n,u&&u.call(i.context,t,e,n)};var l=i.xhr=e.ajax(n.extend(s,i));return r.trigger("request",r,l,i),l};var M={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var k=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},z=/\((.*?)\)/g,I=/(\(\?)?:\w+/g,A=/\*\w+/g,D=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(k.prototype,a,{initialize:function(){},route:function(t,r,i){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var o=this;return e.history.route(t,function(n){var s=o._extractParameters(t,n);o.execute(i,s,r)!==!1&&(o.trigger.apply(o,["route:"+r].concat(s)),o.trigger("route",r,s),e.history.trigger("route",o,r,s))}),this},execute:function(t,e){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(D,"\\$&").replace(z,"(?:$1)?").replace(I,function(t,e){return e?t:"([^/?]+)"}).replace(A,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return n.map(r,function(t,e){return e===r.length-1?t||null:t?decodeURIComponent(t):null})}});var O=e.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},j=/^[#\/]|\s+$/g,N=/^\/+|\/+$/g,R=/#.*$/;O.started=!1,n.extend(O.prototype,a,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\/]$/,"$&/");return t===this.root&&!this.getSearch()},matchRoot:function(){var t=this.decodeFragment(this.location.pathname),e=t.slice(0,this.root.length-1)+"/";return e===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(j,"")},start:function(t){if(O.started)throw new Error("Backbone.history has already been started");if(O.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window,this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(N,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){var r=document.createElement("iframe");r.src="javascript:0",r.style.display="none",r.tabIndex=-1;var i=document.body;this.iframe=i.insertBefore(r,i.firstChild).contentWindow,this.iframe.document.open().close(),this.iframe.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};return this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.options.silent?void 0:this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe.frameElement),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),O.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe)),t===this.fragment?!1:(this.iframe&&this.navigate(t),void this.loadUrl())},loadUrl:function(t){return this.matchRoot()?(t=this.fragment=this.getFragment(t),n.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0})):!1},navigate:function(t,e){if(!O.started)return!1;e&&e!==!0||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;(""===t||"?"===t.charAt(0))&&(n=n.slice(0,-1)||"/");var r=n+t;if(t=this.decodeFragment(t.replace(R,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe)&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),e.history=new O;var P=function(t,e){var r,i=this;r=t&&n.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,e);var o=function(){this.constructor=r};return o.prototype=i.prototype,r.prototype=new o,t&&n.extend(r.prototype,t),r.__super__=i.prototype,r};y.extend=b.extend=k.extend=E.extend=O.extend=P;var q=function(){throw new Error('A "url" property or function must be specified')},V=function(t,e){var n=e.error;e.error=function(r){n&&n.call(e.context,t,r,e),t.trigger("error",t,r,e)}};return e}),function(t,e){if("function"==typeof define&&define.amd)define("marionette",["backbone","underscore"],function(n,r){return t.Marionette=t.Mn=e(t,n,r)});else if("undefined"!=typeof exports){var n=require("backbone"),r=require("underscore");module.exports=e(t,n,r)}else t.Marionette=t.Mn=e(t,t.Backbone,t._)}(this,function(t,e,n){"use strict";!function(t,e){var n=t.ChildViewContainer;return t.ChildViewContainer=function(t,e){var n=function(t){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),e.each(t,this.add,this)};e.extend(n.prototype,{add:function(t,e){var n=t.cid;return this._views[n]=t,t.model&&(this._indexByModel[t.model.cid]=n),e&&(this._indexByCustom[e]=n),this._updateLength(),this},findByModel:function(t){return this.findByModelCid(t.cid)},findByModelCid:function(t){var e=this._indexByModel[t];return this.findByCid(e)},findByCustom:function(t){var e=this._indexByCustom[t];return this.findByCid(e)},findByIndex:function(t){return e.values(this._views)[t]},findByCid:function(t){return this._views[t]},remove:function(t){var n=t.cid;return t.model&&delete this._indexByModel[t.model.cid],e.any(this._indexByCustom,function(t,e){return t===n?(delete this._indexByCustom[e],!0):void 0},this),delete this._views[n],this._updateLength(),this},call:function(t){this.apply(t,e.tail(arguments))},apply:function(t,n){e.each(this._views,function(r){e.isFunction(r[t])&&r[t].apply(r,n||[])})},_updateLength:function(){this.length=e.size(this._views)}});var r=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck","reduce"];return e.each(r,function(t){n.prototype[t]=function(){var n=e.values(this._views),r=[n].concat(e.toArray(arguments));return e[t].apply(e,r)}}),n}(t,e),t.ChildViewContainer.VERSION="0.1.6",t.ChildViewContainer.noConflict=function(){return t.ChildViewContainer=n,this},t.ChildViewContainer}(e,n),function(t,e){var n=t.Wreqr,r=t.Wreqr={};return t.Wreqr.VERSION="1.3.1",t.Wreqr.noConflict=function(){return t.Wreqr=n,this},r.Handlers=function(t,e){var n=function(t){this.options=t,this._wreqrHandlers={},e.isFunction(this.initialize)&&this.initialize(t)};return n.extend=t.Model.extend,e.extend(n.prototype,t.Events,{setHandlers:function(t){e.each(t,function(t,n){var r=null;e.isObject(t)&&!e.isFunction(t)&&(r=t.context,t=t.callback),this.setHandler(n,t,r)},this)},setHandler:function(t,e,n){var r={callback:e,context:n};this._wreqrHandlers[t]=r,this.trigger("handler:add",t,e,n)},hasHandler:function(t){return!!this._wreqrHandlers[t]},getHandler:function(t){var e=this._wreqrHandlers[t];if(e)return function(){var t=Array.prototype.slice.apply(arguments);return e.callback.apply(e.context,t)}},removeHandler:function(t){delete this._wreqrHandlers[t]},removeAllHandlers:function(){this._wreqrHandlers={}}}),n}(t,e),r.CommandStorage=function(){var n=function(t){this.options=t,this._commands={},e.isFunction(this.initialize)&&this.initialize(t)};return e.extend(n.prototype,t.Events,{getCommands:function(t){var e=this._commands[t];return e||(e={command:t,instances:[]},this._commands[t]=e),e},addCommand:function(t,e){var n=this.getCommands(t);n.instances.push(e)},clearCommands:function(t){var e=this.getCommands(t);e.instances=[]}}),n}(),r.Commands=function(t){return t.Handlers.extend({storageType:t.CommandStorage,constructor:function(e){this.options=e||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this);var n=Array.prototype.slice.call(arguments);t.Handlers.prototype.constructor.apply(this,n)},execute:function(t,e){t=arguments[0],e=Array.prototype.slice.call(arguments,1),this.hasHandler(t)?this.getHandler(t).apply(this,e):this.storage.addCommand(t,e)},_executeCommands:function(t,n,r){var i=this.storage.getCommands(t);e.each(i.instances,function(t){n.apply(r,t)}),this.storage.clearCommands(t)},_initializeStorage:function(t){var n,r=t.storageType||this.storageType;n=e.isFunction(r)?new r:r,this.storage=n}})}(r),r.RequestResponse=function(t){return t.Handlers.extend({request:function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return this.hasHandler(t)?this.getHandler(t).apply(this,e):void 0}})}(r),r.EventAggregator=function(t,e){var n=function(){};return n.extend=t.Model.extend,e.extend(n.prototype,t.Events),n}(t,e),r.Channel=function(){var n=function(e){this.vent=new t.Wreqr.EventAggregator,this.reqres=new t.Wreqr.RequestResponse,this.commands=new t.Wreqr.Commands,this.channelName=e};return e.extend(n.prototype,{reset:function(){return this.vent.off(),this.vent.stopListening(),this.reqres.removeAllHandlers(),this.commands.removeAllHandlers(),this},connectEvents:function(t,e){return this._connect("vent",t,e),this},connectCommands:function(t,e){return this._connect("commands",t,e),this},connectRequests:function(t,e){return this._connect("reqres",t,e),this},_connect:function(t,n,r){if(n){r=r||this;var i="vent"===t?"on":"setHandler";e.each(n,function(n,o){this[t][i](o,e.bind(n,r))},this)}}}),n}(r),r.radio=function(t){var n=function(){this._channels={},this.vent={},this.commands={},this.reqres={},this._proxyMethods()};e.extend(n.prototype,{channel:function(t){if(!t)throw new Error("Channel must receive a name");return this._getChannel(t)},_getChannel:function(e){var n=this._channels[e];return n||(n=new t.Channel(e),this._channels[e]=n),n},_proxyMethods:function(){e.each(["vent","commands","reqres"],function(t){e.each(r[t],function(e){this[t][e]=i(this,t,e)},this)},this)}});var r={vent:["on","off","trigger","once","stopListening","listenTo","listenToOnce"],commands:["execute","setHandler","setHandlers","removeHandler","removeAllHandlers"],reqres:["request","setHandler","setHandlers","removeHandler","removeAllHandlers"]},i=function(t,e,n){return function(r){var i=t._getChannel(r)[e],o=Array.prototype.slice.call(arguments,1);return i[n].apply(i,o)}};return new n}(r),t.Wreqr}(e,n);var r=t.Marionette,i=t.Mn,o=e.Marionette={};o.VERSION="2.4.1",o.noConflict=function(){return t.Marionette=r,t.Mn=i,this},e.Marionette=o,o.Deferred=e.$.Deferred,o.extend=e.Model.extend,o.isNodeAttached=function(t){return e.$.contains(document.documentElement,t)},o.mergeOptions=function(t,e){t&&n.extend(this,n.pick(t,e))},o.getOption=function(t,e){return t&&e?t.options&&void 0!==t.options[e]?t.options[e]:t[e]:void 0},o.proxyGetOption=function(t){return o.getOption(this,t)},o._getValue=function(t,e,r){return n.isFunction(t)&&(t=r?t.apply(e,r):t.call(e)),t},o.normalizeMethods=function(t){return n.reduce(t,function(t,e,r){return n.isFunction(e)||(e=this[e]),e&&(t[r]=e),t},{},this)},o.normalizeUIString=function(t,e){return t.replace(/@ui\.[a-zA-Z_$0-9]*/g,function(t){return e[t.slice(4)]})},o.normalizeUIKeys=function(t,e){return n.reduce(t,function(t,n,r){var i=o.normalizeUIString(r,e);return t[i]=n,t},{})},o.normalizeUIValues=function(t,e,r){return n.each(t,function(i,s){n.isString(i)?t[s]=o.normalizeUIString(i,e):n.isObject(i)&&n.isArray(r)&&(n.extend(i,o.normalizeUIValues(n.pick(i,r),e)),n.each(r,function(t){var r=i[t];n.isString(r)&&(i[t]=o.normalizeUIString(r,e))}))}),t},o.actAsCollection=function(t,e){var r=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];n.each(r,function(r){t[r]=function(){var t=n.values(n.result(this,e)),i=[t].concat(n.toArray(arguments));return n[r].apply(n,i)}})};var s=o.deprecate=function(t,e){n.isObject(t)&&(t=t.prev+" is going to be removed in the future. Please use "+t.next+" instead."+(t.url?" See: "+t.url:"")),void 0!==e&&e||s._cache[t]||(s._warn("Deprecation warning: "+t),s._cache[t]=!0)};s._warn="undefined"!=typeof console&&(console.warn||console.log)||function(){},s._cache={},o._triggerMethod=function(){function t(t,e,n){return n.toUpperCase()}var e=/(^|:)(\w)/gi;return function(r,i,o){var s=arguments.length<3;s&&(o=i,i=o[0]);var a,u="on"+i.replace(e,t),l=r[u];return n.isFunction(l)&&(a=l.apply(r,s?n.rest(o):o)),n.isFunction(r.trigger)&&(s+o.length>1?r.trigger.apply(r,s?o:[i].concat(n.drop(o,0))):r.trigger(i)),a}}(),o.triggerMethod=function(){return o._triggerMethod(this,arguments)},o.triggerMethodOn=function(t){var e=n.isFunction(t.triggerMethod)?t.triggerMethod:o.triggerMethod;return e.apply(t,n.rest(arguments))},o.MonitorDOMRefresh=function(t){function e(){t._isShown=!0,i()}function r(){t._isRendered=!0,i()}function i(){t._isShown&&t._isRendered&&o.isNodeAttached(t.el)&&n.isFunction(t.triggerMethod)&&t.triggerMethod("dom:refresh")}t.on({show:e,render:r})},function(t){function e(e,r,i,o){var s=o.split(/\s+/);n.each(s,function(n){var o=e[n];if(!o)throw new t.Error('Method "'+n+'" was configured as an event handler, but does not exist.');e.listenTo(r,i,o)})}function r(t,e,n,r){t.listenTo(e,n,r)}function i(t,e,r,i){var o=i.split(/\s+/);n.each(o,function(n){var i=t[n];t.stopListening(e,r,i)})}function o(t,e,n,r){t.stopListening(e,n,r)}function s(e,r,i,o,s){if(r&&i){if(!n.isObject(i))throw new t.Error({message:"Bindings must be an object or function.",url:"marionette.functions.html#marionettebindentityevents"});i=t._getValue(i,e),n.each(i,function(t,i){n.isFunction(t)?o(e,r,i,t):s(e,r,i,t)})}}t.bindEntityEvents=function(t,n,i){s(t,n,i,r,e)},t.unbindEntityEvents=function(t,e,n){s(t,e,n,o,i)},t.proxyBindEntityEvents=function(e,n){return t.bindEntityEvents(this,e,n)},t.proxyUnbindEntityEvents=function(e,n){return t.unbindEntityEvents(this,e,n)}}(o);var a=["description","fileName","lineNumber","name","message","number"];return o.Error=o.extend.call(Error,{urlRoot:"http://marionettejs.com/docs/v"+o.VERSION+"/",constructor:function(t,e){n.isObject(t)?(e=t,t=e.message):e||(e={});var r=Error.call(this,t);n.extend(this,n.pick(r,a),n.pick(e,a)),this.captureStackTrace(),e.url&&(this.url=this.urlRoot+e.url)},captureStackTrace:function(){Error.captureStackTrace&&Error.captureStackTrace(this,o.Error)},toString:function(){return this.name+": "+this.message+(this.url?" See: "+this.url:"")}}),o.Error.extend=o.extend,o.Callbacks=function(){this._deferred=o.Deferred(),this._callbacks=[]},n.extend(o.Callbacks.prototype,{add:function(t,e){var r=n.result(this._deferred,"promise");this._callbacks.push({cb:t,ctx:e}),r.then(function(n){e&&(n.context=e),t.call(n.context,n.options)})},run:function(t,e){this._deferred.resolve({options:t,context:e})},reset:function(){var t=this._callbacks;this._deferred=o.Deferred(),this._callbacks=[],n.each(t,function(t){this.add(t.cb,t.ctx)},this)}}),o.Controller=function(t){this.options=t||{},n.isFunction(this.initialize)&&this.initialize(this.options)},o.Controller.extend=o.extend,n.extend(o.Controller.prototype,e.Events,{destroy:function(){return o._triggerMethod(this,"before:destroy",arguments),o._triggerMethod(this,"destroy",arguments),this.stopListening(),this.off(),this},triggerMethod:o.triggerMethod,mergeOptions:o.mergeOptions,getOption:o.proxyGetOption}),o.Object=function(t){this.options=n.extend({},n.result(this,"options"),t),this.initialize.apply(this,arguments)},o.Object.extend=o.extend,n.extend(o.Object.prototype,e.Events,{initialize:function(){},destroy:function(){return this.triggerMethod("before:destroy"),this.triggerMethod("destroy"),this.stopListening(),this},triggerMethod:o.triggerMethod,mergeOptions:o.mergeOptions,getOption:o.proxyGetOption,bindEntityEvents:o.proxyBindEntityEvents,unbindEntityEvents:o.proxyUnbindEntityEvents}),o.Region=o.Object.extend({constructor:function(t){if(this.options=t||{},this.el=this.getOption("el"),this.el=this.el instanceof e.$?this.el[0]:this.el,!this.el)throw new o.Error({name:"NoElError",message:'An "el" must be specified for a region.'});this.$el=this.getEl(this.el),o.Object.call(this,t)},show:function(t,e){if(this._ensureElement()){this._ensureViewIsIntact(t);var n=e||{},r=t!==this.currentView,i=!!n.preventDestroy,s=!!n.forceShow,a=!!this.currentView,u=r&&!i,l=r||s;if(a&&this.triggerMethod("before:swapOut",this.currentView,this,e),this.currentView&&delete this.currentView._parent,u?this.empty():a&&l&&this.currentView.off("destroy",this.empty,this),l){t.once("destroy",this.empty,this),t.render(),t._parent=this,a&&this.triggerMethod("before:swap",t,this,e),this.triggerMethod("before:show",t,this,e),o.triggerMethodOn(t,"before:show",t,this,e),a&&this.triggerMethod("swapOut",this.currentView,this,e);var c=o.isNodeAttached(this.el),h=[],f=n.triggerBeforeAttach||this.triggerBeforeAttach,d=n.triggerAttach||this.triggerAttach;return c&&f&&(h=this._displayedViews(t),this._triggerAttach(h,"before:")),this.attachHtml(t),this.currentView=t,c&&d&&(h=this._displayedViews(t),this._triggerAttach(h)),a&&this.triggerMethod("swap",t,this,e),this.triggerMethod("show",t,this,e),o.triggerMethodOn(t,"show",t,this,e),this}return this}},triggerBeforeAttach:!0,triggerAttach:!0,_triggerAttach:function(t,e){var r=(e||"")+"attach";n.each(t,function(t){o.triggerMethodOn(t,r,t,this)},this)},_displayedViews:function(t){return n.union([t],n.result(t,"_getNestedViews")||[])},_ensureElement:function(){if(n.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0]),!this.$el||0===this.$el.length){if(this.getOption("allowMissingEl"))return!1;throw new o.Error('An "el" '+this.$el.selector+" must exist in DOM")}return!0},_ensureViewIsIntact:function(t){if(!t)throw new o.Error({name:"ViewNotValid",message:"The view passed is undefined and therefore invalid. You must pass a view instance to show."});if(t.isDestroyed)throw new o.Error({name:"ViewDestroyedError",message:'View (cid: "'+t.cid+'") has already been destroyed and cannot be used.'})},getEl:function(t){return e.$(t,o._getValue(this.options.parentEl,this))},attachHtml:function(t){this.$el.contents().detach(),this.el.appendChild(t.el)},empty:function(t){var e=this.currentView,n=o._getValue(t,"preventDestroy",this);return e?(e.off("destroy",this.empty,this),this.triggerMethod("before:empty",e),n||this._destroyView(),this.triggerMethod("empty",e),delete this.currentView,n&&this.$el.contents().detach(),this):void 0},_destroyView:function(){var t=this.currentView;t.destroy&&!t.isDestroyed?t.destroy():t.remove&&(t.remove(),t.isDestroyed=!0)},attachView:function(t){return this.currentView=t,this},hasView:function(){return!!this.currentView},reset:function(){return this.empty(),this.$el&&(this.el=this.$el.selector),delete this.$el,this}},{buildRegion:function(t,e){if(n.isString(t))return this._buildRegionFromSelector(t,e);if(t.selector||t.el||t.regionClass)return this._buildRegionFromObject(t,e);if(n.isFunction(t))return this._buildRegionFromRegionClass(t);throw new o.Error({message:"Improper region configuration type.",url:"marionette.region.html#region-configuration-types"})},_buildRegionFromSelector:function(t,e){return new e({el:t})},_buildRegionFromObject:function(t,e){var r=t.regionClass||e,i=n.omit(t,"selector","regionClass");return t.selector&&!i.el&&(i.el=t.selector),new r(i)},_buildRegionFromRegionClass:function(t){return new t}}),o.RegionManager=o.Controller.extend({constructor:function(t){this._regions={},this.length=0,o.Controller.call(this,t),this.addRegions(this.getOption("regions"))},addRegions:function(t,e){return t=o._getValue(t,this,arguments),n.reduce(t,function(t,r,i){return n.isString(r)&&(r={selector:r}),r.selector&&(r=n.defaults({},r,e)),t[i]=this.addRegion(i,r),t},{},this)},addRegion:function(t,e){var n;return n=e instanceof o.Region?e:o.Region.buildRegion(e,o.Region),this.triggerMethod("before:add:region",t,n),n._parent=this,this._store(t,n),this.triggerMethod("add:region",t,n),n},get:function(t){return this._regions[t]},getRegions:function(){return n.clone(this._regions)},removeRegion:function(t){var e=this._regions[t];return this._remove(t,e),e},removeRegions:function(){var t=this.getRegions();return n.each(this._regions,function(t,e){this._remove(e,t)},this),t},emptyRegions:function(){var t=this.getRegions();return n.invoke(t,"empty"),t},destroy:function(){return this.removeRegions(),o.Controller.prototype.destroy.apply(this,arguments)},_store:function(t,e){this._regions[t]||this.length++,this._regions[t]=e},_remove:function(t,e){this.triggerMethod("before:remove:region",t,e),e.empty(),e.stopListening(),delete e._parent,delete this._regions[t],this.length--,this.triggerMethod("remove:region",t,e)}}),o.actAsCollection(o.RegionManager.prototype,"_regions"),o.TemplateCache=function(t){this.templateId=t},n.extend(o.TemplateCache,{templateCaches:{},get:function(t,e){var n=this.templateCaches[t];return n||(n=new o.TemplateCache(t),this.templateCaches[t]=n),n.load(e)},clear:function(){var t,e=n.toArray(arguments),r=e.length;if(r>0)for(t=0;r>t;t++)delete this.templateCaches[e[t]];else this.templateCaches={}}}),n.extend(o.TemplateCache.prototype,{load:function(t){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId,t);return this.compiledTemplate=this.compileTemplate(e,t),this.compiledTemplate},loadTemplate:function(t){var n=e.$(t).html();if(!n||0===n.length)throw new o.Error({name:"NoTemplateError",message:'Could not find template: "'+t+'"'});return n},compileTemplate:function(t,e){return n.template(t,e)}}),o.Renderer={render:function(t,e){if(!t)throw new o.Error({name:"TemplateNotFoundError",message:"Cannot render the template since its false, null or undefined."});var r=n.isFunction(t)?t:o.TemplateCache.get(t);return r(e)}},o.View=e.View.extend({isDestroyed:!1,constructor:function(t){n.bindAll(this,"render"),t=o._getValue(t,this),this.options=n.extend({},n.result(this,"options"),t),this._behaviors=o.Behaviors(this),e.View.call(this,this.options),o.MonitorDOMRefresh(this)},getTemplate:function(){return this.getOption("template")},serializeModel:function(t){return t.toJSON.apply(t,n.rest(arguments))},mixinTemplateHelpers:function(t){t=t||{};var e=this.getOption("templateHelpers");return e=o._getValue(e,this),n.extend(t,e)},normalizeUIKeys:function(t){var e=n.result(this,"_uiBindings");return o.normalizeUIKeys(t,e||n.result(this,"ui"))},normalizeUIValues:function(t,e){var r=n.result(this,"ui"),i=n.result(this,"_uiBindings");
return o.normalizeUIValues(t,i||r,e)},configureTriggers:function(){if(this.triggers){var t=this.normalizeUIKeys(n.result(this,"triggers"));return n.reduce(t,function(t,e,n){return t[n]=this._buildViewTrigger(e),t},{},this)}},delegateEvents:function(t){return this._delegateDOMEvents(t),this.bindEntityEvents(this.model,this.getOption("modelEvents")),this.bindEntityEvents(this.collection,this.getOption("collectionEvents")),n.each(this._behaviors,function(t){t.bindEntityEvents(this.model,t.getOption("modelEvents")),t.bindEntityEvents(this.collection,t.getOption("collectionEvents"))},this),this},_delegateDOMEvents:function(t){var r=o._getValue(t||this.events,this);r=this.normalizeUIKeys(r),n.isUndefined(t)&&(this.events=r);var i={},s=n.result(this,"behaviorEvents")||{},a=this.configureTriggers(),u=n.result(this,"behaviorTriggers")||{};n.extend(i,s,r,a,u),e.View.prototype.delegateEvents.call(this,i)},undelegateEvents:function(){return e.View.prototype.undelegateEvents.apply(this,arguments),this.unbindEntityEvents(this.model,this.getOption("modelEvents")),this.unbindEntityEvents(this.collection,this.getOption("collectionEvents")),n.each(this._behaviors,function(t){t.unbindEntityEvents(this.model,t.getOption("modelEvents")),t.unbindEntityEvents(this.collection,t.getOption("collectionEvents"))},this),this},_ensureViewIsIntact:function(){if(this.isDestroyed)throw new o.Error({name:"ViewDestroyedError",message:'View (cid: "'+this.cid+'") has already been destroyed and cannot be used.'})},destroy:function(){if(this.isDestroyed)return this;var t=n.toArray(arguments);return this.triggerMethod.apply(this,["before:destroy"].concat(t)),this.isDestroyed=!0,this.triggerMethod.apply(this,["destroy"].concat(t)),this.unbindUIElements(),this.isRendered=!1,this.remove(),n.invoke(this._behaviors,"destroy",t),this},bindUIElements:function(){this._bindUIElements(),n.invoke(this._behaviors,this._bindUIElements)},_bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var t=n.result(this,"_uiBindings");this.ui={},n.each(t,function(t,e){this.ui[e]=this.$(t)},this)}},unbindUIElements:function(){this._unbindUIElements(),n.invoke(this._behaviors,this._unbindUIElements)},_unbindUIElements:function(){this.ui&&this._uiBindings&&(n.each(this.ui,function(t,e){delete this.ui[e]},this),this.ui=this._uiBindings,delete this._uiBindings)},_buildViewTrigger:function(t){var e=n.isObject(t),r=n.defaults({},e?t:{},{preventDefault:!0,stopPropagation:!0}),i=e?r.event:t;return function(t){t&&(t.preventDefault&&r.preventDefault&&t.preventDefault(),t.stopPropagation&&r.stopPropagation&&t.stopPropagation());var e={view:this,model:this.model,collection:this.collection};this.triggerMethod(i,e)}},setElement:function(){var t=e.View.prototype.setElement.apply(this,arguments);return n.invoke(this._behaviors,"proxyViewProperties",this),t},triggerMethod:function(){var t=o._triggerMethod(this,arguments);return this._triggerEventOnBehaviors(arguments),this._triggerEventOnParentLayout(arguments[0],n.rest(arguments)),t},_triggerEventOnBehaviors:function(t){for(var e=o._triggerMethod,n=this._behaviors,r=0,i=n&&n.length;i>r;r++)e(n[r],t)},_triggerEventOnParentLayout:function(t,e){var r=this._parentLayoutView();if(r){var i=o.getOption(r,"childViewEventPrefix"),s=i+":"+t;o._triggerMethod(r,[s,this].concat(e));var a=o.getOption(r,"childEvents"),u=r.normalizeMethods(a);u&&n.isFunction(u[t])&&u[t].apply(r,[this].concat(e))}},_getImmediateChildren:function(){return[]},_getNestedViews:function(){var t=this._getImmediateChildren();return t.length?n.reduce(t,function(t,e){return e._getNestedViews?t.concat(e._getNestedViews()):t},t):t},_getAncestors:function(){for(var t=[],e=this._parent;e;)t.push(e),e=e._parent;return t},_parentLayoutView:function(){var t=this._getAncestors();return n.find(t,function(t){return t instanceof o.LayoutView})},normalizeMethods:o.normalizeMethods,mergeOptions:o.mergeOptions,getOption:o.proxyGetOption,bindEntityEvents:o.proxyBindEntityEvents,unbindEntityEvents:o.proxyUnbindEntityEvents}),o.ItemView=o.View.extend({constructor:function(){o.View.apply(this,arguments)},serializeData:function(){if(!this.model&&!this.collection)return{};var t=[this.model||this.collection];return arguments.length&&t.push.apply(t,arguments),this.model?this.serializeModel.apply(this,t):{items:this.serializeCollection.apply(this,t)}},serializeCollection:function(t){return t.toJSON.apply(t,n.rest(arguments))},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderTemplate(),this.isRendered=!0,this.bindUIElements(),this.triggerMethod("render",this),this},_renderTemplate:function(){var t=this.getTemplate();if(t!==!1){if(!t)throw new o.Error({name:"UndefinedTemplateError",message:"Cannot render the template since it is null or undefined."});var e=this.mixinTemplateHelpers(this.serializeData()),n=o.Renderer.render(t,e,this);return this.attachElContent(n),this}},attachElContent:function(t){return this.$el.html(t),this}}),o.CollectionView=o.View.extend({childViewEventPrefix:"childview",sort:!0,constructor:function(){this.once("render",this._initialEvents),this._initChildViewStorage(),o.View.apply(this,arguments),this.on("show",this._onShowCalled),this.initRenderBuffer()},initRenderBuffer:function(){this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){this.isBuffering=!1,this._triggerBeforeShowBufferedChildren(),this.attachBuffer(this),this._triggerShowBufferedChildren(),this.initRenderBuffer()},_triggerBeforeShowBufferedChildren:function(){this._isShown&&n.each(this._bufferedChildren,n.partial(this._triggerMethodOnChild,"before:show"))},_triggerShowBufferedChildren:function(){this._isShown&&(n.each(this._bufferedChildren,n.partial(this._triggerMethodOnChild,"show")),this._bufferedChildren=[])},_triggerMethodOnChild:function(t,e){o.triggerMethodOn(e,t)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this.render),this.getOption("sort")&&this.listenTo(this.collection,"sort",this._sortViews))},_onCollectionAdd:function(t,e,r){var i;if(i=void 0!==r.at?r.at:n.indexOf(this._filteredSortedModels(),t),this._shouldAddChild(t,i)){this.destroyEmptyView();var o=this.getChildView(t);this.addChild(t,o,i)}},_onCollectionRemove:function(t){var e=this.children.findByModel(t);this.removeChildView(e),this.checkEmpty()},_onShowCalled:function(){this.children.each(n.partial(this._triggerMethodOnChild,"show"))},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderChildren(),this.isRendered=!0,this.triggerMethod("render",this),this},reorder:function(){var t=this.children,e=this._filteredSortedModels(),r=n.find(e,function(e){return!t.findByModel(e)});if(r)this.render();else{var i=n.map(e,function(e){return t.findByModel(e).el});this.triggerMethod("before:reorder"),this._appendReorderedChildren(i),this.triggerMethod("reorder")}},resortView:function(){o.getOption(this,"reorderOnSort")?this.reorder():this.render()},_sortViews:function(){var t=this._filteredSortedModels(),e=n.find(t,function(t,e){var n=this.children.findByModel(t);return!n||n._index!==e},this);e&&this.resortView()},_emptyViewIndex:-1,_appendReorderedChildren:function(t){this.$el.append(t)},_renderChildren:function(){this.destroyEmptyView(),this.destroyChildren(),this.isEmpty(this.collection)?this.showEmptyView():(this.triggerMethod("before:render:collection",this),this.startBuffering(),this.showCollection(),this.endBuffering(),this.triggerMethod("render:collection",this),this.children.isEmpty()&&this.showEmptyView())},showCollection:function(){var t,e=this._filteredSortedModels();n.each(e,function(e,n){t=this.getChildView(e),this.addChild(e,t,n)},this)},_filteredSortedModels:function(){var t,e=this.getViewComparator();return t=e?n.isString(e)||1===e.length?this.collection.sortBy(e,this):n.clone(this.collection.models).sort(n.bind(e,this)):this.collection.models,this.getOption("filter")&&(t=n.filter(t,function(t,e){return this._shouldAddChild(t,e)},this)),t},showEmptyView:function(){var t=this.getEmptyView();if(t&&!this._showingEmptyView){this.triggerMethod("before:render:empty"),this._showingEmptyView=!0;var n=new e.Model;this.addEmptyView(n,t),this.triggerMethod("render:empty")}},destroyEmptyView:function(){this._showingEmptyView&&(this.triggerMethod("before:remove:empty"),this.destroyChildren(),delete this._showingEmptyView,this.triggerMethod("remove:empty"))},getEmptyView:function(){return this.getOption("emptyView")},addEmptyView:function(t,e){var r=this.getOption("emptyViewOptions")||this.getOption("childViewOptions");n.isFunction(r)&&(r=r.call(this,t,this._emptyViewIndex));var i=this.buildChildView(t,e,r);i._parent=this,this.proxyChildEvents(i),this._isShown&&o.triggerMethodOn(i,"before:show"),this.children.add(i),this.renderChildView(i,this._emptyViewIndex),this._isShown&&o.triggerMethodOn(i,"show")},getChildView:function(){var t=this.getOption("childView");if(!t)throw new o.Error({name:"NoChildViewError",message:'A "childView" must be specified'});return t},addChild:function(t,e,n){var r=this.getOption("childViewOptions");r=o._getValue(r,this,[t,n]);var i=this.buildChildView(t,e,r);return this._updateIndices(i,!0,n),this._addChildView(i,n),i._parent=this,i},_updateIndices:function(t,e,n){this.getOption("sort")&&(e&&(t._index=n),this.children.each(function(n){n._index>=t._index&&(n._index+=e?1:-1)}))},_addChildView:function(t,e){this.proxyChildEvents(t),this.triggerMethod("before:add:child",t),this._isShown&&!this.isBuffering&&o.triggerMethodOn(t,"before:show"),this.children.add(t),this.renderChildView(t,e),this._isShown&&!this.isBuffering&&o.triggerMethodOn(t,"show"),this.triggerMethod("add:child",t)},renderChildView:function(t,e){return t.render(),this.attachHtml(this,t,e),t},buildChildView:function(t,e,r){var i=n.extend({model:t},r);return new e(i)},removeChildView:function(t){return t&&(this.triggerMethod("before:remove:child",t),t.destroy?t.destroy():t.remove&&t.remove(),delete t._parent,this.stopListening(t),this.children.remove(t),this.triggerMethod("remove:child",t),this._updateIndices(t,!1)),t},isEmpty:function(){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},attachBuffer:function(t){t.$el.append(this._createBuffer(t))},_createBuffer:function(t){var e=document.createDocumentFragment();return n.each(t._bufferedChildren,function(t){e.appendChild(t.el)}),e},attachHtml:function(t,e,n){t.isBuffering?t._bufferedChildren.splice(n,0,e):t._insertBefore(e,n)||t._insertAfter(e)},_insertBefore:function(t,e){var n,r=this.getOption("sort")&&e<this.children.length-1;return r&&(n=this.children.find(function(t){return t._index===e+1})),n?(n.$el.before(t.el),!0):!1},_insertAfter:function(t){this.$el.append(t.el)},_initChildViewStorage:function(){this.children=new e.ChildViewContainer},destroy:function(){return this.isDestroyed?this:(this.triggerMethod("before:destroy:collection"),this.destroyChildren(),this.triggerMethod("destroy:collection"),o.View.prototype.destroy.apply(this,arguments))},destroyChildren:function(){var t=this.children.map(n.identity);return this.children.each(this.removeChildView,this),this.checkEmpty(),t},_shouldAddChild:function(t,e){var r=this.getOption("filter");return!n.isFunction(r)||r.call(this,t,e,this.collection)},proxyChildEvents:function(t){var e=this.getOption("childViewEventPrefix");this.listenTo(t,"all",function(){var r=n.toArray(arguments),i=r[0],o=this.normalizeMethods(n.result(this,"childEvents"));r[0]=e+":"+i,r.splice(1,0,t),"undefined"!=typeof o&&n.isFunction(o[i])&&o[i].apply(this,r.slice(1)),this.triggerMethod.apply(this,r)})},_getImmediateChildren:function(){return n.values(this.children._views)},getViewComparator:function(){return this.getOption("viewComparator")}}),o.CompositeView=o.CollectionView.extend({constructor:function(){o.CollectionView.apply(this,arguments)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this._renderChildren),this.getOption("sort")&&this.listenTo(this.collection,"sort",this._sortViews))},getChildView:function(){var t=this.getOption("childView")||this.constructor;return t},serializeData:function(){var t={};return this.model&&(t=n.partial(this.serializeModel,this.model).apply(this,arguments)),t},render:function(){return this._ensureViewIsIntact(),this._isRendering=!0,this.resetChildViewContainer(),this.triggerMethod("before:render",this),this._renderTemplate(),this._renderChildren(),this._isRendering=!1,this.isRendered=!0,this.triggerMethod("render",this),this},_renderChildren:function(){(this.isRendered||this._isRendering)&&o.CollectionView.prototype._renderChildren.call(this)},_renderTemplate:function(){var t={};t=this.serializeData(),t=this.mixinTemplateHelpers(t),this.triggerMethod("before:render:template");var e=this.getTemplate(),n=o.Renderer.render(e,t,this);this.attachElContent(n),this.bindUIElements(),this.triggerMethod("render:template")},attachElContent:function(t){return this.$el.html(t),this},attachBuffer:function(t){var e=this.getChildViewContainer(t);e.append(this._createBuffer(t))},_insertAfter:function(t){var e=this.getChildViewContainer(this,t);e.append(t.el)},_appendReorderedChildren:function(t){var e=this.getChildViewContainer(this);e.append(t)},getChildViewContainer:function(t){if("$childViewContainer"in t)return t.$childViewContainer;var e,n=o.getOption(t,"childViewContainer");if(n){var r=o._getValue(n,t);if(e="@"===r.charAt(0)&&t.ui?t.ui[r.substr(4)]:t.$(r),e.length<=0)throw new o.Error({name:"ChildViewContainerMissingError",message:'The specified "childViewContainer" was not found: '+t.childViewContainer})}else e=t.$el;return t.$childViewContainer=e,e},resetChildViewContainer:function(){this.$childViewContainer&&delete this.$childViewContainer}}),o.LayoutView=o.ItemView.extend({regionClass:o.Region,options:{destroyImmediate:!1},childViewEventPrefix:"childview",constructor:function(t){t=t||{},this._firstRender=!0,this._initializeRegions(t),o.ItemView.call(this,t)},render:function(){return this._ensureViewIsIntact(),this._firstRender?this._firstRender=!1:this._reInitializeRegions(),o.ItemView.prototype.render.apply(this,arguments)},destroy:function(){return this.isDestroyed?this:(this.getOption("destroyImmediate")===!0&&this.$el.remove(),this.regionManager.destroy(),o.ItemView.prototype.destroy.apply(this,arguments))},showChildView:function(t,e){return this.getRegion(t).show(e)},getChildView:function(t){return this.getRegion(t).currentView},addRegion:function(t,e){var n={};return n[t]=e,this._buildRegions(n)[t]},addRegions:function(t){return this.regions=n.extend({},this.regions,t),this._buildRegions(t)},removeRegion:function(t){return delete this.regions[t],this.regionManager.removeRegion(t)},getRegion:function(t){return this.regionManager.get(t)},getRegions:function(){return this.regionManager.getRegions()},_buildRegions:function(t){var e={regionClass:this.getOption("regionClass"),parentEl:n.partial(n.result,this,"el")};return this.regionManager.addRegions(t,e)},_initializeRegions:function(t){var e;this._initRegionManager(),e=o._getValue(this.regions,this,[t])||{};var r=this.getOption.call(t,"regions");r=o._getValue(r,this,[t]),n.extend(e,r),e=this.normalizeUIValues(e,["selector","el"]),this.addRegions(e)},_reInitializeRegions:function(){this.regionManager.invoke("reset")},getRegionManager:function(){return new o.RegionManager},_initRegionManager:function(){this.regionManager=this.getRegionManager(),this.regionManager._parent=this,this.listenTo(this.regionManager,"before:add:region",function(t){this.triggerMethod("before:add:region",t)}),this.listenTo(this.regionManager,"add:region",function(t,e){this[t]=e,this.triggerMethod("add:region",t,e)}),this.listenTo(this.regionManager,"before:remove:region",function(t){this.triggerMethod("before:remove:region",t)}),this.listenTo(this.regionManager,"remove:region",function(t,e){delete this[t],this.triggerMethod("remove:region",t,e)})},_getImmediateChildren:function(){return n.chain(this.regionManager.getRegions()).pluck("currentView").compact().value()}}),o.Behavior=o.Object.extend({constructor:function(t,e){this.view=e,this.defaults=n.result(this,"defaults")||{},this.options=n.extend({},this.defaults,t),this.ui=n.extend({},n.result(e,"ui"),n.result(this,"ui")),o.Object.apply(this,arguments)},$:function(){return this.view.$.apply(this.view,arguments)},destroy:function(){return this.stopListening(),this},proxyViewProperties:function(t){this.$el=t.$el,this.el=t.el}}),o.Behaviors=function(t,e){function n(t,r){return e.isObject(t.behaviors)?(r=n.parseBehaviors(t,r||e.result(t,"behaviors")),n.wrap(t,r,e.keys(s)),r):{}}function r(t,e){this._view=t,this._behaviors=e,this._triggers={}}function i(t){return t._uiBindings||t.ui}var o=/^(\S+)\s*(.*)$/,s={behaviorTriggers:function(t,e){var n=new r(this,e);return n.buildBehaviorTriggers()},behaviorEvents:function(n,r){var s={};return e.each(r,function(n,r){var a={},u=e.clone(e.result(n,"events"))||{};u=t.normalizeUIKeys(u,i(n));var l=0;e.each(u,function(t,i){var s=i.match(o),u=s[1]+"."+[this.cid,r,l++," "].join(""),c=s[2],h=u+c,f=e.isFunction(t)?t:n[t];a[h]=e.bind(f,n)},this),s=e.extend(s,a)},this),s}};return e.extend(n,{behaviorsLookup:function(){throw new t.Error({message:"You must define where your behaviors are stored.",url:"marionette.behaviors.html#behaviorslookup"})},getBehaviorClass:function(e,r){return e.behaviorClass?e.behaviorClass:t._getValue(n.behaviorsLookup,this,[e,r])[r]},parseBehaviors:function(t,r){return e.chain(r).map(function(r,i){var o=n.getBehaviorClass(r,i),s=new o(r,t),a=n.parseBehaviors(t,e.result(s,"behaviors"));return[s].concat(a)}).flatten().value()},wrap:function(t,n,r){e.each(r,function(r){t[r]=e.partial(s[r],t[r],n)})}}),e.extend(r.prototype,{buildBehaviorTriggers:function(){return e.each(this._behaviors,this._buildTriggerHandlersForBehavior,this),this._triggers},_buildTriggerHandlersForBehavior:function(n,r){var o=e.clone(e.result(n,"triggers"))||{};o=t.normalizeUIKeys(o,i(n)),e.each(o,e.bind(this._setHandlerForBehavior,this,n,r))},_setHandlerForBehavior:function(t,e,n,r){var i=r.replace(/^\S+/,function(t){return t+".behaviortriggers"+e});this._triggers[i]=this._view._buildViewTrigger(n)}}),n}(o,n),o.AppRouter=e.Router.extend({constructor:function(t){this.options=t||{},e.Router.apply(this,arguments);var n=this.getOption("appRoutes"),r=this._getController();this.processAppRoutes(r,n),this.on("route",this._processOnRoute,this)},appRoute:function(t,e){var n=this._getController();this._addAppRoute(n,t,e)},_processOnRoute:function(t,e){if(n.isFunction(this.onRoute)){var r=n.invert(this.getOption("appRoutes"))[t];this.onRoute(t,r,e)}},processAppRoutes:function(t,e){if(e){var r=n.keys(e).reverse();n.each(r,function(n){this._addAppRoute(t,n,e[n])},this)}},_getController:function(){return this.getOption("controller")},_addAppRoute:function(t,e,r){var i=t[r];if(!i)throw new o.Error('Method "'+r+'" was not found on the controller');this.route(e,r,n.bind(i,t))},mergeOptions:o.mergeOptions,getOption:o.proxyGetOption,triggerMethod:o.triggerMethod,bindEntityEvents:o.proxyBindEntityEvents,unbindEntityEvents:o.proxyUnbindEntityEvents}),o.Application=o.Object.extend({constructor:function(t){this._initializeRegions(t),this._initCallbacks=new o.Callbacks,this.submodules={},n.extend(this,t),this._initChannel(),o.Object.call(this,t)},execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(t){this._initCallbacks.add(t)},start:function(t){this.triggerMethod("before:start",t),this._initCallbacks.run(t,this),this.triggerMethod("start",t)},addRegions:function(t){return this._regionManager.addRegions(t)},emptyRegions:function(){return this._regionManager.emptyRegions()},removeRegion:function(t){return this._regionManager.removeRegion(t)},getRegion:function(t){return this._regionManager.get(t)},getRegions:function(){return this._regionManager.getRegions()},module:function(t,e){var r=o.Module.getClass(e),i=n.toArray(arguments);return i.unshift(this),r.create.apply(r,i)},getRegionManager:function(){return new o.RegionManager},_initializeRegions:function(t){var e=n.isFunction(this.regions)?this.regions(t):this.regions||{};this._initRegionManager();var r=o.getOption(t,"regions");return n.isFunction(r)&&(r=r.call(this,t)),n.extend(e,r),this.addRegions(e),this},_initRegionManager:function(){this._regionManager=this.getRegionManager(),this._regionManager._parent=this,this.listenTo(this._regionManager,"before:add:region",function(){o._triggerMethod(this,"before:add:region",arguments)}),this.listenTo(this._regionManager,"add:region",function(t,e){this[t]=e,o._triggerMethod(this,"add:region",arguments)}),this.listenTo(this._regionManager,"before:remove:region",function(){o._triggerMethod(this,"before:remove:region",arguments)}),this.listenTo(this._regionManager,"remove:region",function(t){delete this[t],o._triggerMethod(this,"remove:region",arguments)})},_initChannel:function(){this.channelName=n.result(this,"channelName")||"global",this.channel=n.result(this,"channel")||e.Wreqr.radio.channel(this.channelName),this.vent=n.result(this,"vent")||this.channel.vent,this.commands=n.result(this,"commands")||this.channel.commands,this.reqres=n.result(this,"reqres")||this.channel.reqres}}),o.Module=function(t,e,r){this.moduleName=t,this.options=n.extend({},this.options,r),this.initialize=r.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=e,n.isFunction(this.initialize)&&this.initialize(t,e,this.options)},o.Module.extend=o.extend,n.extend(o.Module.prototype,e.Events,{startWithParent:!0,initialize:function(){},addInitializer:function(t){this._initializerCallbacks.add(t)},addFinalizer:function(t){this._finalizerCallbacks.add(t)},start:function(t){this._isInitialized||(n.each(this.submodules,function(e){e.startWithParent&&e.start(t)}),this.triggerMethod("before:start",t),this._initializerCallbacks.run(t,this),this._isInitialized=!0,this.triggerMethod("start",t))},stop:function(){this._isInitialized&&(this._isInitialized=!1,this.triggerMethod("before:stop"),n.invoke(this.submodules,"stop"),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),this.triggerMethod("stop"))},addDefinition:function(t,e){this._runModuleDefinition(t,e)},_runModuleDefinition:function(t,r){if(t){var i=n.flatten([this,this.app,e,o,e.$,n,r]);t.apply(this,i)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new o.Callbacks,this._finalizerCallbacks=new o.Callbacks},triggerMethod:o.triggerMethod}),n.extend(o.Module,{create:function(t,e,r){var i=t,o=n.drop(arguments,3);e=e.split(".");var s=e.length,a=[];return a[s-1]=r,n.each(e,function(e,n){var s=i;i=this._getModule(s,e,t,r),this._addModuleDefinition(s,i,a[n],o)},this),i},_getModule:function(t,e,r,i){var o=n.extend({},i),s=this.getClass(i),a=t[e];return a||(a=new s(e,r,o),t[e]=a,t.submodules[e]=a),a},getClass:function(t){var e=o.Module;return t?t.prototype instanceof e?t:t.moduleClass||e:e},_addModuleDefinition:function(t,e,n,r){var i=this._getDefine(n),o=this._getStartWithParent(n,e);i&&e.addDefinition(i,r),this._addStartWithParent(t,e,o)},_getStartWithParent:function(t,e){var r;return n.isFunction(t)&&t.prototype instanceof o.Module?(r=e.constructor.prototype.startWithParent,n.isUndefined(r)?!0:r):n.isObject(t)?(r=t.startWithParent,n.isUndefined(r)?!0:r):!0},_getDefine:function(t){return!n.isFunction(t)||t.prototype instanceof o.Module?n.isObject(t)?t.define:null:t},_addStartWithParent:function(t,e,n){e.startWithParent=e.startWithParent&&n,e.startWithParent&&!e.startWithParentIsConfigured&&(e.startWithParentIsConfigured=!0,t.addInitializer(function(t){e.startWithParent&&e.start(t)}))}}),o}),function(){var t,e,n,r;!function(){var i={},o={};t=function(t,e,n){i[t]={deps:e,callback:n}},r=n=e=function(t){function n(e){if("."!==e.charAt(0))return e;for(var n=e.split("/"),r=t.split("/").slice(0,-1),i=0,o=n.length;o>i;i++){var s=n[i];if(".."===s)r.pop();else{if("."===s)continue;r.push(s)}}return r.join("/")}if(r._eak_seen=i,o[t])return o[t];if(o[t]={},!i[t])throw new Error("Could not find module "+t);for(var s,a=i[t],u=a.deps,l=a.callback,c=[],h=0,f=u.length;f>h;h++)c.push("exports"===u[h]?s={}:e(n(u[h])));var d=l.apply(this,c);return o[t]=s||d}}(),t("promise/all",["./utils","exports"],function(t,e){"use strict";function n(t){var e=this;if(!r(t))throw new TypeError("You must pass an array to all.");return new e(function(e,n){function r(t){return function(e){o(t,e)}}function o(t,n){a[t]=n,0===--u&&e(a)}var s,a=[],u=t.length;0===u&&e([]);for(var l=0;l<t.length;l++)s=t[l],s&&i(s.then)?s.then(r(l),n):o(l,s)})}var r=t.isArray,i=t.isFunction;e.all=n}),t("promise/asap",["exports"],function(t){"use strict";function e(){return function(){process.nextTick(i)}}function n(){var t=0,e=new u(i),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function r(){return function(){l.setTimeout(i,1)}}function i(){for(var t=0;t<c.length;t++){var e=c[t],n=e[0],r=e[1];n(r)}c=[]}function o(t,e){var n=c.push([t,e]);1===n&&s()}var s,a="undefined"!=typeof window?window:{},u=a.MutationObserver||a.WebKitMutationObserver,l="undefined"!=typeof global?global:void 0===this?window:this,c=[];s="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?e():u?n():r(),t.asap=o}),t("promise/config",["exports"],function(t){"use strict";function e(t,e){return 2!==arguments.length?n[t]:void(n[t]=e)}var n={instrument:!1};t.config=n,t.configure=e}),t("promise/polyfill",["./promise","./utils","exports"],function(t,e,n){"use strict";function r(){var t;t="undefined"!=typeof global?global:"undefined"!=typeof window&&window.document?window:self;var e="Promise"in t&&"resolve"in t.Promise&&"reject"in t.Promise&&"all"in t.Promise&&"race"in t.Promise&&function(){var e;return new t.Promise(function(t){e=t}),o(e)}();e||(t.Promise=i)}var i=t.Promise,o=e.isFunction;n.polyfill=r}),t("promise/promise",["./config","./utils","./all","./race","./resolve","./reject","./asap","exports"],function(t,e,n,r,i,o,s,a){"use strict";function u(t){if(!w(t))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof u))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._subscribers=[],l(t,this)}function l(t,e){function n(t){p(e,t)}function r(t){v(e,t)}try{t(n,r)}catch(i){r(i)}}function c(t,e,n,r){var i,o,s,a,u=w(n);if(u)try{i=n(r),s=!0}catch(l){a=!0,o=l}else i=r,s=!0;d(e,i)||(u&&s?p(e,i):a?v(e,o):t===k?p(e,i):t===z&&v(e,i))}function h(t,e,n,r){var i=t._subscribers,o=i.length;i[o]=e,i[o+k]=n,i[o+z]=r}function f(t,e){for(var n,r,i=t._subscribers,o=t._detail,s=0;s<i.length;s+=3)n=i[s],r=i[s+e],c(e,n,r,o);t._subscribers=null}function d(t,e){var n,r=null;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(b(e)&&(r=e.then,w(r)))return r.call(e,function(r){return n?!0:(n=!0,void(e!==r?p(t,r):g(t,r)))},function(e){return n?!0:(n=!0,void v(t,e))}),!0}catch(i){return n?!0:(v(t,i),!0)}return!1}function p(t,e){t===e?g(t,e):d(t,e)||g(t,e)}function g(t,e){t._state===T&&(t._state=M,t._detail=e,x.async(m,t))}function v(t,e){t._state===T&&(t._state=M,t._detail=e,x.async(y,t))}function m(t){f(t,t._state=k)}function y(t){f(t,t._state=z)}var x=t.config,b=(t.configure,e.objectOrFunction),w=e.isFunction,_=(e.now,n.all),C=r.race,L=i.resolve,E=o.reject,S=s.asap;x.async=S;var T=void 0,M=0,k=1,z=2;u.prototype={constructor:u,_state:void 0,_detail:void 0,_subscribers:void 0,then:function(t,e){var n=this,r=new this.constructor(function(){});if(this._state){var i=arguments;x.async(function(){c(n._state,r,i[n._state-1],n._detail)})}else h(this,r,t,e);return r},"catch":function(t){return this.then(null,t)}},u.all=_,u.race=C,u.resolve=L,u.reject=E,a.Promise=u}),t("promise/race",["./utils","exports"],function(t,e){"use strict";function n(t){var e=this;if(!r(t))throw new TypeError("You must pass an array to race.");return new e(function(e,n){for(var r,i=0;i<t.length;i++)r=t[i],r&&"function"==typeof r.then?r.then(e,n):e(r)})}var r=t.isArray;e.race=n}),t("promise/reject",["exports"],function(t){"use strict";function e(t){var e=this;return new e(function(e,n){n(t)})}t.reject=e}),t("promise/resolve",["exports"],function(t){"use strict";function e(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=this;return new e(function(e){e(t)})}t.resolve=e}),t("promise/utils",["exports"],function(t){"use strict";function e(t){return n(t)||"object"==typeof t&&null!==t}function n(t){return"function"==typeof t}function r(t){return"[object Array]"===Object.prototype.toString.call(t)}var i=Date.now||function(){return(new Date).getTime()};t.objectOrFunction=e,t.isFunction=n,t.isArray=r,t.now=i}),e("promise/polyfill").polyfill()}(),function(){"use strict";function t(t,e){var n="";if(t&&(n=t.toString()),t&&("[object ArrayBuffer]"===t.toString()||t.buffer&&"[object ArrayBuffer]"===t.buffer.toString())){var i,s=o;t instanceof ArrayBuffer?(i=t,s+=a):(i=t.buffer,"[object Int8Array]"===n?s+=l:"[object Uint8Array]"===n?s+=c:"[object Uint8ClampedArray]"===n?s+=h:"[object Int16Array]"===n?s+=f:"[object Uint16Array]"===n?s+=p:"[object Int32Array]"===n?s+=d:"[object Uint32Array]"===n?s+=g:"[object Float32Array]"===n?s+=v:"[object Float64Array]"===n?s+=m:e(new Error("Failed to get type for BinaryArray"))),e(s+r(i))}else if("[object Blob]"===n){var y=new FileReader;y.onload=function(){var t=r(this.result);e(o+u+t)},y.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(x){window.console.error("Couldn't convert value into a JSON string: ",t),e(null,x)}}function e(t){if(t.substring(0,s)!==o)return JSON.parse(t);var e=t.substring(y),r=t.substring(s,y),i=n(e);switch(r){case a:return i;case u:return new Blob([i]);case l:return new Int8Array(i);case c:return new Uint8Array(i);case h:return new Uint8ClampedArray(i);case f:return new Int16Array(i);case p:return new Uint16Array(i);case d:return new Int32Array(i);case g:return new Uint32Array(i);case v:return new Float32Array(i);case m:return new Float64Array(i);default:throw new Error("Unkown type: "+r)}}function n(t){var e,n,r,o,s,a=.75*t.length,u=t.length,l=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var c=new ArrayBuffer(a),h=new Uint8Array(c);for(e=0;u>e;e+=4)n=i.indexOf(t[e]),r=i.indexOf(t[e+1]),o=i.indexOf(t[e+2]),s=i.indexOf(t[e+3]),h[l++]=n<<2|r>>4,h[l++]=(15&r)<<4|o>>2,h[l++]=(3&o)<<6|63&s;return c}function r(t){var e,n=new Uint8Array(t),r="";for(e=0;e<n.length;e+=3)r+=i[n[e]>>2],r+=i[(3&n[e])<<4|n[e+1]>>4],r+=i[(15&n[e+1])<<2|n[e+2]>>6],r+=i[63&n[e+2]];return n.length%3===2?r=r.substring(0,r.length-1)+"=":n.length%3===1&&(r=r.substring(0,r.length-2)+"=="),r}var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o="__lfsc__:",s=o.length,a="arbf",u="blob",l="si08",c="ui08",h="uic8",f="si16",d="si32",p="ur16",g="ui32",v="fl32",m="fl64",y=s+a.length,x={serialize:t,deserialize:e,stringToBuffer:n,bufferToString:r};"undefined"!=typeof module&&module.exports&&"undefined"!=typeof require?module.exports=x:"function"==typeof define&&define.amd?define("localforageSerializer",function(){return x}):this.localforageSerializer=x}.call(window),function(){"use strict";function t(t){var e=this,n={db:null};if(t)for(var r in t)n[r]=t[r];return new c(function(t,r){var i=h.open(n.name,n.version);i.onerror=function(){r(i.error)},i.onupgradeneeded=function(){i.result.createObjectStore(n.storeName)
},i.onsuccess=function(){n.db=i.result,e._dbInfo=n,t()}})}function e(t,e){var n=this;"string"!=typeof t&&(window.console.warn(t+" used as a key, but it is not a string."),t=String(t));var r=new c(function(e,r){n.ready().then(function(){var i=n._dbInfo,o=i.db.transaction(i.storeName,"readonly").objectStore(i.storeName),s=o.get(t);s.onsuccess=function(){var t=s.result;void 0===t&&(t=null),e(t)},s.onerror=function(){r(s.error)}})["catch"](r)});return l(r,e),r}function n(t,e){var n=this,r=new c(function(e,r){n.ready().then(function(){var i=n._dbInfo,o=i.db.transaction(i.storeName,"readonly").objectStore(i.storeName),s=o.openCursor(),a=1;s.onsuccess=function(){var n=s.result;if(n){var r=t(n.value,n.key,a++);void 0!==r?e(r):n["continue"]()}else e()},s.onerror=function(){r(s.error)}})["catch"](r)});return l(r,e),r}function r(t,e,n){var r=this;"string"!=typeof t&&(window.console.warn(t+" used as a key, but it is not a string."),t=String(t));var i=new c(function(n,i){r.ready().then(function(){var o=r._dbInfo,s=o.db.transaction(o.storeName,"readwrite"),a=s.objectStore(o.storeName);null===e&&(e=void 0);var u=a.put(e,t);s.oncomplete=function(){void 0===e&&(e=null),n(e)},s.onabort=s.onerror=function(){var t=u.error?u.error:u.transaction.error;i(t)}})["catch"](i)});return l(i,n),i}function i(t,e){var n=this;"string"!=typeof t&&(window.console.warn(t+" used as a key, but it is not a string."),t=String(t));var r=new c(function(e,r){n.ready().then(function(){var i=n._dbInfo,o=i.db.transaction(i.storeName,"readwrite"),s=o.objectStore(i.storeName),a=s["delete"](t);o.oncomplete=function(){e()},o.onerror=function(){r(a.error)},o.onabort=function(){var t=a.error?a.error:a.transaction.error;r(t)}})["catch"](r)});return l(r,e),r}function o(t){var e=this,n=new c(function(t,n){e.ready().then(function(){var r=e._dbInfo,i=r.db.transaction(r.storeName,"readwrite"),o=i.objectStore(r.storeName),s=o.clear();i.oncomplete=function(){t()},i.onabort=i.onerror=function(){var t=s.error?s.error:s.transaction.error;n(t)}})["catch"](n)});return l(n,t),n}function s(t){var e=this,n=new c(function(t,n){e.ready().then(function(){var r=e._dbInfo,i=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName),o=i.count();o.onsuccess=function(){t(o.result)},o.onerror=function(){n(o.error)}})["catch"](n)});return l(n,t),n}function a(t,e){var n=this,r=new c(function(e,r){return 0>t?void e(null):void n.ready().then(function(){var i=n._dbInfo,o=i.db.transaction(i.storeName,"readonly").objectStore(i.storeName),s=!1,a=o.openCursor();a.onsuccess=function(){var n=a.result;return n?void(0===t?e(n.key):s?e(n.key):(s=!0,n.advance(t))):void e(null)},a.onerror=function(){r(a.error)}})["catch"](r)});return l(r,e),r}function u(t){var e=this,n=new c(function(t,n){e.ready().then(function(){var r=e._dbInfo,i=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName),o=i.openCursor(),s=[];o.onsuccess=function(){var e=o.result;return e?(s.push(e.key),void e["continue"]()):void t(s)},o.onerror=function(){n(o.error)}})["catch"](n)});return l(n,t),n}function l(t,e){e&&t.then(function(t){e(null,t)},function(t){e(t)})}var c="undefined"!=typeof module&&module.exports&&"undefined"!=typeof require?require("promise"):this.Promise,h=h||this.indexedDB||this.webkitIndexedDB||this.mozIndexedDB||this.OIndexedDB||this.msIndexedDB;if(h){var f={_driver:"asyncStorage",_initStorage:t,iterate:n,getItem:e,setItem:r,removeItem:i,clear:o,length:s,key:a,keys:u};"undefined"!=typeof module&&module.exports&&"undefined"!=typeof require?module.exports=f:"function"==typeof define&&define.amd?define("asyncStorage",function(){return f}):this.asyncStorage=f}}.call(window),function(){"use strict";function t(t){var e=this,n={};if(t)for(var r in t)n[r]=t[r];n.keyPrefix=n.name+"/",e._dbInfo=n;var i=new c(function(t){v===g.DEFINE?require(["localforageSerializer"],t):t(v===g.EXPORT?require("./../utils/serializer"):h.localforageSerializer)});return i.then(function(t){return f=t,c.resolve()})}function e(t){var e=this,n=e.ready().then(function(){for(var t=e._dbInfo.keyPrefix,n=d.length-1;n>=0;n--){var r=d.key(n);0===r.indexOf(t)&&d.removeItem(r)}});return l(n,t),n}function n(t,e){var n=this;"string"!=typeof t&&(window.console.warn(t+" used as a key, but it is not a string."),t=String(t));var r=n.ready().then(function(){var e=n._dbInfo,r=d.getItem(e.keyPrefix+t);return r&&(r=f.deserialize(r)),r});return l(r,e),r}function r(t,e){var n=this,r=n.ready().then(function(){for(var e=n._dbInfo.keyPrefix,r=e.length,i=d.length,o=0;i>o;o++){var s=d.key(o),a=d.getItem(s);if(a&&(a=f.deserialize(a)),a=t(a,s.substring(r),o+1),void 0!==a)return a}});return l(r,e),r}function i(t,e){var n=this,r=n.ready().then(function(){var e,r=n._dbInfo;try{e=d.key(t)}catch(i){e=null}return e&&(e=e.substring(r.keyPrefix.length)),e});return l(r,e),r}function o(t){var e=this,n=e.ready().then(function(){for(var t=e._dbInfo,n=d.length,r=[],i=0;n>i;i++)0===d.key(i).indexOf(t.keyPrefix)&&r.push(d.key(i).substring(t.keyPrefix.length));return r});return l(n,t),n}function s(t){var e=this,n=e.keys().then(function(t){return t.length});return l(n,t),n}function a(t,e){var n=this;"string"!=typeof t&&(window.console.warn(t+" used as a key, but it is not a string."),t=String(t));var r=n.ready().then(function(){var e=n._dbInfo;d.removeItem(e.keyPrefix+t)});return l(r,e),r}function u(t,e,n){var r=this;"string"!=typeof t&&(window.console.warn(t+" used as a key, but it is not a string."),t=String(t));var i=r.ready().then(function(){void 0===e&&(e=null);var n=e;return new c(function(i,o){f.serialize(e,function(e,s){if(s)o(s);else try{var a=r._dbInfo;d.setItem(a.keyPrefix+t,e),i(n)}catch(u){("QuotaExceededError"===u.name||"NS_ERROR_DOM_QUOTA_REACHED"===u.name)&&o(u),o(u)}})})});return l(i,n),i}function l(t,e){e&&t.then(function(t){e(null,t)},function(t){e(t)})}var c="undefined"!=typeof module&&module.exports&&"undefined"!=typeof require?require("promise"):this.Promise,h=this,f=null,d=null;try{if(!(this.localStorage&&"setItem"in this.localStorage))return;d=this.localStorage}catch(p){return}var g={DEFINE:1,EXPORT:2,WINDOW:3},v=g.WINDOW;"undefined"!=typeof module&&module.exports&&"undefined"!=typeof require?v=g.EXPORT:"function"==typeof define&&define.amd&&(v=g.DEFINE);var m={_driver:"localStorageWrapper",_initStorage:t,iterate:r,getItem:n,setItem:u,removeItem:a,clear:e,length:s,key:i,keys:o};v===g.EXPORT?module.exports=m:v===g.DEFINE?define("localStorageWrapper",function(){return m}):this.localStorageWrapper=m}.call(window),function(){"use strict";function t(t){var e=this,n={db:null};if(t)for(var r in t)n[r]="string"!=typeof t[r]?t[r].toString():t[r];var i=new c(function(t){g===p.DEFINE?require(["localforageSerializer"],t):t(g===p.EXPORT?require("./../utils/serializer"):h.localforageSerializer)}),o=new c(function(r,i){try{n.db=d(n.name,String(n.version),n.description,n.size)}catch(o){return e.setDriver(e.LOCALSTORAGE).then(function(){return e._initStorage(t)}).then(r)["catch"](i)}n.db.transaction(function(t){t.executeSql("CREATE TABLE IF NOT EXISTS "+n.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){e._dbInfo=n,r()},function(t,e){i(e)})})});return i.then(function(t){return f=t,o})}function e(t,e){var n=this;"string"!=typeof t&&(window.console.warn(t+" used as a key, but it is not a string."),t=String(t));var r=new c(function(e,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){n.executeSql("SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[t],function(t,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=f.deserialize(r)),e(r)},function(t,e){r(e)})})})["catch"](r)});return l(r,e),r}function n(t,e){var n=this,r=new c(function(e,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){n.executeSql("SELECT * FROM "+i.storeName,[],function(n,r){for(var i=r.rows,o=i.length,s=0;o>s;s++){var a=i.item(s),u=a.value;if(u&&(u=f.deserialize(u)),u=t(u,a.key,s+1),void 0!==u)return void e(u)}e()},function(t,e){r(e)})})})["catch"](r)});return l(r,e),r}function r(t,e,n){var r=this;"string"!=typeof t&&(window.console.warn(t+" used as a key, but it is not a string."),t=String(t));var i=new c(function(n,i){r.ready().then(function(){void 0===e&&(e=null);var o=e;f.serialize(e,function(e,s){if(s)i(s);else{var a=r._dbInfo;a.db.transaction(function(r){r.executeSql("INSERT OR REPLACE INTO "+a.storeName+" (key, value) VALUES (?, ?)",[t,e],function(){n(o)},function(t,e){i(e)})},function(t){t.code===t.QUOTA_ERR&&i(t)})}})})["catch"](i)});return l(i,n),i}function i(t,e){var n=this;"string"!=typeof t&&(window.console.warn(t+" used as a key, but it is not a string."),t=String(t));var r=new c(function(e,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){n.executeSql("DELETE FROM "+i.storeName+" WHERE key = ?",[t],function(){e()},function(t,e){r(e)})})})["catch"](r)});return l(r,e),r}function o(t){var e=this,n=new c(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){e.executeSql("DELETE FROM "+r.storeName,[],function(){t()},function(t,e){n(e)})})})["catch"](n)});return l(n,t),n}function s(t){var e=this,n=new c(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){e.executeSql("SELECT COUNT(key) as c FROM "+r.storeName,[],function(e,n){var r=n.rows.item(0).c;t(r)},function(t,e){n(e)})})})["catch"](n)});return l(n,t),n}function a(t,e){var n=this,r=new c(function(e,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){n.executeSql("SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[t+1],function(t,n){var r=n.rows.length?n.rows.item(0).key:null;e(r)},function(t,e){r(e)})})})["catch"](r)});return l(r,e),r}function u(t){var e=this,n=new c(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){e.executeSql("SELECT key FROM "+r.storeName,[],function(e,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);t(r)},function(t,e){n(e)})})})["catch"](n)});return l(n,t),n}function l(t,e){e&&t.then(function(t){e(null,t)},function(t){e(t)})}var c="undefined"!=typeof module&&module.exports&&"undefined"!=typeof require?require("promise"):this.Promise,h=this,f=null,d=this.openDatabase;if(d){var p={DEFINE:1,EXPORT:2,WINDOW:3},g=p.WINDOW;"undefined"!=typeof module&&module.exports&&"undefined"!=typeof require?g=p.EXPORT:"function"==typeof define&&define.amd&&(g=p.DEFINE);var v={_driver:"webSQLStorage",_initStorage:t,iterate:n,getItem:e,setItem:r,removeItem:i,clear:o,length:s,key:a,keys:u};g===p.DEFINE?define("webSQLStorage",function(){return v}):g===p.EXPORT?module.exports=v:this.webSQLStorage=v}}.call(window),function(){"use strict";function t(t,e){t[e]=function(){var n=arguments;return t.ready().then(function(){return t[e].apply(t,n)})}}function e(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var n in e)e.hasOwnProperty(n)&&(arguments[0][n]=d(e[n])?e[n].slice():e[n])}return arguments[0]}function n(t){for(var e in s)if(s.hasOwnProperty(e)&&s[e]===t)return!0;return!1}function r(n){this._config=e({},c,n),this._driverSet=null,this._ready=!1,this._dbInfo=null;for(var r=0;r<u.length;r++)t(this,u[r]);this.setDriver(this._config.driver)}var i="undefined"!=typeof module&&module.exports&&"undefined"!=typeof require?require("promise"):this.Promise,o={},s={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage"},a=[s.INDEXEDDB,s.WEBSQL,s.LOCALSTORAGE],u=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],l={DEFINE:1,EXPORT:2,WINDOW:3},c={description:"",driver:a.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},h=l.WINDOW;"undefined"!=typeof module&&module.exports&&"undefined"!=typeof require?h=l.EXPORT:"function"==typeof define&&define.amd&&(h=l.DEFINE);var f=function(t){var e=e||t.indexedDB||t.webkitIndexedDB||t.mozIndexedDB||t.OIndexedDB||t.msIndexedDB,n={};return n[s.WEBSQL]=!!t.openDatabase,n[s.INDEXEDDB]=!!function(){if("undefined"!=typeof t.openDatabase&&t.navigator&&t.navigator.userAgent&&/Safari/.test(t.navigator.userAgent)&&!/Chrome/.test(t.navigator.userAgent))return!1;try{return e&&"function"==typeof e.open&&"undefined"!=typeof t.IDBKeyRange}catch(n){return!1}}(),n[s.LOCALSTORAGE]=!!function(){try{return t.localStorage&&"setItem"in t.localStorage&&t.localStorage.setItem}catch(e){return!1}}(),n}(this),d=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},p=this;r.prototype.INDEXEDDB=s.INDEXEDDB,r.prototype.LOCALSTORAGE=s.LOCALSTORAGE,r.prototype.WEBSQL=s.WEBSQL,r.prototype.config=function(t){if("object"==typeof t){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t)"storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),this._config[e]=t[e];return"driver"in t&&t.driver&&this.setDriver(this._config.driver),!0}return"string"==typeof t?this._config[t]:this._config},r.prototype.defineDriver=function(t,e,r){var s=new i(function(e,r){try{var s=t._driver,a=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver"),l=new Error("Custom driver name already in use: "+t._driver);if(!t._driver)return void r(a);if(n(t._driver))return void r(l);for(var c=u.concat("_initStorage"),h=0;h<c.length;h++){var d=c[h];if(!d||!t[d]||"function"!=typeof t[d])return void r(a)}var p=i.resolve(!0);"_support"in t&&(p=t._support&&"function"==typeof t._support?t._support():i.resolve(!!t._support)),p.then(function(n){f[s]=n,o[s]=t,e()},r)}catch(g){r(g)}});return s.then(e,r),s},r.prototype.driver=function(){return this._driver||null},r.prototype.ready=function(t){var e=this,n=new i(function(t,n){e._driverSet.then(function(){null===e._ready&&(e._ready=e._initStorage(e._config)),e._ready.then(t,n)})["catch"](n)});return n.then(t,t),n},r.prototype.setDriver=function(t,e,r){function s(){a._config.driver=a.driver()}var a=this;return"string"==typeof t&&(t=[t]),this._driverSet=new i(function(e,r){var s=a._getFirstSupportedDriver(t),u=new Error("No available storage method found.");if(!s)return a._driverSet=i.reject(u),void r(u);if(a._dbInfo=null,a._ready=null,n(s)){var c=new i(function(t){if(h===l.DEFINE)require([s],t);else if(h===l.EXPORT)switch(s){case a.INDEXEDDB:t(require("./drivers/indexeddb"));break;case a.LOCALSTORAGE:t(require("./drivers/localstorage"));break;case a.WEBSQL:t(require("./drivers/websql"))}else t(p[s])});c.then(function(t){a._extend(t),e()})}else o[s]?(a._extend(o[s]),e()):(a._driverSet=i.reject(u),r(u))}),this._driverSet.then(s,s),this._driverSet.then(e,r),this._driverSet},r.prototype.supports=function(t){return!!f[t]},r.prototype._extend=function(t){e(this,t)},r.prototype._getFirstSupportedDriver=function(t){if(t&&d(t))for(var e=0;e<t.length;e++){var n=t[e];if(this.supports(n))return n}return null},r.prototype.createInstance=function(t){return new r(t)};var g=new r;h===l.DEFINE?define("localforage",function(){return g}):h===l.EXPORT?module.exports=g:this.localforage=g}.call(window),function(t,e){if("function"==typeof define&&define.amd)define("backbone.localforage",["localforage","backbone","underscore"],e);else if("undefined"!=typeof module&&module.exports){var n=require("localforage"),r=require("backbone"),i=require("underscore");module.exports=e(n,r,i)}else e(t.localforage,t.Backbone,t._)}(this,function(t,e,n){function r(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function i(){return r()+r()+"-"+r()+"-"+r()+"-"+r()+"-"+r()+r()+r()}function o(e,r,i,o){if(e){var a=e.map(function(t){return e.model.prototype.sync._localforageNamespace+"/"+t.id});r=r?n.partial(r,i,o):void 0,e.sync.localforageKey||s(e),t.setItem(e.sync.localforageKey,a,r)}}function s(t){t instanceof e.Collection?t.sync.localforageKey=t.sync._localforageNamespace:(t.id||(t[t.idAttribute]=t.attributes[t.idAttribute]=i()),t.sync.localforageKey=t.sync._localforageNamespace+"/"+t.id)}return e.localforage={localforageInstance:t,sync:function(t){var e=this,n=function(t,n,r){switch(s(n),t){case"read":return n.id?e.find(n,r):e.findAll(n,r);case"create":return e.create(n,r);case"update":return e.update(n,r);case"delete":return e.destroy(n,r)}};return n._localforageNamespace=t,n._localeForageKeyFn=s,n},save:function(e,n){t.setItem(e.sync.localforageKey,e.toJSON(),function(t,r){e.collection?o(e.collection,n,t,r):n&&n(r)})},create:function(t,e){return this.update(t,e)},update:function(t,e){this.save(t,function(t){e.success&&e.success(t)})},find:function(e,r){t.getItem(e.sync.localforageKey,function(t,e){t||n.isEmpty(e)?r.error&&r.error():r.success&&r.success(e)})},findAll:function(e,r){t.getItem(e.sync.localforageKey,function(e,i){if(!e&&i&&i.length){var o=function(){r.success&&r.success(i)};o=n.after(i.length,o);for(var s=function(t,e,n){i[t]=n,o()},a=0;a<i.length;++a)t.getItem(i[a],n.partial(s,a))}else i=[],r.success&&r.success(i)})},destroy:function(e,n){var r=e.collection;t.removeItem(e.sync.localforageKey,function(){r?o(r,n.success,null,e.toJSON()):n.success&&n.success(e.toJSON())})}},e.localforage}),define("models/cache",["backbone","backbone.localforage"],function(t){var e=t.Model.extend({id:"default",sync:t.localforage.sync("cache"),defaults:{taskLevels:[0,-1,-1,-1,-1,-1,-1,-1,-1,-1]},initialize:function(){this.on("change",function(t){var e=t.get("levelId"),n=t.get("taskLevels");n[0]=e,t.save()})}});return new e});var Huffman;Huffman={treeFromText:function(t){var e;return e=new Huffman.TreeBuilder(t),e.build()}},Huffman.CoreHelpers={isArray:function(t){return!(!t||t.constructor!==Array)},lpad:function(t,e){for(e=e||8;t.length<e;)t="0"+t;return t}},Huffman.Tree=function(t){return this.root=t,this.root=this.root||new Huffman.Tree.Node,this},Huffman.Tree.prototype.encode=function(t){return this.bitStringToString(this.encodeBitString(t))},Huffman.Tree.prototype.decode=function(t){var e,n,r,i,o,s,a,u;for(i=this.stringToBitString(t),s="",u=this.root,n=i.split(""),e=0,r=n.length;r>e;e++)a=n[e],o="0"===a?"left":"right",u=u[o],u.isLeaf()&&(s+=u.value,u=this.root);return s},Huffman.Tree.prototype.encodeBitString=function(t){var e,n,r,i,o;for(o="",n=t.split(""),e=0,r=n.length;r>e;e++)i=n[e],o+=this.bitValue(i);return o},Huffman.Tree.prototype.bitStringToString=function(t){var e,n,r,i,o;for(o=8-t.length%8,i=0;o>=0?o>i:i>o;o>=0?i+=1:i-=1)t+="0";return r=function(){for(e=[],n=t.length,i=0;n>=0?n>i:i>n;i+=8)e.push(String.fromCharCode(parseInt(t.substr(i,8),2)));return e}(),r.join("")+o.toString()},Huffman.Tree.prototype.stringToBitString=function(t){var e,n,r,i,o,s,a;return a=t.split(""),s=parseInt(a.pop()),a=function(){for(e=[],r=a,n=0,i=r.length;i>n;n++)o=r[n],e.push(Huffman.CoreHelpers.lpad(o.charCodeAt(0).toString(2)));return e}(),a=a.join(""),a.substr(0,a.length-s)},Huffman.Tree.prototype.bitValue=function(t){var e;return("undefined"==typeof(e=this.leafCache)||null===e)&&this.generateLeafCache(),this.leafCache[t]},Huffman.Tree.prototype.generateLeafCache=function(t,e){return this.leafCache="undefined"!=typeof this.leafCache&&null!==this.leafCache?this.leafCache:{},t=t||this.root,e=e||"",t.isLeaf()?this.leafCache[t.value]=e:(this.generateLeafCache(t.left,e+"0"),this.generateLeafCache(t.right,e+"1"))},Huffman.Tree.prototype.encodeTree=function(){return this.root.encode()},Huffman.Tree.decodeTree=function(t){return new Huffman.Tree(Huffman.Tree.parseNode(t))},Huffman.Tree.parseNode=function(t){var e;return e=new Huffman.Tree.Node,Huffman.CoreHelpers.isArray(t)?(e.left=Huffman.Tree.parseNode(t[0]),e.right=Huffman.Tree.parseNode(t[1])):e.value=t,e},Huffman.Tree.Node=function(){return this.left=this.right=this.value=null,this},Huffman.Tree.Node.prototype.isLeaf=function(){return this.left===this.right&&null===this.right},Huffman.Tree.Node.prototype.encode=function(){return this.value?this.value:[this.left.encode(),this.right.encode()]};var __hasProp=Object.prototype.hasOwnProperty;Huffman.TreeBuilder=function(t){return this.text=t,this},Huffman.TreeBuilder.prototype.build=function(){var t,e;return e=this.buildFrequencyTable(),t=this.combineTable(e),Huffman.Tree.decodeTree(this.compressCombinedTable(t))},Huffman.TreeBuilder.prototype.buildFrequencyTable=function(){var t,e,n,r,i,o,s,a;for(a={},e=this.text.split(""),t=0,n=e.length;n>t;t++)i=e[t],a[i]="undefined"!=typeof a[i]&&null!==a[i]?a[i]:0,a[i]+=1;s=[],r=a;for(i in r)__hasProp.call(r,i)&&(o=r[i],s.push([o,i]));return s.sort(this.frequencySorter),s},Huffman.TreeBuilder.prototype.frequencySorter=function(t,e){return t[0]>e[0]?1:t[0]<e[0]?-1:0},Huffman.TreeBuilder.prototype.combineTable=function(t){for(var e,n;t.length>1;)e=t.shift(),n=t.shift(),t.push([e[0]+n[0],[e,n]]),t.sort(this.frequencySorter);return t[0]},Huffman.TreeBuilder.prototype.compressCombinedTable=function(t){var e;return e=t[1],Huffman.CoreHelpers.isArray(e)?[this.compressCombinedTable(e[0]),this.compressCombinedTable(e[1])]:e},define("huffman",function(t){return function(){var e;return e||t.Huffman}}(this)),define("util/datautil",["huffman"],function(t){return{encode:function(e){var n=window.btoa,r=t.treeFromText(e),i=n(JSON.stringify(r.encodeTree())),o=n(r.encode(e));return i+":"+o},decode:function(e){var n=window.atob,r=e.split(":"),i=t.Tree.decodeTree(JSON.parse(n(r[0])));return i.decode(n(r[1]))}}}),function(){var t=this,e=function(e,n){var r=e.split("."),i=window||t;r[0]in i||!i.execScript||i.execScript("var "+r[0]);for(var o;r.length&&(o=r.shift());)r.length||void 0===n?i=i[o]?i[o]:i[o]={}:i[o]=n},n=function(t){var e=chrome.runtime.connect("nmmhkkegccagdldgiimedpiccmgmieda",{}),n=!1;e.onMessage.addListener(function(e){n=!0,"response"in e&&!("errorType"in e.response)?t.success&&t.success(e):t.failure&&t.failure(e)}),e.onDisconnect.addListener(function(){!n&&t.failure&&t.failure({request:{},response:{errorType:"INTERNAL_SERVER_ERROR"}})}),e.postMessage(t)};e("google.payments.inapp.buy",function(t){t.method="buy",n(t)}),e("google.payments.inapp.consumePurchase",function(t){t.method="consumePurchase",n(t)}),e("google.payments.inapp.getPurchases",function(t){t.method="getPurchases",n(t)}),e("google.payments.inapp.getSkuDetails",function(t){t.method="getSkuDetails",n(t)})}(),define("google.payments",function(t){return function(){var e;return e||t.google.payments}}(this)),function(t){define("platform",["lodash","jquery","models/cache","util/datautil","google.payments"],function(e,n,r,i,o){var s={};return s.getAppName=function(){return t.runtime.getManifest().name},s.getVersion=function(){return t.runtime.getManifest().version_name},s.getSellingItems=function(){var t,e,s=n.Deferred();return e=r.get("sellingItemsData"),e?(t=JSON.parse(i.decode(e)),s.resolve(t)):o.inapp.getSkuDetails({parameters:{env:"prod"},success:function(n){t=n.response.details.inAppProducts,e=i.encode(JSON.stringify(t)),r.set("sellingItemsData",e),s.resolve(t)},failure:function(){console.error("=> Get items failure:",arguments),s.reject(arguments)}}),s.promise()},s.buy=function(t){var e=n.Deferred();return o.inapp.buy({parameters:{env:"prod"},sku:t,success:function(){e.resolve(arguments)},failure:function(){console.error("=> Buy item failure:",arguments),e.reject(arguments)}}),e.promise()},s.use=function(t){var e=n.Deferred();return o.inapp.consumePurchase({parameters:{env:"prod"},sku:t,success:function(){console.log("use success:",arguments),e.resolve(arguments)},failure:function(){console.log("use failure:",arguments),e.reject(arguments)}}),e.promise()},s.getPurchases=function(){var t,e,s=n.Deferred();return e=r.get("purchasesData"),e?(t=JSON.parse(i.decode(e)),s.resolve(t)):o.inapp.getPurchases({parameters:{env:"prod"},success:function(n){t=n.response.details,e=i.encode(JSON.stringify(t)),r.set("purchasesData",e),s.resolve(t)},failure:function(){console.error("=> Get purchases failure:",arguments),s.reject(arguments)}}),s.promise()},s.getItemPurchaseState=function(t){var r=n.Deferred();return s.getPurchases().then(function(n){var i=e.findWhere(n,{sku:t});r.resolve(i?!0:!1)},function(){r.resolve(!1)}),r.promise()},s})}(chrome),define("models/level",["backbone","backbone.localforage"],function(t){return t.Model.extend({sync:t.localforage.sync("level"),urlRoot:"/level"})}),define("collections/levels",["backbone","models/level","backbone.localforage"],function(t,e){return t.Collection.extend({model:e,url:function(){return"/album/"+this.albumId+"/levels"},initialize:function(e,n){this.albumId=n.albumId,this.sync=t.localforage.sync("album/"+this.albumId+"/levels")}})}),define("lib/require-css/normalize",[],function(){function t(t,r,i){if(t.match(a)||t.match(s))return t;t=o(t);var u=i.match(s),l=r.match(s);return!l||u&&u[1]==l[1]&&u[2]==l[2]?n(e(t,r),i):e(t,r)}function e(t,e){if("./"==t.substr(0,2)&&(t=t.substr(2)),t.match(a)||t.match(s))return t;var n=e.split("/"),r=t.split("/");for(n.pop();curPart=r.shift();)".."==curPart?n.pop():n.push(curPart);return n.join("/")}function n(t,e){var n=e.split("/");for(n.pop(),e=n.join("/")+"/",i=0;e.substr(i,1)==t.substr(i,1);)i++;for(;"/"!=e.substr(i,1);)i--;e=e.substr(i+1),t=t.substr(i+1),n=e.split("/");var r=t.split("/");for(out="";n.shift();)out+="../";for(;curPart=r.shift();)out+=curPart+"/";return out.substr(0,out.length-1)}var r=/([^:])\/+/g,o=function(t){return t.replace(r,"$1/")},s=/[^\:\/]*:\/\/([^\/])*/,a=/^(\/|data:)/,u=function(e,n,r){n=o(n),r=o(r);for(var i,s,e,a=/@import\s*("([^"]*)"|'([^']*)')|url\s*\((?!#)\s*(\s*"([^"]*)"|'([^']*)'|[^\)]*\s*)\s*\)/gi;i=a.exec(e);){s=i[3]||i[2]||i[5]||i[6]||i[4];var u;u=t(s,n,r);var l=i[5]||i[6]?1:0;e=e.substr(0,a.lastIndex-s.length-l-1)+u+e.substr(a.lastIndex-l-1),a.lastIndex=a.lastIndex+(u.length-s.length)}return e};return u.convertURIBase=t,u.absoluteURI=e,u.relativeURI=n,u}),define("lib/require-css/css",[],function(){if("undefined"==typeof window)return{load:function(t,e,n){n()}};var t=document.getElementsByTagName("head")[0],e=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)|AndroidWebKit\/([^ ;]*)/)||0,n=!1,r=!0;e[1]||e[7]?n=parseInt(e[1])<6||parseInt(e[7])<=9:e[2]||e[8]?r=!1:e[4]&&(n=parseInt(e[4])<18);var i={};i.pluginBuilder="./css-builder";var o,s,a,u=function(){o=document.createElement("style"),t.appendChild(o),s=o.styleSheet||o.sheet},l=0,c=[],h=function(t){l++,32==l&&(u(),l=0),s.addImport(t),o.onload=function(){f()}},f=function(){a();var t=c.shift();return t?(a=t[1],void h(t[0])):void(a=null)},d=function(t,e){if(s&&s.addImport||u(),s&&s.addImport)a?c.push([t,e]):(h(t),a=e);else{o.textContent='@import "'+t+'";';var n=setInterval(function(){try{o.sheet.cssRules,clearInterval(n),e()}catch(t){}},10)}},p=function(e,n){var i=document.createElement("link");if(i.type="text/css",i.rel="stylesheet",r)i.onload=function(){i.onload=function(){},setTimeout(n,7)};else var o=setInterval(function(){for(var t=0;t<document.styleSheets.length;t++){var e=document.styleSheets[t];if(e.href==i.href)return clearInterval(o),n()}},10);i.href=e,t.appendChild(i)};return i.normalize=function(t,e){return".css"==t.substr(t.length-4,4)&&(t=t.substr(0,t.length-4)),e(t)},i.load=function(t,e,r){(n?d:p)(e.toUrl(t+".css"),r)},i}),define("lib/require-css/css!assets/style",[],function(){}),function(t){var e,n,r="0.4.2",i="hasOwnProperty",o=/[\.\/]/,s=/\s*,\s*/,a="*",u=function(t,e){return t-e},l={n:{}},c=function(){for(var t=0,e=this.length;e>t;t++)if("undefined"!=typeof this[t])return this[t]},h=function(){for(var t=this.length;--t;)if("undefined"!=typeof this[t])return this[t]},f=function(t,r){t=String(t);var i,o=n,s=Array.prototype.slice.call(arguments,2),a=f.listeners(t),l=0,d=[],p={},g=[],v=e;g.firstDefined=c,g.lastDefined=h,e=t,n=0;for(var m=0,y=a.length;y>m;m++)"zIndex"in a[m]&&(d.push(a[m].zIndex),a[m].zIndex<0&&(p[a[m].zIndex]=a[m]));for(d.sort(u);d[l]<0;)if(i=p[d[l++]],g.push(i.apply(r,s)),n)return n=o,g;for(m=0;y>m;m++)if(i=a[m],"zIndex"in i)if(i.zIndex==d[l]){if(g.push(i.apply(r,s)),n)break;do if(l++,i=p[d[l]],i&&g.push(i.apply(r,s)),n)break;while(i)}else p[i.zIndex]=i;else if(g.push(i.apply(r,s)),n)break;return n=o,e=v,g};f._events=l,f.listeners=function(t){var e,n,r,i,s,u,c,h,f=t.split(o),d=l,p=[d],g=[];for(i=0,s=f.length;s>i;i++){for(h=[],u=0,c=p.length;c>u;u++)for(d=p[u].n,n=[d[f[i]],d[a]],r=2;r--;)e=n[r],e&&(h.push(e),g=g.concat(e.f||[]));p=h}return g},f.on=function(t,e){if(t=String(t),"function"!=typeof e)return function(){};for(var n=t.split(s),r=0,i=n.length;i>r;r++)!function(t){for(var n,r=t.split(o),i=l,s=0,a=r.length;a>s;s++)i=i.n,i=i.hasOwnProperty(r[s])&&i[r[s]]||(i[r[s]]={n:{}});for(i.f=i.f||[],s=0,a=i.f.length;a>s;s++)if(i.f[s]==e){n=!0;break}!n&&i.f.push(e)}(n[r]);return function(t){+t==+t&&(e.zIndex=+t)}},f.f=function(t){var e=[].slice.call(arguments,1);return function(){f.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},f.stop=function(){n=1},f.nt=function(t){return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(e):e},f.nts=function(){return e.split(o)},f.off=f.unbind=function(t,e){if(!t)return void(f._events=l={n:{}});var n=t.split(s);if(n.length>1)for(var r=0,u=n.length;u>r;r++)f.off(n[r],e);else{n=t.split(o);var c,h,d,r,u,p,g,v=[l];for(r=0,u=n.length;u>r;r++)for(p=0;p<v.length;p+=d.length-2){if(d=[p,1],c=v[p].n,n[r]!=a)c[n[r]]&&d.push(c[n[r]]);else for(h in c)c[i](h)&&d.push(c[h]);v.splice.apply(v,d)}for(r=0,u=v.length;u>r;r++)for(c=v[r];c.n;){if(e){if(c.f){for(p=0,g=c.f.length;g>p;p++)if(c.f[p]==e){c.f.splice(p,1);break}!c.f.length&&delete c.f}for(h in c.n)if(c.n[i](h)&&c.n[h].f){var m=c.n[h].f;for(p=0,g=m.length;g>p;p++)if(m[p]==e){m.splice(p,1);break}!m.length&&delete c.n[h].f}}else{delete c.f;for(h in c.n)c.n[i](h)&&c.n[h].f&&delete c.n[h].f}c=c.n}}},f.once=function(t,e){var n=function(){return f.unbind(t,n),e.apply(this,arguments)};return f.on(t,n)},f.version=r,f.toString=function(){return"You are running Eve "+r},"undefined"!=typeof module&&module.exports?module.exports=f:"function"==typeof define&&define.amd?define("eve",[],function(){return f}):t.eve=f}(this),function(t,e){if("function"==typeof define&&define.amd)define("snap.svg",["eve"],function(n){return e(t,n)});else if("undefined"!=typeof exports){var n=require("eve");module.exports=e(t,n)}else e(t,t.eve)}(window||this,function(t,e){var n=function(e){var n={},r=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(t){setTimeout(t,16)},i=Array.isArray||function(t){return t instanceof Array||"[object Array]"==Object.prototype.toString.call(t)},o=0,s="M"+(+new Date).toString(36),a=function(){return s+(o++).toString(36)},u=Date.now||function(){return+new Date},l=function(t){var e=this;if(null==t)return e.s;var n=e.s-t;e.b+=e.dur*n,e.B+=e.dur*n,e.s=t},c=function(t){var e=this;return null==t?e.spd:void(e.spd=t)},h=function(t){var e=this;return null==t?e.dur:(e.s=e.s*t/e.dur,void(e.dur=t))},f=function(){var t=this;delete n[t.id],t.update(),e("mina.stop."+t.id,t)},d=function(){var t=this;t.pdif||(delete n[t.id],t.update(),t.pdif=t.get()-t.b)},p=function(){var t=this;t.pdif&&(t.b=t.get()-t.pdif,delete t.pdif,n[t.id]=t)},g=function(){var t,e=this;if(i(e.start)){t=[];for(var n=0,r=e.start.length;r>n;n++)t[n]=+e.start[n]+(e.end[n]-e.start[n])*e.easing(e.s)}else t=+e.start+(e.end-e.start)*e.easing(e.s);e.set(t)},v=function(){var t=0;for(var i in n)if(n.hasOwnProperty(i)){var o=n[i],s=o.get();t++,o.s=(s-o.b)/(o.dur/o.spd),o.s>=1&&(delete n[i],o.s=1,t--,function(t){setTimeout(function(){e("mina.finish."+t.id,t)})}(o)),o.update()}t&&r(v)},m=function(t,e,i,o,s,u,y){var x={id:a(),start:t,end:e,b:i,s:0,dur:o-i,spd:1,get:s,set:u,easing:y||m.linear,status:l,speed:c,duration:h,stop:f,pause:d,resume:p,update:g};n[x.id]=x;var b,w=0;for(b in n)if(n.hasOwnProperty(b)&&(w++,2==w))break;return 1==w&&r(v),x};return m.time=u,m.getById=function(t){return n[t]||null},m.linear=function(t){return t},m.easeout=function(t){return Math.pow(t,1.7)},m.easein=function(t){return Math.pow(t,.48)},m.easeinout=function(t){if(1==t)return 1;if(0==t)return 0;var e=.48-t/1.04,n=Math.sqrt(.1734+e*e),r=n-e,i=Math.pow(Math.abs(r),1/3)*(0>r?-1:1),o=-n-e,s=Math.pow(Math.abs(o),1/3)*(0>o?-1:1),a=i+s+.5;
return 3*(1-a)*a*a+a*a*a},m.backin=function(t){if(1==t)return 1;var e=1.70158;return t*t*((e+1)*t-e)},m.backout=function(t){if(0==t)return 0;t-=1;var e=1.70158;return t*t*((e+1)*t+e)+1},m.elastic=function(t){return t==!!t?t:Math.pow(2,-10*t)*Math.sin(2*(t-.075)*Math.PI/.3)+1},m.bounce=function(t){var e,n=7.5625,r=2.75;return 1/r>t?e=n*t*t:2/r>t?(t-=1.5/r,e=n*t*t+.75):2.5/r>t?(t-=2.25/r,e=n*t*t+.9375):(t-=2.625/r,e=n*t*t+.984375),e},t.mina=m,m}("undefined"==typeof e?function(){}:e),r=function(t){function n(t,e){if(t){if(t.nodeType)return _(t);if(i(t,"array")&&n.set)return n.set.apply(n,t);if(t instanceof y)return t;if(null==e)return t=L.doc.querySelector(String(t)),_(t)}return t=null==t?"100%":t,e=null==e?"100%":e,new w(t,e)}function r(t,e){if(e){if("#text"==t&&(t=L.doc.createTextNode(e.text||e["#text"]||"")),"#comment"==t&&(t=L.doc.createComment(e.text||e["#text"]||"")),"string"==typeof t&&(t=r(t)),"string"==typeof e)return 1==t.nodeType?"xlink:"==e.substring(0,6)?t.getAttributeNS(U,e.substring(6)):"xml:"==e.substring(0,4)?t.getAttributeNS(W,e.substring(4)):t.getAttribute(e):"text"==e?t.nodeValue:null;if(1==t.nodeType){for(var n in e)if(e[E](n)){var i=S(e[n]);i?"xlink:"==n.substring(0,6)?t.setAttributeNS(U,n.substring(6),i):"xml:"==n.substring(0,4)?t.setAttributeNS(W,n.substring(4),i):t.setAttribute(n,i):t.removeAttribute(n)}}else"text"in e&&(t.nodeValue=e.text)}else t=L.doc.createElementNS(W,t);return t}function i(t,e){return e=S.prototype.toLowerCase.call(e),"finite"==e?isFinite(t):"array"==e&&(t instanceof Array||Array.isArray&&Array.isArray(t))?!0:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||j.call(t).slice(8,-1).toLowerCase()==e}function o(t){if("function"==typeof t||Object(t)!==t)return t;var e=new t.constructor;for(var n in t)t[E](n)&&(e[n]=o(t[n]));return e}function s(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return t.push(t.splice(n,1)[0])}function a(t,e,n){function r(){var i=Array.prototype.slice.call(arguments,0),o=i.join(""),a=r.cache=r.cache||{},u=r.count=r.count||[];return a[E](o)?(s(u,o),n?n(a[o]):a[o]):(u.length>=1e3&&delete a[u.shift()],u.push(o),a[o]=t.apply(e,i),n?n(a[o]):a[o])}return r}function u(t,e,n,r,i,o){if(null==i){var s=t-n,a=e-r;return s||a?(180+180*k.atan2(-a,-s)/D+360)%360:0}return u(t,e,i,o)-u(n,r,i,o)}function l(t){return t%360*D/180}function c(t){return 180*t/D%360}function h(t){var e=[];return t=t.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(t,n,r){return r=r.split(/\s*,\s*|\s+/),"rotate"==n&&1==r.length&&r.push(0,0),"scale"==n&&(r.length>2?r=r.slice(0,2):2==r.length&&r.push(0,0),1==r.length&&r.push(r[0],0,0)),e.push("skewX"==n?["m",1,0,k.tan(l(r[0])),1,0,0]:"skewY"==n?["m",1,k.tan(l(r[0])),0,1,0,0]:[n.charAt(0)].concat(r)),t}),e}function f(t,e){var r=te(t),i=new n.Matrix;if(r)for(var o=0,s=r.length;s>o;o++){var a,u,l,c,h,f=r[o],d=f.length,p=S(f[0]).toLowerCase(),g=f[0]!=p,v=g?i.invert():0;"t"==p&&2==d?i.translate(f[1],0):"t"==p&&3==d?g?(a=v.x(0,0),u=v.y(0,0),l=v.x(f[1],f[2]),c=v.y(f[1],f[2]),i.translate(l-a,c-u)):i.translate(f[1],f[2]):"r"==p?2==d?(h=h||e,i.rotate(f[1],h.x+h.width/2,h.y+h.height/2)):4==d&&(g?(l=v.x(f[2],f[3]),c=v.y(f[2],f[3]),i.rotate(f[1],l,c)):i.rotate(f[1],f[2],f[3])):"s"==p?2==d||3==d?(h=h||e,i.scale(f[1],f[d-1],h.x+h.width/2,h.y+h.height/2)):4==d?g?(l=v.x(f[2],f[3]),c=v.y(f[2],f[3]),i.scale(f[1],f[1],l,c)):i.scale(f[1],f[1],f[2],f[3]):5==d&&(g?(l=v.x(f[3],f[4]),c=v.y(f[3],f[4]),i.scale(f[1],f[2],l,c)):i.scale(f[1],f[2],f[3],f[4])):"m"==p&&7==d&&i.add(f[1],f[2],f[3],f[4],f[5],f[6])}return i}function d(t){var e=t.node.ownerSVGElement&&_(t.node.ownerSVGElement)||t.node.parentNode&&_(t.node.parentNode)||n.select("svg")||n(0,0),r=e.select("defs"),i=null==r?!1:r.node;return i||(i=b("defs",e.node).node),i}function p(t){return t.node.ownerSVGElement&&_(t.node.ownerSVGElement)||n.select("svg")}function v(t,e,n){function i(t){if(null==t)return O;if(t==+t)return t;r(l,{width:t});try{return l.getBBox().width}catch(e){return 0}}function o(t){if(null==t)return O;if(t==+t)return t;r(l,{height:t});try{return l.getBBox().height}catch(e){return 0}}function s(r,i){null==e?u[r]=i(t.attr(r)||0):r==e&&(u=i(null==n?t.attr(r)||0:n))}var a=p(t).node,u={},l=a.querySelector(".svg---mgr");switch(l||(l=r("rect"),r(l,{x:-9e9,y:-9e9,width:10,height:10,"class":"svg---mgr",fill:"none"}),a.appendChild(l)),t.type){case"rect":s("rx",i),s("ry",o);case"image":s("width",i),s("height",o);case"text":s("x",i),s("y",o);break;case"circle":s("cx",i),s("cy",o),s("r",i);break;case"ellipse":s("cx",i),s("cy",o),s("rx",i),s("ry",o);break;case"line":s("x1",i),s("x2",i),s("y1",o),s("y2",o);break;case"marker":s("refX",i),s("markerWidth",i),s("refY",o),s("markerHeight",o);break;case"radialGradient":s("fx",i),s("fy",o);break;case"tspan":s("dx",i),s("dy",o);break;default:s(e,i)}return a.removeChild(l),u}function m(t){i(t,"array")||(t=Array.prototype.slice.call(arguments,0));for(var e=0,n=0,r=this.node;this[e];)delete this[e++];for(e=0;e<t.length;e++)"set"==t[e].type?t[e].forEach(function(t){r.appendChild(t.node)}):r.appendChild(t[e].node);var o=r.childNodes;for(e=0;e<o.length;e++)this[n++]=_(o[e]);return this}function y(t){if(t.snap in X)return X[t.snap];var e;try{e=t.ownerSVGElement}catch(n){}this.node=t,e&&(this.paper=new w(e)),this.type=t.tagName||t.nodeName;var r=this.id=H(this);if(this.anims={},this._={transform:[]},t.snap=r,X[r]=this,"g"==this.type&&(this.add=m),this.type in{g:1,mask:1,pattern:1,symbol:1})for(var i in w.prototype)w.prototype[E](i)&&(this[i]=w.prototype[i])}function x(t){this.node=t}function b(t,e){var n=r(t);e.appendChild(n);var i=_(n);return i}function w(t,e){var n,i,o,s=w.prototype;if(t&&"svg"==t.tagName){if(t.snap in X)return X[t.snap];var a=t.ownerDocument;n=new y(t),i=t.getElementsByTagName("desc")[0],o=t.getElementsByTagName("defs")[0],i||(i=r("desc"),i.appendChild(a.createTextNode("Created with Snap")),n.node.appendChild(i)),o||(o=r("defs"),n.node.appendChild(o)),n.defs=o;for(var u in s)s[E](u)&&(n[u]=s[u]);n.paper=n.root=n}else n=b("svg",L.doc.body),r(n.node,{height:e,version:1.1,width:t,xmlns:W});return n}function _(t){return t?t instanceof y||t instanceof x?t:t.tagName&&"svg"==t.tagName.toLowerCase()?new w(t):t.tagName&&"object"==t.tagName.toLowerCase()&&"image/svg+xml"==t.type?new w(t.contentDocument.getElementsByTagName("svg")[0]):new y(t):t}function C(t,e){for(var n=0,r=t.length;r>n;n++){var i={type:t[n].type,attr:t[n].attr()},o=t[n].children();e.push(i),o.length&&C(o,i.childNodes=[])}}n.version="0.4.0",n.toString=function(){return"Snap v"+this.version},n._={};var L={win:t.window,doc:t.window.document};n._.glob=L;{var E="hasOwnProperty",S=String,T=parseFloat,M=parseInt,k=Math,z=k.max,I=k.min,A=k.abs,D=(k.pow,k.PI),O=(k.round,""),j=Object.prototype.toString,N=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i,R=(n._.separator=/[,\s]+/,/[\s]*,[\s]*/),P={hs:1,rg:1},q=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,V=/([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,B=/(-?\d*\.?\d*(?:e[\-+]?\\d+)?)[\s]*,?[\s]*/gi,F=0,$="S"+(+new Date).toString(36),H=function(t){return(t&&t.type?t.type:O)+$+(F++).toString(36)},U="http://www.w3.org/1999/xlink",W="http://www.w3.org/2000/svg",X={};n.url=function(t){return"url('#"+t+"')"}}n._.$=r,n._.id=H,n.format=function(){var t=/\{([^\}]+)\}/g,e=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,n=function(t,n,r){var i=r;return n.replace(e,function(t,e,n,r,o){e=e||r,i&&(e in i&&(i=i[e]),"function"==typeof i&&o&&(i=i()))}),i=(null==i||i==r?t:i)+""};return function(e,r){return S(e).replace(t,function(t,e){return n(t,e,r)})}}(),n._.clone=o,n._.cacher=a,n.rad=l,n.deg=c,n.sin=function(t){return k.sin(n.rad(t))},n.tan=function(t){return k.tan(n.rad(t))},n.cos=function(t){return k.cos(n.rad(t))},n.asin=function(t){return n.deg(k.asin(t))},n.acos=function(t){return n.deg(k.acos(t))},n.atan=function(t){return n.deg(k.atan(t))},n.atan2=function(t){return n.deg(k.atan2(t))},n.angle=u,n.len=function(t,e,r,i){return Math.sqrt(n.len2(t,e,r,i))},n.len2=function(t,e,n,r){return(t-n)*(t-n)+(e-r)*(e-r)},n.closestPoint=function(t,e,n){function r(t){var r=t.x-e,i=t.y-n;return r*r+i*i}for(var i,o,s,a,u=t.node,l=u.getTotalLength(),c=l/u.pathSegList.numberOfItems*.125,h=1/0,f=0;l>=f;f+=c)(a=r(s=u.getPointAtLength(f)))<h&&(i=s,o=f,h=a);for(c*=.5;c>.5;){var d,p,g,v,m,y;(g=o-c)>=0&&(m=r(d=u.getPointAtLength(g)))<h?(i=d,o=g,h=m):(v=o+c)<=l&&(y=r(p=u.getPointAtLength(v)))<h?(i=p,o=v,h=y):c*=.5}return i={x:i.x,y:i.y,length:o,distance:Math.sqrt(h)}},n.is=i,n.snapTo=function(t,e,n){if(n=i(n,"finite")?n:10,i(t,"array")){for(var r=t.length;r--;)if(A(t[r]-e)<=n)return t[r]}else{t=+t;var o=e%t;if(n>o)return e-o;if(o>t-n)return e-o+t}return e},n.getRGB=a(function(t){if(!t||(t=S(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:K};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:K};if(!(P[E](t.toLowerCase().substring(0,2))||"#"==t.charAt())&&(t=G(t)),!t)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:K};var e,r,o,s,a,u,l=t.match(N);return l?(l[2]&&(o=M(l[2].substring(5),16),r=M(l[2].substring(3,5),16),e=M(l[2].substring(1,3),16)),l[3]&&(o=M((a=l[3].charAt(3))+a,16),r=M((a=l[3].charAt(2))+a,16),e=M((a=l[3].charAt(1))+a,16)),l[4]&&(u=l[4].split(R),e=T(u[0]),"%"==u[0].slice(-1)&&(e*=2.55),r=T(u[1]),"%"==u[1].slice(-1)&&(r*=2.55),o=T(u[2]),"%"==u[2].slice(-1)&&(o*=2.55),"rgba"==l[1].toLowerCase().slice(0,4)&&(s=T(u[3])),u[3]&&"%"==u[3].slice(-1)&&(s/=100)),l[5]?(u=l[5].split(R),e=T(u[0]),"%"==u[0].slice(-1)&&(e/=100),r=T(u[1]),"%"==u[1].slice(-1)&&(r/=100),o=T(u[2]),"%"==u[2].slice(-1)&&(o/=100),("deg"==u[0].slice(-3)||""==u[0].slice(-1))&&(e/=360),"hsba"==l[1].toLowerCase().slice(0,4)&&(s=T(u[3])),u[3]&&"%"==u[3].slice(-1)&&(s/=100),n.hsb2rgb(e,r,o,s)):l[6]?(u=l[6].split(R),e=T(u[0]),"%"==u[0].slice(-1)&&(e/=100),r=T(u[1]),"%"==u[1].slice(-1)&&(r/=100),o=T(u[2]),"%"==u[2].slice(-1)&&(o/=100),("deg"==u[0].slice(-3)||""==u[0].slice(-1))&&(e/=360),"hsla"==l[1].toLowerCase().slice(0,4)&&(s=T(u[3])),u[3]&&"%"==u[3].slice(-1)&&(s/=100),n.hsl2rgb(e,r,o,s)):(e=I(k.round(e),255),r=I(k.round(r),255),o=I(k.round(o),255),s=I(z(s,0),1),l={r:e,g:r,b:o,toString:K},l.hex="#"+(16777216|o|r<<8|e<<16).toString(16).slice(1),l.opacity=i(s,"finite")?s:1,l)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:K}},n),n.hsb=a(function(t,e,r){return n.hsb2rgb(t,e,r).hex}),n.hsl=a(function(t,e,r){return n.hsl2rgb(t,e,r).hex}),n.rgb=a(function(t,e,n,r){if(i(r,"finite")){var o=k.round;return"rgba("+[o(t),o(e),o(n),+r.toFixed(2)]+")"}return"#"+(16777216|n|e<<8|t<<16).toString(16).slice(1)});var G=function(t){var e=L.doc.getElementsByTagName("head")[0]||L.doc.getElementsByTagName("svg")[0],n="rgb(255, 0, 0)";return(G=a(function(t){if("red"==t.toLowerCase())return n;e.style.color=n,e.style.color=t;var r=L.doc.defaultView.getComputedStyle(e,O).getPropertyValue("color");return r==n?null:r}))(t)},Y=function(){return"hsb("+[this.h,this.s,this.b]+")"},J=function(){return"hsl("+[this.h,this.s,this.l]+")"},K=function(){return 1==this.opacity||null==this.opacity?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},Q=function(t,e,r){if(null==e&&i(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(r=t.b,e=t.g,t=t.r),null==e&&i(t,string)){var o=n.getRGB(t);t=o.r,e=o.g,r=o.b}return(t>1||e>1||r>1)&&(t/=255,e/=255,r/=255),[t,e,r]},Z=function(t,e,r,o){t=k.round(255*t),e=k.round(255*e),r=k.round(255*r);var s={r:t,g:e,b:r,opacity:i(o,"finite")?o:1,hex:n.rgb(t,e,r),toString:K};return i(o,"finite")&&(s.opacity=o),s};n.color=function(t){var e;return i(t,"object")&&"h"in t&&"s"in t&&"b"in t?(e=n.hsb2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.opacity=1,t.hex=e.hex):i(t,"object")&&"h"in t&&"s"in t&&"l"in t?(e=n.hsl2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.opacity=1,t.hex=e.hex):(i(t,"string")&&(t=n.getRGB(t)),i(t,"object")&&"r"in t&&"g"in t&&"b"in t&&!("error"in t)?(e=n.rgb2hsl(t),t.h=e.h,t.s=e.s,t.l=e.l,e=n.rgb2hsb(t),t.v=e.b):(t={hex:"none"},t.r=t.g=t.b=t.h=t.s=t.v=t.l=-1,t.error=1)),t.toString=K,t},n.hsb2rgb=function(t,e,n,r){i(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(n=t.b,e=t.s,r=t.o,t=t.h),t*=360;var o,s,a,u,l;return t=t%360/60,l=n*e,u=l*(1-A(t%2-1)),o=s=a=n-l,t=~~t,o+=[l,u,0,0,u,l][t],s+=[u,l,l,u,0,0][t],a+=[0,0,u,l,l,u][t],Z(o,s,a,r)},n.hsl2rgb=function(t,e,n,r){i(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(n=t.l,e=t.s,t=t.h),(t>1||e>1||n>1)&&(t/=360,e/=100,n/=100),t*=360;var o,s,a,u,l;return t=t%360/60,l=2*e*(.5>n?n:1-n),u=l*(1-A(t%2-1)),o=s=a=n-l/2,t=~~t,o+=[l,u,0,0,u,l][t],s+=[u,l,l,u,0,0][t],a+=[0,0,u,l,l,u][t],Z(o,s,a,r)},n.rgb2hsb=function(t,e,n){n=Q(t,e,n),t=n[0],e=n[1],n=n[2];var r,i,o,s;return o=z(t,e,n),s=o-I(t,e,n),r=0==s?null:o==t?(e-n)/s:o==e?(n-t)/s+2:(t-e)/s+4,r=(r+360)%6*60/360,i=0==s?0:s/o,{h:r,s:i,b:o,toString:Y}},n.rgb2hsl=function(t,e,n){n=Q(t,e,n),t=n[0],e=n[1],n=n[2];var r,i,o,s,a,u;return s=z(t,e,n),a=I(t,e,n),u=s-a,r=0==u?null:s==t?(e-n)/u:s==e?(n-t)/u+2:(t-e)/u+4,r=(r+360)%6*60/360,o=(s+a)/2,i=0==u?0:.5>o?u/(2*o):u/(2-2*o),{h:r,s:i,l:o,toString:J}},n.parsePathString=function(t){if(!t)return null;var e=n.path(t);if(e.arr)return n.path.clone(e.arr);var r={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},o=[];return i(t,"array")&&i(t[0],"array")&&(o=n.path.clone(t)),o.length||S(t).replace(q,function(t,e,n){var i=[],s=e.toLowerCase();if(n.replace(B,function(t,e){e&&i.push(+e)}),"m"==s&&i.length>2&&(o.push([e].concat(i.splice(0,2))),s="l",e="m"==e?"l":"L"),"o"==s&&1==i.length&&o.push([e,i[0]]),"r"==s)o.push([e].concat(i));else for(;i.length>=r[s]&&(o.push([e].concat(i.splice(0,r[s]))),r[s]););}),o.toString=n.path.toString,e.arr=n.path.clone(o),o};var te=n.parseTransformString=function(t){if(!t)return null;var e=[];return i(t,"array")&&i(t[0],"array")&&(e=n.path.clone(t)),e.length||S(t).replace(V,function(t,n,r){{var i=[];n.toLowerCase()}r.replace(B,function(t,e){e&&i.push(+e)}),e.push([n].concat(i))}),e.toString=n.path.toString,e};n._.svgTransform2string=h,n._.rgTransform=/^[a-z][\s]*-?\.?\d/i,n._.transform2matrix=f,n._unit2px=v;L.doc.contains||L.doc.compareDocumentPosition?function(t,e){var n=9==t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t==r||!(!r||1!=r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e;)if(e=e.parentNode,e==t)return!0;return!1};n._.getSomeDefs=d,n._.getSomeSVG=p,n.select=function(t){return t=S(t).replace(/([^\\]):/g,"$1\\:"),_(L.doc.querySelector(t))},n.selectAll=function(t){for(var e=L.doc.querySelectorAll(t),r=(n.set||Array)(),i=0;i<e.length;i++)r.push(_(e[i]));return r},setInterval(function(){for(var t in X)if(X[E](t)){var e=X[t],n=e.node;("svg"!=e.type&&!n.ownerSVGElement||"svg"==e.type&&(!n.parentNode||"ownerSVGElement"in n.parentNode&&!n.ownerSVGElement))&&delete X[t]}},1e4),y.prototype.attr=function(t,n){var r=this,o=r.node;if(!t){if(1!=o.nodeType)return{text:o.nodeValue};for(var s=o.attributes,a={},u=0,l=s.length;l>u;u++)a[s[u].nodeName]=s[u].nodeValue;return a}if(i(t,"string")){if(!(arguments.length>1))return e("snap.util.getattr."+t,r).firstDefined();var c={};c[t]=n,t=c}for(var h in t)t[E](h)&&e("snap.util.attr."+h,r,t[h]);return r},n.parse=function(t){var e=L.doc.createDocumentFragment(),n=!0,r=L.doc.createElement("div");if(t=S(t),t.match(/^\s*<\s*svg(?:\s|>)/)||(t="<svg>"+t+"</svg>",n=!1),r.innerHTML=t,t=r.getElementsByTagName("svg")[0])if(n)e=t;else for(;t.firstChild;)e.appendChild(t.firstChild);return new x(e)},n.fragment=function(){for(var t=Array.prototype.slice.call(arguments,0),e=L.doc.createDocumentFragment(),r=0,i=t.length;i>r;r++){var o=t[r];o.node&&o.node.nodeType&&e.appendChild(o.node),o.nodeType&&e.appendChild(o),"string"==typeof o&&e.appendChild(n.parse(o).node)}return new x(e)},n._.make=b,n._.wrap=_,w.prototype.el=function(t,e){var n=b(t,this.node);return e&&n.attr(e),n},y.prototype.children=function(){for(var t=[],e=this.node.childNodes,r=0,i=e.length;i>r;r++)t[r]=n(e[r]);return t},y.prototype.toJSON=function(){var t=[];return C([this],t),t[0]},e.on("snap.util.getattr",function(){var t=e.nt();t=t.substring(t.lastIndexOf(".")+1);var n=t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()});return ee[E](n)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(n):r(this.node,t)});var ee={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};e.on("snap.util.attr",function(t){var n=e.nt(),i={};n=n.substring(n.lastIndexOf(".")+1),i[n]=t;var o=n.replace(/-(\w)/gi,function(t,e){return e.toUpperCase()}),s=n.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()});ee[E](s)?this.node.style[o]=null==t?O:t:r(this.node,i)}),function(){}(w.prototype),n.ajax=function(t,n,r,o){var s=new XMLHttpRequest,a=H();if(s){if(i(n,"function"))o=r,r=n,n=null;else if(i(n,"object")){var u=[];for(var l in n)n.hasOwnProperty(l)&&u.push(encodeURIComponent(l)+"="+encodeURIComponent(n[l]));n=u.join("&")}return s.open(n?"POST":"GET",t,!0),n&&(s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.setRequestHeader("Content-type","application/x-www-form-urlencoded")),r&&(e.once("snap.ajax."+a+".0",r),e.once("snap.ajax."+a+".200",r),e.once("snap.ajax."+a+".304",r)),s.onreadystatechange=function(){4==s.readyState&&e("snap.ajax."+a+"."+s.status,o,s)},4==s.readyState?s:(s.send(n),s)}},n.load=function(t,e,r){n.ajax(t,function(t){var i=n.parse(t.responseText);r?e.call(r,i):e(i)})};var ne=function(t){var e=t.getBoundingClientRect(),n=t.ownerDocument,r=n.body,i=n.documentElement,o=i.clientTop||r.clientTop||0,s=i.clientLeft||r.clientLeft||0,a=e.top+(g.win.pageYOffset||i.scrollTop||r.scrollTop)-o,u=e.left+(g.win.pageXOffset||i.scrollLeft||r.scrollLeft)-s;return{y:a,x:u}};return n.getElementByPoint=function(t,e){var n=this,r=(n.canvas,L.doc.elementFromPoint(t,e));if(L.win.opera&&"svg"==r.tagName){var i=ne(r),o=r.createSVGRect();o.x=t-i.x,o.y=e-i.y,o.width=o.height=1;var s=r.getIntersectionList(o,null);s.length&&(r=s[s.length-1])}return r?_(r):null},n.plugin=function(t){t(n,y,w,L,x)},L.win.Snap=n,n}(t||this);return r.plugin(function(r,i,o,s,a){function u(t,e){if(null==e){var n=!0;if(e=t.node.getAttribute("linearGradient"==t.type||"radialGradient"==t.type?"gradientTransform":"pattern"==t.type?"patternTransform":"transform"),!e)return new r.Matrix;e=r._.svgTransform2string(e)}else e=r._.rgTransform.test(e)?p(e).replace(/\.{3}|\u2026/g,t._.transform||""):r._.svgTransform2string(e),d(e,"array")&&(e=r.path?r.path.toString.call(e):p(e)),t._.transform=e;var i=r._.transform2matrix(e,t.getBBox(1));return n?i:void(t.matrix=i)}function l(t){function e(t,e){var n=v(t.node,e);n=n&&n.match(o),n=n&&n[2],n&&"#"==n.charAt()&&(n=n.substring(1),n&&(a[n]=(a[n]||[]).concat(function(n){var r={};r[e]=URL(n),v(t.node,r)})))}function n(t){var e=v(t.node,"xlink:href");e&&"#"==e.charAt()&&(e=e.substring(1),e&&(a[e]=(a[e]||[]).concat(function(e){t.attr("xlink:href","#"+e)})))}for(var r,i=t.selectAll("*"),o=/^\s*url\(("|'|)(.*)\1\)\s*$/,s=[],a={},u=0,l=i.length;l>u;u++){r=i[u],e(r,"fill"),e(r,"stroke"),e(r,"filter"),e(r,"mask"),e(r,"clip-path"),n(r);var c=v(r.node,"id");c&&(v(r.node,{id:r.id}),s.push({old:c,id:r.id}))}for(u=0,l=s.length;l>u;u++){var h=a[s[u].old];if(h)for(var f=0,d=h.length;d>f;f++)h[f](s[u].id)}}function c(t,e,n){return function(r){var i=r.slice(t,e);return 1==i.length&&(i=i[0]),n?n(i):i}}function h(t){return function(){var e=t?"<"+this.type:"",n=this.node.attributes,r=this.node.childNodes;if(t)for(var i=0,o=n.length;o>i;i++)e+=" "+n[i].name+'="'+n[i].value.replace(/"/g,'\\"')+'"';if(r.length){for(t&&(e+=">"),i=0,o=r.length;o>i;i++)3==r[i].nodeType?e+=r[i].nodeValue:1==r[i].nodeType&&(e+=b(r[i]).toString());t&&(e+="</"+this.type+">")}else t&&(e+="/>");return e}}var f=i.prototype,d=r.is,p=String,g=r._unit2px,v=r._.$,m=r._.make,y=r._.getSomeDefs,x="hasOwnProperty",b=r._.wrap;f.getBBox=function(t){if(!r.Matrix||!r.path)return this.node.getBBox();var e=this,n=new r.Matrix;if(e.removed)return r._.box();for(;"use"==e.type;)if(t||(n=n.add(e.transform().localMatrix.translate(e.attr("x")||0,e.attr("y")||0))),e.original)e=e.original;else{var i=e.attr("xlink:href");e=e.original=e.node.ownerDocument.getElementById(i.substring(i.indexOf("#")+1))}var o=e._,s=r.path.get[e.type]||r.path.get.deflt;try{return t?(o.bboxwt=s?r.path.getBBox(e.realPath=s(e)):r._.box(e.node.getBBox()),r._.box(o.bboxwt)):(e.realPath=s(e),e.matrix=e.transform().localMatrix,o.bbox=r.path.getBBox(r.path.map(e.realPath,n.add(e.matrix))),r._.box(o.bbox))}catch(a){return r._.box()}};var w=function(){return this.string};f.transform=function(t){var e=this._;if(null==t){for(var n,i=this,o=new r.Matrix(this.node.getCTM()),s=u(this),a=[s],l=new r.Matrix,c=s.toTransformString(),h=p(s)==p(this.matrix)?p(e.transform):c;"svg"!=i.type&&(i=i.parent());)a.push(u(i));for(n=a.length;n--;)l.add(a[n]);return{string:h,globalMatrix:o,totalMatrix:l,localMatrix:s,diffMatrix:o.clone().add(s.invert()),global:o.toTransformString(),total:l.toTransformString(),local:c,toString:w}}return t instanceof r.Matrix?(this.matrix=t,this._.transform=t.toTransformString()):u(this,t),this.node&&("linearGradient"==this.type||"radialGradient"==this.type?v(this.node,{gradientTransform:this.matrix}):"pattern"==this.type?v(this.node,{patternTransform:this.matrix}):v(this.node,{transform:this.matrix})),this},f.parent=function(){return b(this.node.parentNode)},f.append=f.add=function(t){if(t){if("set"==t.type){var e=this;return t.forEach(function(t){e.add(t)}),this}t=b(t),this.node.appendChild(t.node),t.paper=this.paper}return this},f.appendTo=function(t){return t&&(t=b(t),t.append(this)),this},f.prepend=function(t){if(t){if("set"==t.type){var e,n=this;return t.forEach(function(t){e?e.after(t):n.prepend(t),e=t}),this}t=b(t);var r=t.parent();this.node.insertBefore(t.node,this.node.firstChild),this.add&&this.add(),t.paper=this.paper,this.parent()&&this.parent().add(),r&&r.add()}return this},f.prependTo=function(t){return t=b(t),t.prepend(this),this},f.before=function(t){if("set"==t.type){var e=this;return t.forEach(function(t){var n=t.parent();e.node.parentNode.insertBefore(t.node,e.node),n&&n.add()}),this.parent().add(),this}t=b(t);var n=t.parent();return this.node.parentNode.insertBefore(t.node,this.node),this.parent()&&this.parent().add(),n&&n.add(),t.paper=this.paper,this},f.after=function(t){t=b(t);var e=t.parent();return this.node.nextSibling?this.node.parentNode.insertBefore(t.node,this.node.nextSibling):this.node.parentNode.appendChild(t.node),this.parent()&&this.parent().add(),e&&e.add(),t.paper=this.paper,this},f.insertBefore=function(t){t=b(t);var e=this.parent();return t.node.parentNode.insertBefore(this.node,t.node),this.paper=t.paper,e&&e.add(),t.parent()&&t.parent().add(),this},f.insertAfter=function(t){t=b(t);var e=this.parent();return t.node.parentNode.insertBefore(this.node,t.node.nextSibling),this.paper=t.paper,e&&e.add(),t.parent()&&t.parent().add(),this},f.remove=function(){var t=this.parent();return this.node.parentNode&&this.node.parentNode.removeChild(this.node),delete this.paper,this.removed=!0,t&&t.add(),this},f.select=function(t){return b(this.node.querySelector(t))},f.selectAll=function(t){for(var e=this.node.querySelectorAll(t),n=(r.set||Array)(),i=0;i<e.length;i++)n.push(b(e[i]));return n},f.asPX=function(t,e){return null==e&&(e=this.attr(t)),+g(this,t,e)},f.use=function(){var t,e=this.node.id;return e||(e=this.id,v(this.node,{id:e})),t="linearGradient"==this.type||"radialGradient"==this.type||"pattern"==this.type?m(this.type,this.node.parentNode):m("use",this.node.parentNode),v(t.node,{"xlink:href":"#"+e}),t.original=this,t},f.clone=function(){var t=b(this.node.cloneNode(!0));return v(t.node,"id")&&v(t.node,{id:t.id}),l(t),t.insertAfter(this),t},f.toDefs=function(){var t=y(this);return t.appendChild(this.node),this},f.pattern=f.toPattern=function(t,e,n,r){var i=m("pattern",y(this));return null==t&&(t=this.getBBox()),d(t,"object")&&"x"in t&&(e=t.y,n=t.width,r=t.height,t=t.x),v(i.node,{x:t,y:e,width:n,height:r,patternUnits:"userSpaceOnUse",id:i.id,viewBox:[t,e,n,r].join(" ")}),i.node.appendChild(this.node),i},f.marker=function(t,e,n,r,i,o){var s=m("marker",y(this));return null==t&&(t=this.getBBox()),d(t,"object")&&"x"in t&&(e=t.y,n=t.width,r=t.height,i=t.refX||t.cx,o=t.refY||t.cy,t=t.x),v(s.node,{viewBox:[t,e,n,r].join(" "),markerWidth:n,markerHeight:r,orient:"auto",refX:i||0,refY:o||0,id:s.id}),s.node.appendChild(this.node),s};var _=function(t,e,r,i){"function"!=typeof r||r.length||(i=r,r=n.linear),this.attr=t,this.dur=e,r&&(this.easing=r),i&&(this.callback=i)};r._.Animation=_,r.animation=function(t,e,n,r){return new _(t,e,n,r)},f.inAnim=function(){var t=this,e=[];for(var n in t.anims)t.anims[x](n)&&!function(t){e.push({anim:new _(t._attrs,t.dur,t.easing,t._callback),mina:t,curStatus:t.status(),status:function(e){return t.status(e)},stop:function(){t.stop()}})}(t.anims[n]);return e},r.animate=function(t,r,i,o,s,a){"function"!=typeof s||s.length||(a=s,s=n.linear);var u=n.time(),l=n(t,r,u,u+o,n.time,i,s);return a&&e.once("mina.finish."+l.id,a),l},f.stop=function(){for(var t=this.inAnim(),e=0,n=t.length;n>e;e++)t[e].stop();return this},f.animate=function(t,r,i,o){"function"!=typeof i||i.length||(o=i,i=n.linear),t instanceof _&&(o=t.callback,i=t.easing,r=t.dur,t=t.attr);var s,a,u,l,h=[],f=[],g={},v=this;for(var m in t)if(t[x](m)){v.equal?(l=v.equal(m,p(t[m])),s=l.from,a=l.to,u=l.f):(s=+v.attr(m),a=+t[m]);var y=d(s,"array")?s.length:1;g[m]=c(h.length,h.length+y,u),h=h.concat(s),f=f.concat(a)}var b=n.time(),w=n(h,f,b,b+r,n.time,function(t){var e={};for(var n in g)g[x](n)&&(e[n]=g[n](t));v.attr(e)},i);return v.anims[w.id]=w,w._attrs=t,w._callback=o,e("snap.animcreated."+v.id,w),e.once("mina.finish."+w.id,function(){delete v.anims[w.id],o&&o.call(v)}),e.once("mina.stop."+w.id,function(){delete v.anims[w.id]}),v};var C={};f.data=function(t,n){var i=C[this.id]=C[this.id]||{};if(0==arguments.length)return e("snap.data.get."+this.id,this,i,null),i;if(1==arguments.length){if(r.is(t,"object")){for(var o in t)t[x](o)&&this.data(o,t[o]);return this}return e("snap.data.get."+this.id,this,i[t],t),i[t]}return i[t]=n,e("snap.data.set."+this.id,this,n,t),this},f.removeData=function(t){return null==t?C[this.id]={}:C[this.id]&&delete C[this.id][t],this},f.outerSVG=f.toString=h(1),f.innerSVG=h(),f.toDataURL=function(){if(t&&t.btoa){var e=this.getBBox(),n=r.format('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="{width}" height="{height}" viewBox="{x} {y} {width} {height}">{contents}</svg>',{x:+e.x.toFixed(3),y:+e.y.toFixed(3),width:+e.width.toFixed(3),height:+e.height.toFixed(3),contents:this.outerSVG()});return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(n)))}},a.prototype.select=f.select,a.prototype.selectAll=f.selectAll}),r.plugin(function(t){function e(t,e,r,i,o,s){return null==e&&"[object SVGMatrix]"==n.call(t)?(this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.e=t.e,void(this.f=t.f)):void(null!=t?(this.a=+t,this.b=+e,this.c=+r,this.d=+i,this.e=+o,this.f=+s):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0))}var n=Object.prototype.toString,r=String,i=Math,o="";!function(n){function s(t){return t[0]*t[0]+t[1]*t[1]}function a(t){var e=i.sqrt(s(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}n.add=function(t,n,r,i,o,s){var a,u,l,c,h=[[],[],[]],f=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],d=[[t,r,o],[n,i,s],[0,0,1]];for(t&&t instanceof e&&(d=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),a=0;3>a;a++)for(u=0;3>u;u++){for(c=0,l=0;3>l;l++)c+=f[a][l]*d[l][u];h[a][u]=c}return this.a=h[0][0],this.b=h[1][0],this.c=h[0][1],this.d=h[1][1],this.e=h[0][2],this.f=h[1][2],this},n.invert=function(){var t=this,n=t.a*t.d-t.b*t.c;return new e(t.d/n,-t.b/n,-t.c/n,t.a/n,(t.c*t.f-t.d*t.e)/n,(t.b*t.e-t.a*t.f)/n)},n.clone=function(){return new e(this.a,this.b,this.c,this.d,this.e,this.f)},n.translate=function(t,e){return this.add(1,0,0,1,t,e)},n.scale=function(t,e,n,r){return null==e&&(e=t),(n||r)&&this.add(1,0,0,1,n,r),this.add(t,0,0,e,0,0),(n||r)&&this.add(1,0,0,1,-n,-r),this},n.rotate=function(e,n,r){e=t.rad(e),n=n||0,r=r||0;var o=+i.cos(e).toFixed(9),s=+i.sin(e).toFixed(9);return this.add(o,s,-s,o,n,r),this.add(1,0,0,1,-n,-r)},n.x=function(t,e){return t*this.a+e*this.c+this.e},n.y=function(t,e){return t*this.b+e*this.d+this.f},n.get=function(t){return+this[r.fromCharCode(97+t)].toFixed(4)},n.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"},n.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},n.determinant=function(){return this.a*this.d-this.b*this.c},n.split=function(){var e={};e.dx=this.e,e.dy=this.f;var n=[[this.a,this.c],[this.b,this.d]];e.scalex=i.sqrt(s(n[0])),a(n[0]),e.shear=n[0][0]*n[1][0]+n[0][1]*n[1][1],n[1]=[n[1][0]-n[0][0]*e.shear,n[1][1]-n[0][1]*e.shear],e.scaley=i.sqrt(s(n[1])),a(n[1]),e.shear/=e.scaley,this.determinant()<0&&(e.scalex=-e.scalex);var r=-n[0][1],o=n[1][1];return 0>o?(e.rotate=t.deg(i.acos(o)),0>r&&(e.rotate=360-e.rotate)):e.rotate=t.deg(i.asin(r)),e.isSimple=!(+e.shear.toFixed(9)||e.scalex.toFixed(9)!=e.scaley.toFixed(9)&&e.rotate),e.isSuperSimple=!+e.shear.toFixed(9)&&e.scalex.toFixed(9)==e.scaley.toFixed(9)&&!e.rotate,e.noRotation=!+e.shear.toFixed(9)&&!e.rotate,e},n.toTransformString=function(t){var e=t||this.split();return+e.shear.toFixed(9)?"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]:(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[+e.dx.toFixed(4),+e.dy.toFixed(4)]:o)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:o)+(e.rotate?"r"+[+e.rotate.toFixed(4),0,0]:o))}}(e.prototype),t.Matrix=e,t.matrix=function(t,n,r,i,o,s){return new e(t,n,r,i,o,s)}}),r.plugin(function(t,n,r,i,o){function s(r){return function(i){if(e.stop(),i instanceof o&&1==i.node.childNodes.length&&("radialGradient"==i.node.firstChild.tagName||"linearGradient"==i.node.firstChild.tagName||"pattern"==i.node.firstChild.tagName)&&(i=i.node.firstChild,d(this).appendChild(i),i=h(i)),i instanceof n)if("radialGradient"==i.type||"linearGradient"==i.type||"pattern"==i.type){i.node.id||g(i.node,{id:i.id});var s=v(i.node.id)}else s=i.attr(r);else if(s=t.color(i),s.error){var a=t(d(this).ownerSVGElement).gradient(i);a?(a.node.id||g(a.node,{id:a.id}),s=v(a.node.id)):s=i}else s=m(s);var u={};u[r]=s,g(this.node,u),this.node.style[r]=x}}function a(t){e.stop(),t==+t&&(t+="px"),this.node.style.fontSize=t}function u(t){for(var e=[],n=t.childNodes,r=0,i=n.length;i>r;r++){var o=n[r];3==o.nodeType&&e.push(o.nodeValue),"tspan"==o.tagName&&e.push(1==o.childNodes.length&&3==o.firstChild.nodeType?o.firstChild.nodeValue:u(o))}return e}function l(){return e.stop(),this.node.style.fontSize}var c=t._.make,h=t._.wrap,f=t.is,d=t._.getSomeDefs,p=/^url\(#?([^)]+)\)$/,g=t._.$,v=t.url,m=String,y=t._.separator,x="";
e.on("snap.util.attr.mask",function(t){if(t instanceof n||t instanceof o){if(e.stop(),t instanceof o&&1==t.node.childNodes.length&&(t=t.node.firstChild,d(this).appendChild(t),t=h(t)),"mask"==t.type)var r=t;else r=c("mask",d(this)),r.node.appendChild(t.node);!r.node.id&&g(r.node,{id:r.id}),g(this.node,{mask:v(r.id)})}}),function(t){e.on("snap.util.attr.clip",t),e.on("snap.util.attr.clip-path",t),e.on("snap.util.attr.clipPath",t)}(function(t){if(t instanceof n||t instanceof o){if(e.stop(),"clipPath"==t.type)var r=t;else r=c("clipPath",d(this)),r.node.appendChild(t.node),!r.node.id&&g(r.node,{id:r.id});g(this.node,{"clip-path":v(r.node.id||r.id)})}}),e.on("snap.util.attr.fill",s("fill")),e.on("snap.util.attr.stroke",s("stroke"));var b=/^([lr])(?:\(([^)]*)\))?(.*)$/i;e.on("snap.util.grad.parse",function(t){t=m(t);var e=t.match(b);if(!e)return null;var n=e[1],r=e[2],i=e[3];return r=r.split(/\s*,\s*/).map(function(t){return+t==t?+t:t}),1==r.length&&0==r[0]&&(r=[]),i=i.split("-"),i=i.map(function(t){t=t.split(":");var e={color:t[0]};return t[1]&&(e.offset=parseFloat(t[1])),e}),{type:n,params:r,stops:i}}),e.on("snap.util.attr.d",function(n){e.stop(),f(n,"array")&&f(n[0],"array")&&(n=t.path.toString.call(n)),n=m(n),n.match(/[ruo]/i)&&(n=t.path.toAbsolute(n)),g(this.node,{d:n})})(-1),e.on("snap.util.attr.#text",function(t){e.stop(),t=m(t);for(var n=i.doc.createTextNode(t);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.node.appendChild(n)})(-1),e.on("snap.util.attr.path",function(t){e.stop(),this.attr({d:t})})(-1),e.on("snap.util.attr.class",function(t){e.stop(),this.node.className.baseVal=t})(-1),e.on("snap.util.attr.viewBox",function(t){var n;n=f(t,"object")&&"x"in t?[t.x,t.y,t.width,t.height].join(" "):f(t,"array")?t.join(" "):t,g(this.node,{viewBox:n}),e.stop()})(-1),e.on("snap.util.attr.transform",function(t){this.transform(t),e.stop()})(-1),e.on("snap.util.attr.r",function(t){"rect"==this.type&&(e.stop(),g(this.node,{rx:t,ry:t}))})(-1),e.on("snap.util.attr.textpath",function(t){if(e.stop(),"text"==this.type){var r,i,o;if(!t&&this.textPath){for(i=this.textPath;i.node.firstChild;)this.node.appendChild(i.node.firstChild);return i.remove(),void delete this.textPath}if(f(t,"string")){var s=d(this),a=h(s.parentNode).path(t);s.appendChild(a.node),r=a.id,a.attr({id:r})}else t=h(t),t instanceof n&&(r=t.attr("id"),r||(r=t.id,t.attr({id:r})));if(r)if(i=this.textPath,o=this.node,i)i.attr({"xlink:href":"#"+r});else{for(i=g("textPath",{"xlink:href":"#"+r});o.firstChild;)i.appendChild(o.firstChild);o.appendChild(i),this.textPath=h(i)}}})(-1),e.on("snap.util.attr.text",function(t){if("text"==this.type){for(var n=this.node,r=function(t){var e=g("tspan");if(f(t,"array"))for(var n=0;n<t.length;n++)e.appendChild(r(t[n]));else e.appendChild(i.doc.createTextNode(t));return e.normalize&&e.normalize(),e};n.firstChild;)n.removeChild(n.firstChild);for(var o=r(t);o.firstChild;)n.appendChild(o.firstChild)}e.stop()})(-1),e.on("snap.util.attr.fontSize",a)(-1),e.on("snap.util.attr.font-size",a)(-1),e.on("snap.util.getattr.transform",function(){return e.stop(),this.transform()})(-1),e.on("snap.util.getattr.textpath",function(){return e.stop(),this.textPath})(-1),function(){function n(n){return function(){e.stop();var r=i.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+n);return"none"==r?r:t(i.doc.getElementById(r.match(p)[1]))}}function r(t){return function(n){e.stop();var r="marker"+t.charAt(0).toUpperCase()+t.substring(1);if(""==n||!n)return void(this.node.style[r]="none");if("marker"==n.type){var i=n.node.id;return i||g(n.node,{id:n.id}),void(this.node.style[r]=v(i))}}}e.on("snap.util.getattr.marker-end",n("end"))(-1),e.on("snap.util.getattr.markerEnd",n("end"))(-1),e.on("snap.util.getattr.marker-start",n("start"))(-1),e.on("snap.util.getattr.markerStart",n("start"))(-1),e.on("snap.util.getattr.marker-mid",n("mid"))(-1),e.on("snap.util.getattr.markerMid",n("mid"))(-1),e.on("snap.util.attr.marker-end",r("end"))(-1),e.on("snap.util.attr.markerEnd",r("end"))(-1),e.on("snap.util.attr.marker-start",r("start"))(-1),e.on("snap.util.attr.markerStart",r("start"))(-1),e.on("snap.util.attr.marker-mid",r("mid"))(-1),e.on("snap.util.attr.markerMid",r("mid"))(-1)}(),e.on("snap.util.getattr.r",function(){return"rect"==this.type&&g(this.node,"rx")==g(this.node,"ry")?(e.stop(),g(this.node,"rx")):void 0})(-1),e.on("snap.util.getattr.text",function(){if("text"==this.type||"tspan"==this.type){e.stop();var t=u(this.node);return 1==t.length?t[0]:t}})(-1),e.on("snap.util.getattr.#text",function(){return this.node.textContent})(-1),e.on("snap.util.getattr.viewBox",function(){e.stop();var n=g(this.node,"viewBox");return n?(n=n.split(y),t._.box(+n[0],+n[1],+n[2],+n[3])):void 0})(-1),e.on("snap.util.getattr.points",function(){var t=g(this.node,"points");return e.stop(),t?t.split(y):void 0})(-1),e.on("snap.util.getattr.path",function(){var t=g(this.node,"d");return e.stop(),t})(-1),e.on("snap.util.getattr.class",function(){return this.node.className.baseVal})(-1),e.on("snap.util.getattr.fontSize",l)(-1),e.on("snap.util.getattr.font-size",l)(-1)}),r.plugin(function(t,e){var n=/\S+/g,r=String,i=e.prototype;i.addClass=function(t){var e,i,o,s,a=r(t||"").match(n)||[],u=this.node,l=u.className.baseVal,c=l.match(n)||[];if(a.length){for(e=0;o=a[e++];)i=c.indexOf(o),~i||c.push(o);s=c.join(" "),l!=s&&(u.className.baseVal=s)}return this},i.removeClass=function(t){var e,i,o,s,a=r(t||"").match(n)||[],u=this.node,l=u.className.baseVal,c=l.match(n)||[];if(c.length){for(e=0;o=a[e++];)i=c.indexOf(o),~i&&c.splice(i,1);s=c.join(" "),l!=s&&(u.className.baseVal=s)}return this},i.hasClass=function(t){var e=this.node,r=e.className.baseVal,i=r.match(n)||[];return!!~i.indexOf(t)},i.toggleClass=function(t,e){if(null!=e)return e?this.addClass(t):this.removeClass(t);var r,i,o,s,a=(t||"").match(n)||[],u=this.node,l=u.className.baseVal,c=l.match(n)||[];for(r=0;o=a[r++];)i=c.indexOf(o),~i?c.splice(i,1):c.push(o);return s=c.join(" "),l!=s&&(u.className.baseVal=s),this}}),r.plugin(function(){function t(t){return t}function n(t){return function(e){return+e.toFixed(3)+t}}var r={"+":function(t,e){return t+e},"-":function(t,e){return t-e},"/":function(t,e){return t/e},"*":function(t,e){return t*e}},i=String,o=/[a-z]+$/i,s=/^\s*([+\-\/*])\s*=\s*([\d.eE+\-]+)\s*([^\d\s]+)?\s*$/;e.on("snap.util.attr",function(t){var n=i(t).match(s);if(n){var a=e.nt(),u=a.substring(a.lastIndexOf(".")+1),l=this.attr(u),c={};e.stop();var h=n[3]||"",f=l.match(o),d=r[n[1]];if(f&&f==h?t=d(parseFloat(l),+n[2]):(l=this.asPX(u),t=d(this.asPX(u),this.asPX(u,n[2]+h))),isNaN(l)||isNaN(t))return;c[u]=t,this.attr(c)}})(-10),e.on("snap.util.equal",function(a,u){var l=i(this.attr(a)||""),c=i(u).match(s);if(c){e.stop();var h=c[3]||"",f=l.match(o),d=r[c[1]];return f&&f==h?{from:parseFloat(l),to:d(parseFloat(l),+c[2]),f:n(f)}:(l=this.asPX(a),{from:l,to:d(l,this.asPX(a,c[2]+h)),f:t})}})(-10)}),r.plugin(function(n,r,i,o){var s=i.prototype,a=n.is;s.rect=function(t,e,n,r,i,o){var s;return null==o&&(o=i),a(t,"object")&&"[object Object]"==t?s=t:null!=t&&(s={x:t,y:e,width:n,height:r},null!=i&&(s.rx=i,s.ry=o)),this.el("rect",s)},s.circle=function(t,e,n){var r;return a(t,"object")&&"[object Object]"==t?r=t:null!=t&&(r={cx:t,cy:e,r:n}),this.el("circle",r)};var u=function(){function t(){this.parentNode.removeChild(this)}return function(e,n){var r=o.doc.createElement("img"),i=o.doc.body;r.style.cssText="position:absolute;left:-9999em;top:-9999em",r.onload=function(){n.call(r),r.onload=r.onerror=null,i.removeChild(r)},r.onerror=t,i.appendChild(r),r.src=e}}();s.image=function(t,e,r,i,o){var s=this.el("image");if(a(t,"object")&&"src"in t)s.attr(t);else if(null!=t){var l={"xlink:href":t,preserveAspectRatio:"none"};null!=e&&null!=r&&(l.x=e,l.y=r),null!=i&&null!=o?(l.width=i,l.height=o):u(t,function(){n._.$(s.node,{width:this.offsetWidth,height:this.offsetHeight})}),n._.$(s.node,l)}return s},s.ellipse=function(t,e,n,r){var i;return a(t,"object")&&"[object Object]"==t?i=t:null!=t&&(i={cx:t,cy:e,rx:n,ry:r}),this.el("ellipse",i)},s.path=function(t){var e;return a(t,"object")&&!a(t,"array")?e=t:t&&(e={d:t}),this.el("path",e)},s.group=s.g=function(t){var e=this.el("g");return 1==arguments.length&&t&&!t.type?e.attr(t):arguments.length&&e.add(Array.prototype.slice.call(arguments,0)),e},s.svg=function(t,e,n,r,i,o,s,u){var l={};return a(t,"object")&&null==e?l=t:(null!=t&&(l.x=t),null!=e&&(l.y=e),null!=n&&(l.width=n),null!=r&&(l.height=r),null!=i&&null!=o&&null!=s&&null!=u&&(l.viewBox=[i,o,s,u])),this.el("svg",l)},s.mask=function(t){var e=this.el("mask");return 1==arguments.length&&t&&!t.type?e.attr(t):arguments.length&&e.add(Array.prototype.slice.call(arguments,0)),e},s.ptrn=function(t,e,n,r,i,o,s,u){if(a(t,"object"))var l=t;else l={patternUnits:"userSpaceOnUse"},t&&(l.x=t),e&&(l.y=e),null!=n&&(l.width=n),null!=r&&(l.height=r),l.viewBox=null!=i&&null!=o&&null!=s&&null!=u?[i,o,s,u]:[t||0,e||0,n||0,r||0];return this.el("pattern",l)},s.use=function(t){return null!=t?(t instanceof r&&(t.attr("id")||t.attr({id:n._.id(t)}),t=t.attr("id")),"#"==String(t).charAt()&&(t=t.substring(1)),this.el("use",{"xlink:href":"#"+t})):r.prototype.use.call(this)},s.symbol=function(t,e,n,r){var i={};return null!=t&&null!=e&&null!=n&&null!=r&&(i.viewBox=[t,e,n,r]),this.el("symbol",i)},s.text=function(t,e,n){var r={};return a(t,"object")?r=t:null!=t&&(r={x:t,y:e,text:n||""}),this.el("text",r)},s.line=function(t,e,n,r){var i={};return a(t,"object")?i=t:null!=t&&(i={x1:t,x2:n,y1:e,y2:r}),this.el("line",i)},s.polyline=function(t){arguments.length>1&&(t=Array.prototype.slice.call(arguments,0));var e={};return a(t,"object")&&!a(t,"array")?e=t:null!=t&&(e={points:t}),this.el("polyline",e)},s.polygon=function(t){arguments.length>1&&(t=Array.prototype.slice.call(arguments,0));var e={};return a(t,"object")&&!a(t,"array")?e=t:null!=t&&(e={points:t}),this.el("polygon",e)},function(){function r(){return this.selectAll("stop")}function i(t,e){var r=c("stop"),i={offset:+e+"%"};return t=n.color(t),i["stop-color"]=t.hex,t.opacity<1&&(i["stop-opacity"]=t.opacity),c(r,i),this.node.appendChild(r),this}function o(){if("linearGradient"==this.type){var t=c(this.node,"x1")||0,e=c(this.node,"x2")||1,r=c(this.node,"y1")||0,i=c(this.node,"y2")||0;return n._.box(t,r,math.abs(e-t),math.abs(i-r))}var o=this.node.cx||.5,s=this.node.cy||.5,a=this.node.r||0;return n._.box(o-a,s-a,2*a,2*a)}function a(t,n){function r(t,e){for(var n=(e-h)/(t-f),r=f;t>r;r++)s[r].offset=+(+h+n*(r-f)).toFixed(2);f=t,h=e}var i,o=e("snap.util.grad.parse",null,n).firstDefined();if(!o)return null;o.params.unshift(t),i="l"==o.type.toLowerCase()?u.apply(0,o.params):l.apply(0,o.params),o.type!=o.type.toLowerCase()&&c(i.node,{gradientUnits:"userSpaceOnUse"});var s=o.stops,a=s.length,h=0,f=0;a--;for(var d=0;a>d;d++)"offset"in s[d]&&r(d,s[d].offset);for(s[a].offset=s[a].offset||100,r(a,s[a].offset),d=0;a>=d;d++){var p=s[d];i.addStop(p.color,p.offset)}return i}function u(t,e,s,a,u){var l=n._.make("linearGradient",t);return l.stops=r,l.addStop=i,l.getBBox=o,null!=e&&c(l.node,{x1:e,y1:s,x2:a,y2:u}),l}function l(t,e,s,a,u,l){var h=n._.make("radialGradient",t);return h.stops=r,h.addStop=i,h.getBBox=o,null!=e&&c(h.node,{cx:e,cy:s,r:a}),null!=u&&null!=l&&c(h.node,{fx:u,fy:l}),h}var c=n._.$;s.gradient=function(t){return a(this.defs,t)},s.gradientLinear=function(t,e,n,r){return u(this.defs,t,e,n,r)},s.gradientRadial=function(t,e,n,r,i){return l(this.defs,t,e,n,r,i)},s.toString=function(){var t,e=this.node.ownerDocument,r=e.createDocumentFragment(),i=e.createElement("div"),o=this.node.cloneNode(!0);return r.appendChild(i),i.appendChild(o),n._.$(o,{xmlns:"http://www.w3.org/2000/svg"}),t=i.innerHTML,r.removeChild(r.firstChild),t},s.toDataURL=function(){return t&&t.btoa?"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(this))):void 0},s.clear=function(){for(var t,e=this.node.firstChild;e;)t=e.nextSibling,"defs"!=e.tagName?e.parentNode.removeChild(e):s.clear.call({node:e}),e=t}}()}),r.plugin(function(t,e){function n(t){var e=n.ps=n.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var n in e)e[N](n)&&n!=t&&(e[n].sleep--,!e[n].sleep&&delete e[n])}),e[t]}function r(t,e,n,r){return null==t&&(t=e=n=r=0),null==e&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:r,h:r,x2:t+n,y2:e+r,cx:t+n/2,cy:e+r/2,r1:q.min(n,r)/2,r2:q.max(n,r)/2,r0:q.sqrt(n*n+r*r)/2,path:_(t,e,n,r),vb:[t,e,n,r].join(" ")}}function i(){return this.join(",").replace(R,"$1")}function o(t){var e=j(t);return e.toString=i,e}function s(t,e,n,r,i,o,s,a,l){return null==l?d(t,e,n,r,i,o,s,a):u(t,e,n,r,i,o,s,a,p(t,e,n,r,i,o,s,a,l))}function a(n,r){function i(t){return+(+t).toFixed(3)}return t._.cacher(function(t,o,a){t instanceof e&&(t=t.attr("d")),t=z(t);for(var l,c,h,f,d,p="",g={},v=0,m=0,y=t.length;y>m;m++){if(h=t[m],"M"==h[0])l=+h[1],c=+h[2];else{if(f=s(l,c,h[1],h[2],h[3],h[4],h[5],h[6]),v+f>o){if(r&&!g.start){if(d=s(l,c,h[1],h[2],h[3],h[4],h[5],h[6],o-v),p+=["C"+i(d.start.x),i(d.start.y),i(d.m.x),i(d.m.y),i(d.x),i(d.y)],a)return p;g.start=p,p=["M"+i(d.x),i(d.y)+"C"+i(d.n.x),i(d.n.y),i(d.end.x),i(d.end.y),i(h[5]),i(h[6])].join(),v+=f,l=+h[5],c=+h[6];continue}if(!n&&!r)return d=s(l,c,h[1],h[2],h[3],h[4],h[5],h[6],o-v)}v+=f,l=+h[5],c=+h[6]}p+=h.shift()+h}return g.end=p,d=n?v:r?g:u(l,c,h[0],h[1],h[2],h[3],h[4],h[5],1)},null,t._.clone)}function u(t,e,n,r,i,o,s,a,u){var l=1-u,c=$(l,3),h=$(l,2),f=u*u,d=f*u,p=c*t+3*h*u*n+3*l*u*u*i+d*s,g=c*e+3*h*u*r+3*l*u*u*o+d*a,v=t+2*u*(n-t)+f*(i-2*n+t),m=e+2*u*(r-e)+f*(o-2*r+e),y=n+2*u*(i-n)+f*(s-2*i+n),x=r+2*u*(o-r)+f*(a-2*o+r),b=l*t+u*n,w=l*e+u*r,_=l*i+u*s,C=l*o+u*a,L=90-180*q.atan2(v-y,m-x)/V;return{x:p,y:g,m:{x:v,y:m},n:{x:y,y:x},start:{x:b,y:w},end:{x:_,y:C},alpha:L}}function l(e,n,i,o,s,a,u,l){t.is(e,"array")||(e=[e,n,i,o,s,a,u,l]);var c=k.apply(null,e);return r(c.min.x,c.min.y,c.max.x-c.min.x,c.max.y-c.min.y)}function c(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height}function h(t,e){return t=r(t),e=r(e),c(e,t.x,t.y)||c(e,t.x2,t.y)||c(e,t.x,t.y2)||c(e,t.x2,t.y2)||c(t,e.x,e.y)||c(t,e.x2,e.y)||c(t,e.x,e.y2)||c(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}function f(t,e,n,r,i){var o=-3*e+9*n-9*r+3*i,s=t*o+6*e-12*n+6*r;return t*s-3*e+3*n}function d(t,e,n,r,i,o,s,a,u){null==u&&(u=1),u=u>1?1:0>u?0:u;for(var l=u/2,c=12,h=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],d=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,g=0;c>g;g++){var v=l*h[g]+l,m=f(v,t,n,i,s),y=f(v,e,r,o,a),x=m*m+y*y;p+=d[g]*q.sqrt(x)}return l*p}function p(t,e,n,r,i,o,s,a,u){if(!(0>u||d(t,e,n,r,i,o,s,a)<u)){var l,c=1,h=c/2,f=c-h,p=.01;for(l=d(t,e,n,r,i,o,s,a,f);H(l-u)>p;)h/=2,f+=(u>l?1:-1)*h,l=d(t,e,n,r,i,o,s,a,f);return f}}function g(t,e,n,r,i,o,s,a){if(!(F(t,n)<B(i,s)||B(t,n)>F(i,s)||F(e,r)<B(o,a)||B(e,r)>F(o,a))){var u=(t*r-e*n)*(i-s)-(t-n)*(i*a-o*s),l=(t*r-e*n)*(o-a)-(e-r)*(i*a-o*s),c=(t-n)*(o-a)-(e-r)*(i-s);if(c){var h=u/c,f=l/c,d=+h.toFixed(2),p=+f.toFixed(2);if(!(d<+B(t,n).toFixed(2)||d>+F(t,n).toFixed(2)||d<+B(i,s).toFixed(2)||d>+F(i,s).toFixed(2)||p<+B(e,r).toFixed(2)||p>+F(e,r).toFixed(2)||p<+B(o,a).toFixed(2)||p>+F(o,a).toFixed(2)))return{x:h,y:f}}}}function v(t,e,n){var r=l(t),i=l(e);if(!h(r,i))return n?0:[];for(var o=d.apply(0,t),s=d.apply(0,e),a=~~(o/8),c=~~(s/8),f=[],p=[],v={},m=n?0:[],y=0;a+1>y;y++){var x=u.apply(0,t.concat(y/a));f.push({x:x.x,y:x.y,t:y/a})}for(y=0;c+1>y;y++)x=u.apply(0,e.concat(y/c)),p.push({x:x.x,y:x.y,t:y/c});for(y=0;a>y;y++)for(var b=0;c>b;b++){var w=f[y],_=f[y+1],C=p[b],L=p[b+1],E=H(_.x-w.x)<.001?"y":"x",S=H(L.x-C.x)<.001?"y":"x",T=g(w.x,w.y,_.x,_.y,C.x,C.y,L.x,L.y);if(T){if(v[T.x.toFixed(4)]==T.y.toFixed(4))continue;v[T.x.toFixed(4)]=T.y.toFixed(4);var M=w.t+H((T[E]-w[E])/(_[E]-w[E]))*(_.t-w.t),k=C.t+H((T[S]-C[S])/(L[S]-C[S]))*(L.t-C.t);M>=0&&1>=M&&k>=0&&1>=k&&(n?m++:m.push({x:T.x,y:T.y,t1:M,t2:k}))}}return m}function m(t,e){return x(t,e)}function y(t,e){return x(t,e,1)}function x(t,e,n){t=z(t),e=z(e);for(var r,i,o,s,a,u,l,c,h,f,d=n?0:[],p=0,g=t.length;g>p;p++){var m=t[p];if("M"==m[0])r=a=m[1],i=u=m[2];else{"C"==m[0]?(h=[r,i].concat(m.slice(1)),r=h[6],i=h[7]):(h=[r,i,r,i,a,u,a,u],r=a,i=u);for(var y=0,x=e.length;x>y;y++){var b=e[y];if("M"==b[0])o=l=b[1],s=c=b[2];else{"C"==b[0]?(f=[o,s].concat(b.slice(1)),o=f[6],s=f[7]):(f=[o,s,o,s,l,c,l,c],o=l,s=c);var w=v(h,f,n);if(n)d+=w;else{for(var _=0,C=w.length;C>_;_++)w[_].segment1=p,w[_].segment2=y,w[_].bez1=h,w[_].bez2=f;d=d.concat(w)}}}}}return d}function b(t,e,n){var r=w(t);return c(r,e,n)&&x(t,[["M",e,n],["H",r.x2+10]],1)%2==1}function w(t){var e=n(t);if(e.bbox)return j(e.bbox);if(!t)return r();t=z(t);for(var i,o=0,s=0,a=[],u=[],l=0,c=t.length;c>l;l++)if(i=t[l],"M"==i[0])o=i[1],s=i[2],a.push(o),u.push(s);else{var h=k(o,s,i[1],i[2],i[3],i[4],i[5],i[6]);a=a.concat(h.min.x,h.max.x),u=u.concat(h.min.y,h.max.y),o=i[5],s=i[6]}var f=B.apply(0,a),d=B.apply(0,u),p=F.apply(0,a),g=F.apply(0,u),v=r(f,d,p-f,g-d);return e.bbox=j(v),v}function _(t,e,n,r,o){if(o)return[["M",+t+ +o,e],["l",n-2*o,0],["a",o,o,0,0,1,o,o],["l",0,r-2*o],["a",o,o,0,0,1,-o,o],["l",2*o-n,0],["a",o,o,0,0,1,-o,-o],["l",0,2*o-r],["a",o,o,0,0,1,o,-o],["z"]];var s=[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]];return s.toString=i,s}function C(t,e,n,r,o){if(null==o&&null==r&&(r=n),t=+t,e=+e,n=+n,r=+r,null!=o)var s=Math.PI/180,a=t+n*Math.cos(-r*s),u=t+n*Math.cos(-o*s),l=e+n*Math.sin(-r*s),c=e+n*Math.sin(-o*s),h=[["M",a,l],["A",n,n,0,+(o-r>180),0,u,c]];else h=[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return h.toString=i,h}function L(e){var r=n(e),s=String.prototype.toLowerCase;if(r.rel)return o(r.rel);t.is(e,"array")&&t.is(e&&e[0],"array")||(e=t.parsePathString(e));var a=[],u=0,l=0,c=0,h=0,f=0;"M"==e[0][0]&&(u=e[0][1],l=e[0][2],c=u,h=l,f++,a.push(["M",u,l]));for(var d=f,p=e.length;p>d;d++){var g=a[d]=[],v=e[d];if(v[0]!=s.call(v[0]))switch(g[0]=s.call(v[0]),g[0]){case"a":g[1]=v[1],g[2]=v[2],g[3]=v[3],g[4]=v[4],g[5]=v[5],g[6]=+(v[6]-u).toFixed(3),g[7]=+(v[7]-l).toFixed(3);break;case"v":g[1]=+(v[1]-l).toFixed(3);break;case"m":c=v[1],h=v[2];default:for(var m=1,y=v.length;y>m;m++)g[m]=+(v[m]-(m%2?u:l)).toFixed(3)}else{g=a[d]=[],"m"==v[0]&&(c=v[1]+u,h=v[2]+l);for(var x=0,b=v.length;b>x;x++)a[d][x]=v[x]}var w=a[d].length;switch(a[d][0]){case"z":u=c,l=h;break;case"h":u+=+a[d][w-1];break;case"v":l+=+a[d][w-1];break;default:u+=+a[d][w-2],l+=+a[d][w-1]}}return a.toString=i,r.rel=o(a),a}function E(e){var r=n(e);if(r.abs)return o(r.abs);if(O(e,"array")&&O(e&&e[0],"array")||(e=t.parsePathString(e)),!e||!e.length)return[["M",0,0]];var s,a=[],u=0,l=0,c=0,h=0,f=0;"M"==e[0][0]&&(u=+e[0][1],l=+e[0][2],c=u,h=l,f++,a[0]=["M",u,l]);for(var d,p,g=3==e.length&&"M"==e[0][0]&&"R"==e[1][0].toUpperCase()&&"Z"==e[2][0].toUpperCase(),v=f,m=e.length;m>v;v++){if(a.push(d=[]),p=e[v],s=p[0],s!=s.toUpperCase())switch(d[0]=s.toUpperCase(),d[0]){case"A":d[1]=p[1],d[2]=p[2],d[3]=p[3],d[4]=p[4],d[5]=p[5],d[6]=+p[6]+u,d[7]=+p[7]+l;break;case"V":d[1]=+p[1]+l;break;case"H":d[1]=+p[1]+u;break;case"R":for(var y=[u,l].concat(p.slice(1)),x=2,b=y.length;b>x;x++)y[x]=+y[x]+u,y[++x]=+y[x]+l;a.pop(),a=a.concat(A(y,g));break;case"O":a.pop(),y=C(u,l,p[1],p[2]),y.push(y[0]),a=a.concat(y);break;case"U":a.pop(),a=a.concat(C(u,l,p[1],p[2],p[3])),d=["U"].concat(a[a.length-1].slice(-2));break;case"M":c=+p[1]+u,h=+p[2]+l;default:for(x=1,b=p.length;b>x;x++)d[x]=+p[x]+(x%2?u:l)}else if("R"==s)y=[u,l].concat(p.slice(1)),a.pop(),a=a.concat(A(y,g)),d=["R"].concat(p.slice(-2));else if("O"==s)a.pop(),y=C(u,l,p[1],p[2]),y.push(y[0]),a=a.concat(y);else if("U"==s)a.pop(),a=a.concat(C(u,l,p[1],p[2],p[3])),d=["U"].concat(a[a.length-1].slice(-2));else for(var w=0,_=p.length;_>w;w++)d[w]=p[w];if(s=s.toUpperCase(),"O"!=s)switch(d[0]){case"Z":u=+c,l=+h;break;case"H":u=d[1];break;case"V":l=d[1];break;case"M":c=d[d.length-2],h=d[d.length-1];default:u=d[d.length-2],l=d[d.length-1]}}return a.toString=i,r.abs=o(a),a}function S(t,e,n,r){return[t,e,n,r,n,r]}function T(t,e,n,r,i,o){var s=1/3,a=2/3;return[s*t+a*n,s*e+a*r,s*i+a*n,s*o+a*r,i,o]}function M(e,n,r,i,o,s,a,u,l,c){var h,f=120*V/180,d=V/180*(+o||0),p=[],g=t._.cacher(function(t,e,n){var r=t*q.cos(n)-e*q.sin(n),i=t*q.sin(n)+e*q.cos(n);return{x:r,y:i}});if(c)L=c[0],E=c[1],_=c[2],C=c[3];else{h=g(e,n,-d),e=h.x,n=h.y,h=g(u,l,-d),u=h.x,l=h.y;var v=(q.cos(V/180*o),q.sin(V/180*o),(e-u)/2),m=(n-l)/2,y=v*v/(r*r)+m*m/(i*i);y>1&&(y=q.sqrt(y),r=y*r,i=y*i);var x=r*r,b=i*i,w=(s==a?-1:1)*q.sqrt(H((x*b-x*m*m-b*v*v)/(x*m*m+b*v*v))),_=w*r*m/i+(e+u)/2,C=w*-i*v/r+(n+l)/2,L=q.asin(((n-C)/i).toFixed(9)),E=q.asin(((l-C)/i).toFixed(9));L=_>e?V-L:L,E=_>u?V-E:E,0>L&&(L=2*V+L),0>E&&(E=2*V+E),a&&L>E&&(L-=2*V),!a&&E>L&&(E-=2*V)}var S=E-L;if(H(S)>f){var T=E,k=u,z=l;E=L+f*(a&&E>L?1:-1),u=_+r*q.cos(E),l=C+i*q.sin(E),p=M(u,l,r,i,o,0,a,k,z,[E,T,_,C])}S=E-L;var I=q.cos(L),A=q.sin(L),D=q.cos(E),O=q.sin(E),j=q.tan(S/4),N=4/3*r*j,R=4/3*i*j,P=[e,n],B=[e+N*A,n-R*I],F=[u+N*O,l-R*D],$=[u,l];if(B[0]=2*P[0]-B[0],B[1]=2*P[1]-B[1],c)return[B,F,$].concat(p);p=[B,F,$].concat(p).join().split(",");for(var U=[],W=0,X=p.length;X>W;W++)U[W]=W%2?g(p[W-1],p[W],d).y:g(p[W],p[W+1],d).x;return U}function k(t,e,n,r,i,o,s,a){for(var u,l,c,h,f,d,p,g,v=[],m=[[],[]],y=0;2>y;++y)if(0==y?(l=6*t-12*n+6*i,u=-3*t+9*n-9*i+3*s,c=3*n-3*t):(l=6*e-12*r+6*o,u=-3*e+9*r-9*o+3*a,c=3*r-3*e),H(u)<1e-12){if(H(l)<1e-12)continue;h=-c/l,h>0&&1>h&&v.push(h)}else p=l*l-4*c*u,g=q.sqrt(p),0>p||(f=(-l+g)/(2*u),f>0&&1>f&&v.push(f),d=(-l-g)/(2*u),d>0&&1>d&&v.push(d));for(var x,b=v.length,w=b;b--;)h=v[b],x=1-h,m[0][b]=x*x*x*t+3*x*x*h*n+3*x*h*h*i+h*h*h*s,m[1][b]=x*x*x*e+3*x*x*h*r+3*x*h*h*o+h*h*h*a;return m[0][w]=t,m[1][w]=e,m[0][w+1]=s,m[1][w+1]=a,m[0].length=m[1].length=w+2,{min:{x:B.apply(0,m[0]),y:B.apply(0,m[1])},max:{x:F.apply(0,m[0]),y:F.apply(0,m[1])}}}function z(t,e){var r=!e&&n(t);if(!e&&r.curve)return o(r.curve);for(var i=E(t),s=e&&E(e),a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},l=(function(t,e,n){var r,i;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(M.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"==n||"S"==n?(r=2*e.x-e.bx,i=2*e.y-e.by):(r=e.x,i=e.y),t=["C",r,i].concat(t.slice(1));break;case"T":"Q"==n||"T"==n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(T(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(T(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(S(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(S(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(S(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(S(e.x,e.y,e.X,e.Y))}return t}),c=function(t,e){if(t[e].length>7){t[e].shift();for(var n=t[e];n.length;)f[e]="A",s&&(d[e]="A"),t.splice(e++,0,["C"].concat(n.splice(0,6)));t.splice(e,1),m=F(i.length,s&&s.length||0)}},h=function(t,e,n,r,o){t&&e&&"M"==t[o][0]&&"M"!=e[o][0]&&(e.splice(o,0,["M",r.x,r.y]),n.bx=0,n.by=0,n.x=t[o][1],n.y=t[o][2],m=F(i.length,s&&s.length||0))},f=[],d=[],p="",g="",v=0,m=F(i.length,s&&s.length||0);m>v;v++){i[v]&&(p=i[v][0]),"C"!=p&&(f[v]=p,v&&(g=f[v-1])),i[v]=l(i[v],a,g),"A"!=f[v]&&"C"==p&&(f[v]="C"),c(i,v),s&&(s[v]&&(p=s[v][0]),"C"!=p&&(d[v]=p,v&&(g=d[v-1])),s[v]=l(s[v],u,g),"A"!=d[v]&&"C"==p&&(d[v]="C"),c(s,v)),h(i,s,a,u,v),h(s,i,u,a,v);var y=i[v],x=s&&s[v],b=y.length,w=s&&x.length;a.x=y[b-2],a.y=y[b-1],a.bx=P(y[b-4])||a.x,a.by=P(y[b-3])||a.y,u.bx=s&&(P(x[w-4])||u.x),u.by=s&&(P(x[w-3])||u.y),u.x=s&&x[w-2],u.y=s&&x[w-1]}return s||(r.curve=o(i)),s?[i,s]:i}function I(t,e){if(!e)return t;var n,r,i,o,s,a,u;for(t=z(t),i=0,s=t.length;s>i;i++)for(u=t[i],o=1,a=u.length;a>o;o+=2)n=e.x(u[o],u[o+1]),r=e.y(u[o],u[o+1]),u[o]=n,u[o+1]=r;return t}function A(t,e){for(var n=[],r=0,i=t.length;i-2*!e>r;r+=2){var o=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4==r?o[3]={x:+t[0],y:+t[1]}:i-2==r&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[i-2],y:+t[i-1]}:i-4==r?o[3]=o[2]:r||(o[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n}var D=e.prototype,O=t.is,j=t._.clone,N="hasOwnProperty",R=/,?([a-z]),?/gi,P=parseFloat,q=Math,V=q.PI,B=q.min,F=q.max,$=q.pow,H=q.abs,U=a(1),W=a(),X=a(0,1),G=t._unit2px,Y={path:function(t){return t.attr("path")},circle:function(t){var e=G(t);return C(e.cx,e.cy,e.r)},ellipse:function(t){var e=G(t);return C(e.cx||0,e.cy||0,e.rx,e.ry)},rect:function(t){var e=G(t);return _(e.x||0,e.y||0,e.width,e.height,e.rx,e.ry)},image:function(t){var e=G(t);return _(e.x||0,e.y||0,e.width,e.height)},line:function(t){return"M"+[t.attr("x1")||0,t.attr("y1")||0,t.attr("x2"),t.attr("y2")]},polyline:function(t){return"M"+t.attr("points")},polygon:function(t){return"M"+t.attr("points")+"z"},deflt:function(t){var e=t.node.getBBox();return _(e.x,e.y,e.width,e.height)}};t.path=n,t.path.getTotalLength=U,t.path.getPointAtLength=W,t.path.getSubpath=function(t,e,n){if(this.getTotalLength(t)-n<1e-6)return X(t,e).end;var r=X(t,n,1);return e?X(r,e).end:r},D.getTotalLength=function(){return this.node.getTotalLength?this.node.getTotalLength():void 0},D.getPointAtLength=function(t){return W(this.attr("d"),t)},D.getSubpath=function(e,n){return t.path.getSubpath(this.attr("d"),e,n)},t._.box=r,t.path.findDotsAtSegment=u,t.path.bezierBBox=l,t.path.isPointInsideBBox=c,t.closest=function(e,n,i,o){for(var s=100,a=r(e-s/2,n-s/2,s,s),u=[],l=i[0].hasOwnProperty("x")?function(t){return{x:i[t].x,y:i[t].y}}:function(t){return{x:i[t],y:o[t]}},h=0;1e6>=s&&!h;){for(var f=0,d=i.length;d>f;f++){var p=l(f);if(c(a,p.x,p.y)){h++,u.push(p);break}}h||(s*=2,a=r(e-s/2,n-s/2,s,s))}if(1e6!=s){var g,v=1/0;for(f=0,d=u.length;d>f;f++){var m=t.len(e,n,u[f].x,u[f].y);v>m&&(v=m,u[f].len=m,g=u[f])}return g}},t.path.isBBoxIntersect=h,t.path.intersection=m,t.path.intersectionNumber=y,t.path.isPointInside=b,t.path.getBBox=w,t.path.get=Y,t.path.toRelative=L,t.path.toAbsolute=E,t.path.toCubic=z,t.path.map=I,t.path.toString=i,t.path.clone=o}),r.plugin(function(t){var r=Math.max,i=Math.min,o=function(t){if(this.items=[],this.bindings={},this.length=0,this.type="set",t)for(var e=0,n=t.length;n>e;e++)t[e]&&(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},s=o.prototype;s.push=function(){for(var t,e,n=0,r=arguments.length;r>n;n++)t=arguments[n],t&&(e=this.items.length,this[e]=this.items[e]=t,this.length++);return this},s.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},s.forEach=function(t,e){for(var n=0,r=this.items.length;r>n;n++)if(t.call(e,this.items[n],n)===!1)return this;return this},s.animate=function(r,i,o,s){"function"!=typeof o||o.length||(s=o,o=n.linear),r instanceof t._.Animation&&(s=r.callback,o=r.easing,i=o.dur,r=r.attr);var a=arguments;if(t.is(r,"array")&&t.is(a[a.length-1],"array"))var u=!0;var l,c=function(){l?this.b=l:l=this.b},h=0,f=this,d=s&&function(){++h==f.length&&s.call(this)};return this.forEach(function(t,n){e.once("snap.animcreated."+t.id,c),u?a[n]&&t.animate.apply(t,a[n]):t.animate(r,i,o,d)})},s.remove=function(){for(;this.length;)this.pop().remove();return this},s.bind=function(t,e,n){var r={};if("function"==typeof e)this.bindings[t]=e;else{var i=n||t;this.bindings[t]=function(t){r[i]=t,e.attr(r)}}return this},s.attr=function(t){var e={};for(var n in t)this.bindings[n]?this.bindings[n](t[n]):e[n]=t[n];for(var r=0,i=this.items.length;i>r;r++)this.items[r].attr(e);return this},s.clear=function(){for(;this.length;)this.pop()},s.splice=function(t,e){t=0>t?r(this.length+t,0):t,e=r(0,i(this.length-t,e));var n,s=[],a=[],u=[];for(n=2;n<arguments.length;n++)u.push(arguments[n]);for(n=0;e>n;n++)a.push(this[t+n]);for(;n<this.length-t;n++)s.push(this[t+n]);var l=u.length;for(n=0;n<l+s.length;n++)this.items[t+n]=this[t+n]=l>n?u[n]:s[n-l];for(n=this.items.length=this.length-=e-l;this[n];)delete this[n++];return new o(a)},s.exclude=function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]==t)return this.splice(e,1),!0;return!1},s.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},s.getBBox=function(){for(var t=[],e=[],n=[],o=[],s=this.items.length;s--;)if(!this.items[s].removed){var a=this.items[s].getBBox();t.push(a.x),e.push(a.y),n.push(a.x+a.width),o.push(a.y+a.height)}return t=i.apply(0,t),e=i.apply(0,e),n=r.apply(0,n),o=r.apply(0,o),{x:t,y:e,x2:n,y2:o,width:n-t,height:o-e,cx:t+(n-t)/2,cy:e+(o-e)/2}},s.clone=function(t){t=new o;for(var e=0,n=this.items.length;n>e;e++)t.push(this.items[e].clone());return t},s.toString=function(){return"Snaps set"},s.type="set",t.Set=o,t.set=function(){var t=new o;return arguments.length&&t.push.apply(t,Array.prototype.slice.call(arguments,0)),t}}),r.plugin(function(t,n){function r(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}}function i(e,n,i){n=g(n).replace(/\.{3}|\u2026/g,e),e=t.parseTransformString(e)||[],n=t.parseTransformString(n)||[];for(var o,s,a,u,h=Math.max(e.length,n.length),f=[],d=[],p=0;h>p;p++){if(a=e[p]||r(n[p]),u=n[p]||r(a),a[0]!=u[0]||"r"==a[0].toLowerCase()&&(a[2]!=u[2]||a[3]!=u[3])||"s"==a[0].toLowerCase()&&(a[3]!=u[3]||a[4]!=u[4])){e=t._.transform2matrix(e,i()),n=t._.transform2matrix(n,i()),f=[["m",e.a,e.b,e.c,e.d,e.e,e.f]],d=[["m",n.a,n.b,n.c,n.d,n.e,n.f]];break}for(f[p]=[],d[p]=[],o=0,s=Math.max(a.length,u.length);s>o;o++)o in a&&(f[p][o]=a[o]),o in u&&(d[p][o]=u[o])}return{from:c(f),to:c(d),f:l(f)}}function o(t){return t}function s(t){return function(e){return+e.toFixed(3)+t}}function a(t){return t.join(" ")}function u(e){return t.rgb(e[0],e[1],e[2])}function l(t){var e,n,r,i,o,s,a=0,u=[];for(e=0,n=t.length;n>e;e++){for(o="[",s=['"'+t[e][0]+'"'],r=1,i=t[e].length;i>r;r++)s[r]="val["+a++ +"]";o+=s+"]",u[e]=o}return Function("val","return Snap.path.toString.call(["+u+"])")}function c(t){for(var e=[],n=0,r=t.length;r>n;n++)for(var i=1,o=t[n].length;o>i;i++)e.push(t[n][i]);return e}function h(t){return isFinite(parseFloat(t))}function f(e,n){return t.is(e,"array")&&t.is(n,"array")?e.toString()==n.toString():!1}var d={},p=/[a-z]+$/i,g=String;d.stroke=d.fill="colour",n.prototype.equal=function(t,n){return e("snap.util.equal",this,t,n).firstDefined()},e.on("snap.util.equal",function(e,n){var r,v,m=g(this.attr(e)||""),y=this;if(h(m)&&h(n))return{from:parseFloat(m),to:parseFloat(n),f:o};if("colour"==d[e])return r=t.color(m),v=t.color(n),{from:[r.r,r.g,r.b,r.opacity],to:[v.r,v.g,v.b,v.opacity],f:u};if("viewBox"==e)return r=this.attr(e).vb.split(" ").map(Number),v=n.split(" ").map(Number),{from:r,to:v,f:a};if("transform"==e||"gradientTransform"==e||"patternTransform"==e)return n instanceof t.Matrix&&(n=n.toTransformString()),t._.rgTransform.test(n)||(n=t._.svgTransform2string(n)),i(m,n,function(){return y.getBBox(1)});if("d"==e||"path"==e)return r=t.path.toCubic(m,n),{from:c(r[0]),to:c(r[1]),f:l(r[0])};if("points"==e)return r=g(m).split(t._.separator),v=g(n).split(t._.separator),{from:r,to:v,f:function(t){return t}};var x=m.match(p),b=g(n).match(p);return x&&f(x,b)?{from:parseFloat(m),to:parseFloat(n),f:s(x)}:{from:this.asPX(e),to:this.asPX(e,n),f:o}})}),r.plugin(function(t,n,r,i){for(var o=n.prototype,s="hasOwnProperty",a=("createTouch"in i.doc),u=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","touchstart","touchmove","touchend","touchcancel"],l={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},c=(function(t,e){var n="y"==t?"scrollTop":"scrollLeft",r=e&&e.node?e.node.ownerDocument:i.doc;return r[n in r.documentElement?"documentElement":"body"][n]}),h=function(){return this.originalEvent.preventDefault()},f=function(){return this.originalEvent.stopPropagation()},d=function(t,e,n,r){var i=a&&l[e]?l[e]:e,o=function(i){var o=c("y",r),u=c("x",r);
if(a&&l[s](e))for(var d=0,p=i.targetTouches&&i.targetTouches.length;p>d;d++)if(i.targetTouches[d].target==t||t.contains(i.targetTouches[d].target)){var g=i;i=i.targetTouches[d],i.originalEvent=g,i.preventDefault=h,i.stopPropagation=f;break}var v=i.clientX+u,m=i.clientY+o;return n.call(r,i,v,m)};return e!==i&&t.addEventListener(e,o,!1),t.addEventListener(i,o,!1),function(){return e!==i&&t.removeEventListener(e,o,!1),t.removeEventListener(i,o,!1),!0}},p=[],g=function(t){for(var n,r=t.clientX,i=t.clientY,o=c("y"),s=c("x"),u=p.length;u--;){if(n=p[u],a){for(var l,h=t.touches&&t.touches.length;h--;)if(l=t.touches[h],l.identifier==n.el._drag.id||n.el.node.contains(l.target)){r=l.clientX,i=l.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();{var f=n.el.node;f.nextSibling,f.parentNode,f.style.display}r+=s,i+=o,e("snap.drag.move."+n.el.id,n.move_scope||n.el,r-n.el._drag.x,i-n.el._drag.y,r,i,t)}},v=function(n){t.unmousemove(g).unmouseup(v);for(var r,i=p.length;i--;)r=p[i],r.el._drag={},e("snap.drag.end."+r.el.id,r.end_scope||r.start_scope||r.move_scope||r.el,n),e.off("snap.drag.*."+r.el.id);p=[]},m=u.length;m--;)!function(e){t[e]=o[e]=function(n,r){if(t.is(n,"function"))this.events=this.events||[],this.events.push({name:e,f:n,unbind:d(this.node||document,e,n,r||this)});else for(var i=0,o=this.events.length;o>i;i++)if(this.events[i].name==e)try{this.events[i].f.call(this)}catch(s){}return this},t["un"+e]=o["un"+e]=function(t){for(var n=this.events||[],r=n.length;r--;)if(n[r].name==e&&(n[r].f==t||!t))return n[r].unbind(),n.splice(r,1),!n.length&&delete this.events,this;return this}}(u[m]);o.hover=function(t,e,n,r){return this.mouseover(t,n).mouseout(e,r||n)},o.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var y=[];o.drag=function(n,r,i,o,s,a){function u(u,l,h){(u.originalEvent||u).preventDefault(),c._drag.x=l,c._drag.y=h,c._drag.id=u.identifier,!p.length&&t.mousemove(g).mouseup(v),p.push({el:c,move_scope:o,start_scope:s,end_scope:a}),r&&e.on("snap.drag.start."+c.id,r),n&&e.on("snap.drag.move."+c.id,n),i&&e.on("snap.drag.end."+c.id,i),e("snap.drag.start."+c.id,s||o||c,l,h,u)}function l(t,n,r){e("snap.draginit."+c.id,c,t,n,r)}var c=this;if(!arguments.length){var h;return c.drag(function(t,e){this.attr({transform:h+(h?"T":"t")+[t,e]})},function(){h=this.transform().local})}return e.on("snap.draginit."+c.id,u),c._drag={},y.push({el:c,start:u,init:l}),c.mousedown(l),c},o.undrag=function(){for(var n=y.length;n--;)y[n].el==this&&(this.unmousedown(y[n].init),y.splice(n,1),e.unbind("snap.drag.*."+this.id),e.unbind("snap.draginit."+this.id));return!y.length&&t.unmousemove(g).unmouseup(v),this}}),r.plugin(function(t,n,r){var i=(n.prototype,r.prototype),o=/^\s*url\((.+)\)/,s=String,a=t._.$;t.filter={},i.filter=function(e){var r=this;"svg"!=r.type&&(r=r.paper);var i=t.parse(s(e)),o=t._.id(),u=(r.node.offsetWidth,r.node.offsetHeight,a("filter"));return a(u,{id:o,filterUnits:"userSpaceOnUse"}),u.appendChild(i.node),r.defs.appendChild(u),new n(u)},e.on("snap.util.getattr.filter",function(){e.stop();var n=a(this.node,"filter");if(n){var r=s(n).match(o);return r&&t.select(r[1])}}),e.on("snap.util.attr.filter",function(r){if(r instanceof n&&"filter"==r.type){e.stop();var i=r.node.id;i||(a(r.node,{id:r.id}),i=r.id),a(this.node,{filter:t.url(i)})}r&&"none"!=r||(e.stop(),this.node.removeAttribute("filter"))}),t.filter.blur=function(e,n){null==e&&(e=2);var r=null==n?e:[e,n];return t.format('<feGaussianBlur stdDeviation="{def}"/>',{def:r})},t.filter.blur.toString=function(){return this()},t.filter.shadow=function(e,n,r,i,o){return"string"==typeof r&&(i=r,o=i,r=4),"string"!=typeof i&&(o=i,i="#000"),i=i||"#000",null==r&&(r=4),null==o&&(o=1),null==e&&(e=0,n=2),null==n&&(n=e),i=t.color(i),t.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',{color:i,dx:e,dy:n,blur:r,opacity:o})},t.filter.shadow.toString=function(){return this()},t.filter.grayscale=function(e){return null==e&&(e=1),t.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-e),b:.7152-.7152*(1-e),c:.0722-.0722*(1-e),d:.2126-.2126*(1-e),e:.7152+.2848*(1-e),f:.0722-.0722*(1-e),g:.2126-.2126*(1-e),h:.0722+.9278*(1-e)})},t.filter.grayscale.toString=function(){return this()},t.filter.sepia=function(e){return null==e&&(e=1),t.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-e),b:.769-.769*(1-e),c:.189-.189*(1-e),d:.349-.349*(1-e),e:.686+.314*(1-e),f:.168-.168*(1-e),g:.272-.272*(1-e),h:.534-.534*(1-e),i:.131+.869*(1-e)})},t.filter.sepia.toString=function(){return this()},t.filter.saturate=function(e){return null==e&&(e=1),t.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-e})},t.filter.saturate.toString=function(){return this()},t.filter.hueRotate=function(e){return e=e||0,t.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:e})},t.filter.hueRotate.toString=function(){return this()},t.filter.invert=function(e){return null==e&&(e=1),t.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:e,amount2:1-e})},t.filter.invert.toString=function(){return this()},t.filter.brightness=function(e){return null==e&&(e=1),t.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:e})},t.filter.brightness.toString=function(){return this()},t.filter.contrast=function(e){return null==e&&(e=1),t.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',{amount:e,amount2:.5-e/2})},t.filter.contrast.toString=function(){return this()}}),r.plugin(function(t,e){var n=t._.box,r=t.is,i=/^[^a-z]*([tbmlrc])/i,o=function(){return"T"+this.dx+","+this.dy};e.prototype.getAlign=function(t,e){null==e&&r(t,"string")&&(e=t,t=null),t=t||this.paper;var s=t.getBBox?t.getBBox():n(t),a=this.getBBox(),u={};switch(e=e&&e.match(i),e=e?e[1].toLowerCase():"c"){case"t":u.dx=0,u.dy=s.y-a.y;break;case"b":u.dx=0,u.dy=s.y2-a.y2;break;case"m":u.dx=0,u.dy=s.cy-a.cy;break;case"l":u.dx=s.x-a.x,u.dy=0;break;case"r":u.dx=s.x2-a.x2,u.dy=0;break;default:u.dx=s.cx-a.cx,u.dy=0}return u.toString=o,u},e.prototype.align=function(t,e){return this.transform("..."+this.getAlign(t,e))}}),r}),define("core/sprite",["lodash","snap.svg"],function(t,e){function n(t,e,n){this.id=t,this.layerIndex=e,this.elements=n}function r(t,e){this.typeId=t,this.state=e,this.el=this.createElement()}return n.$list=new Map,n.register=function(e,r){if(t.isArray(e))return e.every(function(t){return n.register(t,r)});var i=n.$list;if(i.has(e))return console.warn("Sprite is already registered:",e),!1;var o=r.layerIndex||0,s=r.elements;return t.isFunction(s)?i.set(e,new n(e,o,s(e))):i.set(e,new n(e,o,s)),!0},n.get=function(t){return n.$list.has(t)||console.error("Sprite not found:",t),n.$list.get(t)},n.prototype.getStateCount=function(){return this.elements.length},r.prototype.getType=function(){return n.get(this.typeId)},r.prototype.getLayerIndex=function(){return this.getType().layerIndex},r.prototype.setTypeId=function(t){return this.typeId=t,this},r.prototype.setState=function(t){return this.state=t,this},r.prototype.update=function(){var t,e=this.createElement();return this.el&&e&&(t=this.el.parentNode,t&&t.replaceChild(e,this.el)),this.el=e,this},r.prototype.createElement=function(){var t,e,r=n.get(this.typeId);if(r)if(t=r.elements){if(e=t[this.state])return e.cloneNode(!0);console.error("Sprite element not found:",this.typeId,this.state)}else console.error("No elements was defined for type:",this.typeId);else console.error("Sprite type not registered:",this.typeId)},r.prototype.remove=function(){var t,e=this.el;e&&(t=e.parentNode,t&&t.removeChild(e))},r.prototype.addClass=function(t){e(this.el).addClass(t)},r.Type=n,r}),define("sprites/tile-holder.svg",[],function(){return function(obj){obj||(obj={});var __p="";with(obj)__p+='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 64 64">\n	<rect class="tile-holder" width="64" height="64" />\n</svg>\n';return __p}}),define("core/sprites/tile-holder",["snap.svg","core/sprite","sprites/tile-holder.svg"],function(t,e,n){var r=t.parse(n());e.Type.register("tile-holder",{layerIndex:0,elements:[r.select(".tile-holder").node]})}),define("sprites/tool-amount.svg",[],function(){return function(obj){obj||(obj={});var __p="";with(obj)__p+='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 64 64">\n	<text class="tool-amount unselectable" x="8" y="22" width="20" height="20"><tspan /></text>\n</svg>\n';return __p}}),define("core/sprites/tool-amount",["snap.svg","core/sprite","sprites/tool-amount.svg"],function(t,e,n){var r=t.parse(n());e.Type.register("tool-amount",{layerIndex:4,elements:[r.select(".tool-amount").node]})}),define("sprites/beam.svg",[],function(){return function(obj){obj||(obj={});var __p="";with(obj)__p+='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 64 64">\n	<g>\n		<path class="li" d="m 31,31 0,2 33,0 0,-2 z" />\n		<path class="li" d="M 63.31275,-0.6875 30.594,32 l 1.40625,1.40625 32.6875,-32.71875 -1.375,-1.375 z" />\n		<path class="li" d="m 31,33 2,0 0,-33 -2,0 z" />\n		<path class="li" d="M 0.68725,-0.6875 33.406,32 31.99975,33.40625 -0.68775,0.6875 l 1.375,-1.375 z" />\n		<path class="li" d="m 33,33 0,-2 -33,0 0,2 z" />\n		<path class="li" d="M 0.68725,64.6875 33.406,32 31.99975,30.59375 -0.68775,63.3125 l 1.375,1.375 z" />\n		<path class="li" d="m 33,31 -2,0 0,33 2,0 z" />\n		<path class="li" d="M 63.31275,64.6875 30.594,32 l 1.40625,-1.40625 32.6875,32.71875 -1.375,1.375 z" />\n	</g>\n</svg>\n';return __p}}),define("core/sprites/beam",["lodash","snap.svg","core/sprite","sprites/beam.svg"],function(t,e,n,r){var i=e.parse(r());n.Type.register(["lib","lig","lir","lia","lip","liy","liw"],{layerIndex:2,elements:function(e){var n=i.selectAll(".li");return t.map(n,function(t){return t.clone().addClass(e[2]).remove().node})}})}),define("sprites/lamp.svg",[],function(){return function(obj){obj||(obj={});var __p="";with(obj)__p+='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 64 64">\n	<g>\n		<g class="item lam on">\n			<path d="M 28.574298,33.302395 C 27.38825,35.456226 26.401638,37.09612 25.215625,38.457418 C 24.159667,39.70302 22.887538,40.645591 21.823228,41.086442 C 20.581534,41.600768 19.54766,41.613376 18.54422,41.197736 C 17.363395,40.855573 16.390388,40.01169 15.544579,38.758128 C 15.214785,37.173532 15.306088,35.888797 15.899112,34.811881 C 16.314751,33.808441 17.056174,33.089794 18.308751,32.568731 C 19.360728,32.131117 20.926756,31.898086 22.528351,32.111348 C 24.352717,32.141561 26.212647,32.618069 28.574298,33.302395 z" />\n			<path d="M 36.608,32 C 36.608,34.544928 34.544928,36.608 32,36.608 C 29.455072,36.608 27.392,34.544928 27.392,32 C 27.392,29.455072 29.455072,27.392 32,27.392 C 34.544928,27.392 36.608,29.455072 36.608,32 z" />\n			<path d="M 35.425702,30.706575 C 36.61175,28.552744 37.598364,26.912849 38.784375,25.551552 C 39.840333,24.30595 41.112462,23.363378 42.17677,22.922526 C 43.418466,22.4082 44.45234,22.395594 45.455781,22.811234 C 46.636606,23.153397 47.609612,23.99728 48.455421,25.250842 C 48.785215,26.835438 48.693912,28.120173 48.100888,29.197089 C 47.68525,30.200529 46.943827,30.919176 45.691249,31.440239 C 44.639272,31.877853 43.073244,32.110884 41.471649,31.897622 C 39.647283,31.867409 37.787353,31.390901 35.425702,30.706575 z" />\n			<path d="M 33.299627,35.429848 C 35.453458,36.615895 37.093353,37.602508 38.454649,38.78852 C 39.700252,39.844479 40.642823,41.116609 41.083675,42.180919 C 41.598001,43.422613 41.610609,44.456487 41.194969,45.459928 C 40.852806,46.640754 40.008923,47.613759 38.755361,48.459568 C 37.170765,48.789363 35.88603,48.698059 34.809114,48.105036 C 33.805674,47.689398 33.087025,46.947974 32.565964,45.695396 C 32.12835,44.643418 31.895317,43.077388 32.10858,41.475795 C 32.138793,39.651429 32.615301,37.791499 33.299627,35.429848 z" />\n			<path d="M 30.703806,28.578441 C 28.549975,27.392394 26.910081,26.405781 25.548783,25.219769 C 24.303182,24.16381 23.360609,22.891681 22.919757,21.827373 C 22.405431,20.585679 22.392827,19.551803 22.808465,18.548363 C 23.150628,17.367538 23.994512,16.394532 25.248073,15.548722 C 26.832669,15.218928 28.117405,15.310231 29.19432,15.903255 C 30.19776,16.318894 30.916407,17.060317 31.437471,18.312895 C 31.875084,19.364871 32.108117,20.930901 31.894853,22.532494 C 31.86464,24.35686 31.388133,26.21679 30.703806,28.578441 z" />\n			<path d="M 30.697538,35.428768 C 31.381864,37.790417 31.843803,39.647639 31.96775,41.448858 C 32.101847,43.076308 31.868815,44.642338 31.427965,45.706646 C 30.913637,46.94834 30.191492,47.688314 29.188052,48.103952 C 28.111136,48.696977 26.8264,48.78828 25.341921,48.499955 C 23.988243,47.612676 23.14436,46.63967 22.802197,45.458845 C 22.386557,44.455404 22.402663,43.422978 22.919921,42.168826 C 23.354341,41.115526 24.296913,39.843398 25.580211,38.8617 C 26.891595,37.593042 28.543706,36.614814 30.697538,35.428768 z" />\n			<path d="M 33.302463,28.580202 C 32.618136,26.218552 32.156197,24.361331 32.032251,22.560112 C 31.898154,20.932661 32.131184,19.366632 32.572035,18.302322 C 33.086361,17.06063 33.808509,16.320656 34.811949,15.905018 C 35.888864,15.311993 37.1736,15.22069 38.65808,15.509015 C 40.011757,16.396293 40.855641,17.3693 41.197804,18.550125 C 41.613442,19.553566 41.597338,20.585991 41.08008,21.840144 C 40.645658,22.893443 39.703087,24.165572 38.41979,25.147269 C 37.108405,26.415928 35.456294,27.394156 33.302463,28.580202 z" />\n			<path d="M 35.428427,33.304179 C 37.790078,32.619853 39.647299,32.157913 41.448519,32.033968 C 43.075967,31.899869 44.641999,32.132902 45.706309,32.573753 C 46.948003,33.088081 47.687977,33.810226 48.103615,34.813666 C 48.696639,35.890582 48.787942,37.175318 48.499617,38.659797 C 47.612339,40.013475 46.639333,40.857358 45.458507,41.199521 C 44.455066,41.615161 43.422641,41.599057 42.168488,41.081797 C 41.115188,40.647375 39.843058,39.704804 38.86136,38.421506 C 37.592702,37.110122 36.614474,35.45801 35.428427,33.304179 z" />\n			<path d="M 28.57986,30.699254 C 26.218211,31.38358 24.360989,31.845519 22.55977,31.969465 C 20.932321,32.103563 19.36629,31.870532 18.301981,31.429682 C 17.060287,30.915355 16.320313,30.193208 15.904675,29.189768 C 15.311651,28.112852 15.220349,26.828116 15.508673,25.343636 C 16.395952,23.989959 17.368959,23.146075 18.549783,22.803913 C 19.553224,22.388273 20.585649,22.404379 21.839802,22.921637 C 22.893102,23.356057 24.165229,24.298629 25.146929,25.581927 C 26.415586,26.893311 27.393814,28.545422 28.57986,30.699254 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item lam off">\n			<path d="M 27.472727,33.878965 C 26.484354,35.673824 25.662177,37.040402 24.673833,38.174817 C 23.793868,39.212819 22.733761,39.998295 21.846836,40.365671 C 20.812091,40.794276 19.950529,40.804782 19.114329,40.458416 C 18.130308,40.17328 17.319469,39.470044 16.614628,38.425409 C 16.3398,37.104912 16.415886,36.0343 16.910072,35.13687 C 17.256438,34.30067 17.874291,33.701797 18.918105,33.267578 C 19.794752,32.9029 21.099776,32.708707 22.434438,32.886426 C 23.954743,32.911603 25.504685,33.308693 27.472727,33.878965 z" />\n			<path d="M 35.84,32 C 35.84,34.120773 34.120773,35.84 32,35.84 C 29.879227,35.84 28.16,34.120773 28.16,32 C 28.16,29.879227 29.879227,28.16 32,28.16 C 34.120773,28.16 35.84,29.879227 35.84,32 z" />\n			<path d="M 36.527273,30.130005 C 37.515646,28.335146 38.337824,26.968567 39.326167,25.834153 C 40.206132,24.796151 41.266239,24.010674 42.153163,23.643298 C 43.187909,23.214693 44.049471,23.204188 44.885672,23.550554 C 45.869693,23.83569 46.680531,24.538926 47.385372,25.583561 C 47.6602,26.904058 47.584114,27.97467 47.089928,28.8721 C 46.743563,29.7083 46.12571,30.307173 45.081895,30.741392 C 44.205248,31.10607 42.900224,31.300263 41.565562,31.122544 C 40.045257,31.097367 38.495315,30.700277 36.527273,30.130005 z" />\n			<path d="M 33.876197,36.531419 C 35.671056,37.519791 37.037635,38.341969 38.172049,39.330312 C 39.210051,40.210278 39.995527,41.270386 40.362904,42.157311 C 40.791509,43.192056 40.802015,44.053618 40.455649,44.889819 C 40.170513,45.87384 39.467277,46.684678 38.422642,47.389519 C 37.102145,47.664348 36.031533,47.588261 35.134103,47.094075 C 34.297903,46.74771 33.699029,46.129857 33.264811,45.086042 C 32.900133,44.209394 32.705939,42.904369 32.883658,41.569708 C 32.908835,40.049403 33.305925,38.499461 33.876197,36.531419 z" />\n			<path d="M 30.127236,27.47687 C 28.332377,26.488498 26.965799,25.66632 25.831384,24.677977 C 24.793383,23.798011 24.007905,22.737904 23.640529,21.85098 C 23.211924,20.816235 23.20142,19.954672 23.547785,19.118472 C 23.832921,18.134451 24.536158,17.323613 25.580792,16.618771 C 26.901289,16.343943 27.971902,16.420029 28.869331,16.914215 C 29.705531,17.260581 30.304404,17.878434 30.738624,18.922249 C 31.103301,19.798895 31.297495,21.10392 31.119775,22.438581 C 31.094598,23.958886 30.697509,25.508828 30.127236,27.47687 z" />\n			<path d="M 30.124193,36.531208 C 30.694465,38.499249 31.079414,40.046934 31.182703,41.54795 C 31.294451,42.904158 31.100257,44.209183 30.732882,45.096107 C 30.304276,46.130852 29.702488,46.747497 28.866288,47.093862 C 27.968858,47.588049 26.898245,47.664135 25.661179,47.423864 C 24.533114,46.684465 23.829878,45.873627 23.544742,44.889606 C 23.198376,44.053405 23.211797,43.19305 23.642846,42.147923 C 24.004862,41.270173 24.790339,40.210067 25.859754,39.391985 C 26.952574,38.33477 28.329333,37.51958 30.124193,36.531208 z" />\n			<path d="M 33.875808,27.477762 C 33.305535,25.50972 32.920586,23.962036 32.817298,22.46102 C 32.70555,21.104811 32.899742,19.799787 33.267118,18.912862 C 33.695723,17.878118 34.297513,17.261473 35.133713,16.915108 C 36.031142,16.420921 37.101755,16.344835 38.338822,16.585106 C 39.466886,17.324504 40.170123,18.135343 40.455259,19.119364 C 40.801624,19.955565 40.788204,20.815919 40.357155,21.861047 C 39.995137,22.738796 39.209661,23.798903 38.140247,24.616984 C 37.047426,25.6742 35.670667,26.48939 33.875808,27.477762 z" />\n			<path d="M 36.530868,33.877524 C 38.49891,33.307252 40.046594,32.922302 41.547611,32.819015 C 42.903818,32.707266 44.208844,32.90146 45.095769,33.268836 C 46.130514,33.697442 46.747159,34.29923 47.093524,35.13543 C 47.587711,36.03286 47.663797,37.103473 47.423526,38.340539 C 46.684128,39.468604 45.873289,40.17184 44.889268,40.456976 C 44.053067,40.803342 43.192713,40.789922 42.147585,40.358872 C 41.269835,39.996854 40.209727,39.211378 39.391645,38.141963 C 38.33443,37.049143 37.51924,35.672383 36.530868,33.877524 z" />\n			<path d="M 27.47742,30.125909 C 25.509379,30.696181 23.961694,31.08113 22.460678,31.184418 C 21.104471,31.296167 19.799445,31.101974 18.912521,30.734599 C 17.877776,30.305993 17.261131,29.704204 16.914766,28.868004 C 16.420579,27.970574 16.344494,26.899961 16.584764,25.662894 C 17.324163,24.53483 18.135002,23.831593 19.119022,23.546458 C 19.955223,23.200092 20.815577,23.213513 21.860705,23.644562 C 22.738455,24.006578 23.798561,24.792055 24.616644,25.86147 C 25.673858,26.95429 26.489048,28.331049 27.47742,30.125909 z" />\n			<rect width="64" height="64" />\n		</g>\n	</g>\n</svg>\n';return __p}}),define("core/sprites/lamp",["lodash","snap.svg","core/sprite","sprites/lamp.svg"],function(t,e,n,r){var i=e.parse(r());n.Type.register(["lab","lag","lar","laa","lap","lay","law","lad"],{layerIndex:3,elements:function(e){var n=i.selectAll(".lam");return t.map(n,function(t){return t.clone().addClass(e[2]).remove().node})}})}),define("sprites/ray.svg",[],function(){return function(obj){obj||(obj={});var __p="";with(obj)__p+='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 64 64">\n	<defs>\n		<radialGradient id="ray-gradient-b" class="b" cx="32" cy="32" fx="32" fy="32" r="10" gradientUnits="userSpaceOnUse">\n			<stop offset="0" style="stop-color:#333333;stop-opacity:1;" />\n			<stop offset="0.63636363" style="stop-color: #0000ff;stop-opacity: 1;" />\n			<stop offset="1" style="stop-color: #0000ff;stop-opacity: 0" />\n		</radialGradient>\n		<radialGradient id="ray-gradient-g" class="g" cx="32" cy="32" fx="32" fy="32" r="10" gradientUnits="userSpaceOnUse">\n			<stop offset="0" style="stop-color:#333333;stop-opacity:1;" />\n			<stop offset="0.63636363" style="stop-color: #00ff00;stop-opacity: 1;" />\n			<stop offset="1" style="stop-color: #00ff00;stop-opacity: 0" />\n		</radialGradient>\n		<radialGradient id="ray-gradient-r" class="r" cx="32" cy="32" fx="32" fy="32" r="10" gradientUnits="userSpaceOnUse">\n			<stop offset="0" style="stop-color:#333333;stop-opacity:1;" />\n			<stop offset="0.63636363" style="stop-color: #ff0000;stop-opacity: 1;" />\n			<stop offset="1" style="stop-color: #ff0000;stop-opacity: 0" />\n		</radialGradient>\n		<radialGradient id="ray-gradient-a" class="a" cx="32" cy="32" fx="32" fy="32" r="10" gradientUnits="userSpaceOnUse">\n			<stop offset="0" style="stop-color:#333333;stop-opacity:1;" />\n			<stop offset="0.63636363" style="stop-color: #00ffff;stop-opacity: 1;" />\n			<stop offset="1" style="stop-color: #00ffff;stop-opacity: 0" />\n		</radialGradient>\n		<radialGradient id="ray-gradient-p" class="p" cx="32" cy="32" fx="32" fy="32" r="10" gradientUnits="userSpaceOnUse">\n			<stop offset="0" style="stop-color:#333333;stop-opacity:1;" />\n			<stop offset="0.63636363" style="stop-color: #ff00ff;stop-opacity: 1;" />\n			<stop offset="1" style="stop-color: #ff00ff;stop-opacity: 0" />\n		</radialGradient>\n		<radialGradient id="ray-gradient-y" class="y" cx="32" cy="32" fx="32" fy="32" r="10" gradientUnits="userSpaceOnUse">\n			<stop offset="0" style="stop-color:#333333;stop-opacity:1;" />\n			<stop offset="0.63636363" style="stop-color: #ffff00;stop-opacity: 1;" />\n			<stop offset="1" style="stop-color: #ffff00;stop-opacity: 0" />\n		</radialGradient>\n		<radialGradient id="ray-gradient-w" class="w" cx="32" cy="32" fx="32" fy="32" r="10" gradientUnits="userSpaceOnUse">\n			<stop offset="0" style="stop-color:#333333;stop-opacity:1;" />\n			<stop offset="0.63636363" style="stop-color: #ffffff;stop-opacity: 1;" />\n			<stop offset="1" style="stop-color: #ffffff;stop-opacity: 0" />\n		</radialGradient>\n	</defs>\n	<g>\n		<g class="item ray">\n			<path d="m 39,30 6,0 0,4 -6,0 z" />\n			<path d="m 32,16 c -8.836555,0 -15,7.163447 -15,16 0,8.83656 6.163445,16 15,16 6.45484,0 12.00187,-3.83907 14.53125,-9.34375 C 43.32314,37.74487 40,35.110919 40,32 c 0,4.97057 -3.02944,14 -8,14 -4.970565,0 -8,-9.02943 -8,-14 0,-4.970563 3.029435,-14 8,-14 4.97056,0 8,9.029437 8,14 0,-3.110918 3.32314,-5.744868 6.53125,-6.65625 C 44.00187,19.839076 38.45484,16 32,16 z" />\n			<path d="m 40,32 c 0,7.73199 -3.58172,14 -8,14 -4.41828,0 -8,-7 -8,-14 0,-7 3.58172,-14 8,-14 4.41828,0 8,6.26801 8,14 z" />\n			<path d="m 43,32 c 0,6.075134 -4.924864,11 -11,11 -6.075134,0 -11,-4.924866 -11,-11 0,-6.075136 4.924866,-11 11,-11 6.075136,0 11,4.924864 11,11 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item ray">\n			<path d="m 35.535534,25.636039 4.242641,-4.242641 2.828427,2.828427 -4.242641,4.242641 z" />\n			<path d="m 20.686292,20.686292 c -6.248388,6.248387 -5.54128,15.671923 0.707106,21.92031 6.248392,6.248391 15.671923,6.955494 21.92031,0.707106 4.564262,-4.564261 5.771972,-11.201236 3.668117,-16.882174 -2.912919,1.624033 -7.125219,2.111364 -9.324971,-0.08839 3.514724,3.514724 7.757358,12.041632 4.242641,15.556349 -3.51472,3.51472 -12.041625,-0.727917 -15.556349,-4.242641 -3.514719,-3.514719 -7.757361,-12.041629 -4.242641,-15.556349 3.514717,-3.514717 12.04163,0.727922 15.556349,4.242641 -2.199751,-2.199751 -1.71242,-6.41205 -0.08839,-9.324971 C 31.88753,14.914323 25.250551,16.122028 20.68629,20.68629 z" />\n			<path d="m 37.656854,26.343146 c 5.467343,5.467342 7.366837,12.432153 4.242641,15.556349 -3.124196,3.124196 -10.606602,0.707107 -15.556349,-4.242641 -4.949748,-4.949747 -7.366837,-12.432153 -4.242641,-15.556349 3.124196,-3.124196 10.089007,-1.224702 15.556349,4.242641 z" />\n			<path d="m 39.778175,24.221825 c 4.295768,4.295769 4.295769,11.26058 0,15.55635 -4.295769,4.295768 -11.260581,4.295768 -15.55635,0 -4.295769,-4.29577 -4.295768,-11.260581 0,-15.55635 4.29577,-4.295769 11.26058,-4.295769 15.55635,0 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item ray">\n			<path d="m 30,25 0,-6 4,0 0,6 z" />\n			<path d="m 16,32 c 0,8.836555 7.163447,15 16,15 8.83656,0 16,-6.163445 16,-15 C 48,25.54516 44.16093,19.99813 38.65625,17.46875 37.74487,20.67686 35.110919,24 32,24 c 4.97057,0 14,3.02944 14,8 0,4.970565 -9.02943,8 -14,8 -4.970563,0 -14,-3.029435 -14,-8 0,-4.97056 9.029437,-8 14,-8 -3.110918,0 -5.744868,-3.32314 -6.65625,-6.53125 C 19.839076,19.99813 16,25.54516 16,32 z" />\n			<path d="m 32,24 c 7.73199,0 14,3.58172 14,8 0,4.41828 -7,8 -14,8 -7,0 -14,-3.58172 -14,-8 0,-4.41828 6.26801,-8 14,-8 z" />\n			<path d="m 32,21 c 6.075134,0 11,4.924864 11,11 0,6.075134 -4.924866,11 -11,11 -6.075136,0 -11,-4.924866 -11,-11 0,-6.075136 4.924864,-11 11,-11 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item ray">\n			<path d="m 25.636039,28.464466 -4.242641,-4.242641 2.828427,-2.828427 4.242641,4.242641 z" />\n			<path d="m 20.686292,43.313708 c 6.248387,6.248388 15.671923,5.54128 21.92031,-0.707106 6.248391,-6.248392 6.955494,-15.671923 0.707106,-21.92031 -4.564261,-4.564262 -11.201236,-5.771972 -16.882174,-3.668117 1.624033,2.912919 2.111364,7.125219 -0.08839,9.324971 3.514724,-3.514724 12.041632,-7.757358 15.556349,-4.242641 3.51472,3.51472 -0.727917,12.041625 -4.242641,15.556349 -3.514719,3.514719 -12.041629,7.757361 -15.556349,4.242641 -3.514717,-3.514717 0.727922,-12.04163 4.242641,-15.556349 -2.199751,2.199751 -6.41205,1.71242 -9.324971,0.08839 -2.10385,5.680934 -0.896145,12.317913 3.668117,16.882174 z" />\n			<path d="m 26.449697,26.343146 c 5.467342,-5.467343 12.432153,-7.366837 15.556349,-4.242641 3.124196,3.124196 0.707107,10.606602 -4.242641,15.556349 -4.949747,4.949748 -12.432153,7.366837 -15.556349,4.242641 -3.124196,-3.124196 -1.224702,-10.089007 4.242641,-15.556349 z" />\n			<path d="m 24.221825,24.221825 c 4.295769,-4.295768 11.26058,-4.295769 15.55635,0 4.295768,4.295769 4.295768,11.260581 0,15.55635 -4.29577,4.295769 -11.260581,4.295768 -15.55635,0 -4.295769,-4.29577 -4.295769,-11.26058 0,-15.55635 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item ray">\n			<path d="m 25,34 -6,0 0,-4 6,0 z" />\n			<path d="M 32,48 C 40.836555,48 47,40.836553 47,32 47,23.16344 40.836555,16 32,16 25.54516,16 19.99813,19.83907 17.46875,25.34375 20.67686,26.25513 24,28.889081 24,32 c 0,-4.97057 3.02944,-14 8,-14 4.970565,0 8,9.02943 8,14 0,4.970563 -3.029435,14 -8,14 -4.97056,0 -8,-9.029437 -8,-14 0,3.110918 -3.32314,5.744868 -6.53125,6.65625 C 19.99813,44.160924 25.54516,48 32,48 z" />\n			<path d="m 24,32 c 0,-7.73199 3.58172,-14 8,-14 4.41828,0 8,7 8,14 0,7 -3.58172,14 -8,14 -4.41828,0 -8,-6.26801 -8,-14 z" />\n			<path d="m 21,32 c 0,-6.075134 4.924864,-11 11,-11 6.075134,0 11,4.924866 11,11 0,6.075136 -4.924866,11 -11,11 -6.075136,0 -11,-4.924864 -11,-11 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item ray">\n			<path d="m 28.464466,38.363961 -4.242641,4.242641 -2.828427,-2.828427 4.242641,-4.242641 z" />\n			<path d="m 43.313708,43.313708 c 6.248388,-6.248387 5.54128,-15.671923 -0.707106,-21.92031 -6.248392,-6.248391 -15.671923,-6.955494 -21.92031,-0.707106 -4.564262,4.564261 -5.771972,11.201236 -3.668117,16.882174 2.912919,-1.624033 7.125219,-2.111364 9.324971,0.08839 -3.514724,-3.514724 -7.757358,-12.041632 -4.242641,-15.556349 3.51472,-3.51472 12.041625,0.727917 15.556349,4.242641 3.514719,3.514719 7.757361,12.041629 4.242641,15.556349 -3.514717,3.514717 -12.04163,-0.727922 -15.556349,-4.242641 2.199751,2.199751 1.71242,6.41205 0.08839,9.324971 5.680934,2.10385 12.317913,0.896145 16.882174,-3.668117 z" />\n			<path d="M 26.449697,37.550303 C 20.982354,32.082961 19.08286,25.11815 22.207056,21.993954 c 3.124196,-3.124196 10.606602,-0.707107 15.556349,4.242641 4.949748,4.949747 7.366837,12.432153 4.242641,15.556349 -3.124196,3.124196 -10.089007,1.224702 -15.556349,-4.242641 z" />\n			<path d="m 24.221825,39.778174 c -4.295768,-4.295769 -4.295769,-11.26058 0,-15.55635 4.295769,-4.295768 11.260581,-4.295768 15.55635,0 4.295769,4.29577 4.295768,11.260581 0,15.55635 -4.29577,4.295769 -11.26058,4.295769 -15.55635,0 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item ray">\n			<path d="m 34,39 0,6 -4,0 0,-6 z" />\n			<path d="M 48,32 C 48,23.163445 40.836553,17 32,17 23.16344,17 16,23.163445 16,32 16,38.45484 19.83907,44.00187 25.34375,46.53125 26.25513,43.32314 28.889081,40 32,40 27.02943,40 18,36.97056 18,32 c 0,-4.970565 9.02943,-8 14,-8 4.970563,0 14,3.029435 14,8 0,4.97056 -9.029437,8 -14,8 3.110918,0 5.744868,3.32314 6.65625,6.53125 C 44.160924,44.00187 48,38.45484 48,32 z" />\n			<path d="m 32,40 c -7.73199,0 -14,-3.58172 -14,-8 0,-4.41828 7,-8 14,-8 7,0 14,3.58172 14,8 0,4.41828 -6.26801,8 -14,8 z" />\n			<path d="m 32,43 c -6.075134,0 -11,-4.924864 -11,-11 0,-6.075134 4.924866,-11 11,-11 6.075136,0 11,4.924866 11,11 0,6.075136 -4.924864,11 -11,11 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item ray">\n			<path d="m 38.363961,35.535534 4.242641,4.242641 -2.828427,2.828427 -4.242641,-4.242641 z" />\n			<path d="m 43.313708,20.686292 c -6.248387,-6.248388 -15.671923,-5.54128 -21.92031,0.707106 -6.248391,6.248392 -6.955494,15.671923 -0.707106,21.92031 4.564261,4.564262 11.201236,5.771972 16.882174,3.668117 -1.624033,-2.912919 -2.111364,-7.125219 0.08839,-9.324971 -3.514724,3.514724 -12.041632,7.757358 -15.556349,4.242641 -3.51472,-3.51472 0.727917,-12.041625 4.242641,-15.556349 3.514719,-3.514719 12.041629,-7.757361 15.556349,-4.242641 3.514717,3.514717 -0.727922,12.04163 -4.242641,15.556349 2.199751,-2.199751 6.41205,-1.71242 9.324971,-0.08839 2.10385,-5.680934 0.896145,-12.317913 -3.668117,-16.882174 z" />\n			<path d="m 37.656854,37.550303 c -5.467342,5.467343 -12.432153,7.366837 -15.556349,4.242641 -3.124196,-3.124196 -0.707107,-10.606602 4.242641,-15.556349 4.949747,-4.949748 12.432153,-7.366837 15.556349,-4.242641 3.124196,3.124196 1.224702,10.089007 -4.242641,15.556349 z" />\n			<path d="m 39.778175,39.778175 c -4.295769,4.295768 -11.26058,4.295769 -15.55635,0 -4.295768,-4.295769 -4.295768,-11.260581 0,-15.55635 4.29577,-4.295769 11.260581,-4.295768 15.55635,0 4.295769,4.29577 4.295769,11.26058 0,15.55635 z" />\n			<rect width="64" height="64" />\n		</g>\n	</g>\n</svg>\n';return __p}}),define("core/sprites/ray",["lodash","snap.svg","core/sprite","sprites/ray.svg"],function(t,e,n,r){var i=e.parse(r());n.Type.register(["rab","rag","rar","raa","rap","ray","raw"],{layerIndex:3,elements:function(e){var n=i.selectAll(".ray");return t.map(n,function(t){return t.clone().addClass(e[2]).remove().node})}})}),define("sprites/brick.svg",[],function(){return function(obj){obj||(obj={});var __p="";with(obj)__p+='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 64 64">\n	<g>\n		<g class="item bri">\n			<path d="M 63,63 L 63,1 L 1,1 L 1,63 z" />\n			<path d="M 62,62 L 62,1 L 1,1 L 1,62 z" />\n			<path d="M 62,62 L 62,2 L 2,2 L 2,62 z" />\n			<rect width="64" height="64" />\n		</g>\n	</g>\n</svg>\n';
return __p}}),define("core/sprites/brick",["lodash","snap.svg","core/sprite","sprites/brick.svg"],function(t,e,n,r){var i=e.parse(r());n.Type.register("bri",{layerIndex:3,elements:function(){var e=i.selectAll(".bri");return t.map(e,function(t){return t.node})}})}),define("sprites/pit.svg",[],function(){return function(obj){obj||(obj={});var __p="";with(obj)__p+='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 64 64">\n	<g>\n		<g class="item pit">\n			<path d="M 10,10 C 10,12 10,13 10,13 L 12,19 L 9,24 L 13,32 L 9,40 L 12,45 L 10,51 C 10,51 10,52 10,54 C 12,54 13,54 13,54 L 19,52 L 24,55 L 32,51 L 40,55 L 45,52 L 51,54 C 51,54 52,54 54,54 C 54,52 54,51 54,51 L 52,45 L 55,40 L 51,32 L 55,24 L 52,19 L 54,13 C 54,13 54,12 54,10 C 52,10 51,10 51,10 L 45,12 L 40,9 L 32,13 L 24,9 L 19,12 L 13,10 C 13,10 12,10 10,10 z" />\n			<path d="M 10,10 C 10,12 10,13 10,13 L 12,19 L 9,24 L 13,32 L 9,40 L 12,45 L 10,51 C 10,51 10,52 10,54 C 12,54 13,54 13,54 L 19,52 L 24,55 L 32,51 L 40,55 L 45,52 L 51,54 C 51,54 52,54 54,54 C 54,52 54,51 54,51 L 52,45 L 55,40 L 51,32 L 55,24 L 52,19 L 54,13 C 54,13 54,12 54,10 C 52,10 51,10 51,10 L 45,12 L 40,9 L 32,13 L 24,9 L 19,12 L 13,10 C 13,10 12,10 10,10 z M 12,12 L 14,12 L 19,15 L 24,11 C 24,11 31,16 32,16 C 33,16 40,11 40,11 L 45,15 L 50,12 L 52,12 L 52,14 L 49,19 L 53,24 C 53,24 48,31 48,32 C 48,33 53,40 53,40 L 49,45 L 52,50 L 52,52 L 50,52 L 45,49 L 40,53 C 40,53 33,48 32,48 C 31,48 24,53 24,53 L 19,49 L 14,52 L 12,52 L 12,50 L 15,45 L 11,40 C 11,40 16,33 16,32 C 16,31 11,24 11,24 L 15,19 L 12,14 z" />\n			<rect width="64" height="64" />\n		</g>\n	</g>\n</svg>\n';return __p}}),define("core/sprites/pit",["lodash","snap.svg","core/sprite","sprites/pit.svg"],function(t,e,n,r){var i=e.parse(r());n.Type.register("pit",{layerIndex:1,elements:function(){var e=i.selectAll(".pit");return t.map(e,function(t){return t.node})}})}),define("sprites/pipe.svg",[],function(){return function(obj){obj||(obj={});var __p="";with(obj)__p+='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 64 64">\n	<g>\n		<g class="item pip">\n			<path d="M 14,26 L 14,29 L 50,29 L 50,26 z M 14,35 L 14,38 L 50,38 L 50,35 z" />\n			<path d="M 50,35 C 49,33 49,31 50,29 L 14,29 C 15,31 15,33 14,35 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item pip">\n			<path d="M 15.029437,40.485281 L 17.150758,42.606602 L 42.606602,17.150758 L 40.485281,15.029437 z M 21.393398,46.849242 L 23.514719,48.970563 L 48.970563,23.514719 L 46.849242,21.393398 z" />\n			<path d="M 46.849242,21.393398 C 44.727922,20.686292 43.313708,19.272078 42.606602,17.150758 L 17.150758,42.606602 C 19.272078,43.313708 20.686292,44.727922 21.393398,46.849242 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item pip">\n			<path d="M 26,50 L 29,50 L 29,14 L 26,14 z M 35,50 L 38,50 L 38,14 L 35,14 z" />\n			<path d="M 35,14 C 33,15 31,15 29,14 L 29,50 C 31,49 33,49 35,50 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item pip">\n			<path d="M 23.514719,15.029437 L 21.393398,17.150758 L 46.849242,42.606602 L 48.970563,40.485281 z M 17.150758,21.393398 L 15.029437,23.514719 L 40.485281,48.970563 L 42.606602,46.849242 z" />\n			<path d="M 42.606602,46.849242 C 43.313708,44.727922 44.727922,43.313708 46.849242,42.606602 L 21.393398,17.150758 C 20.686292,19.272078 19.272078,20.686292 17.150758,21.393398 z" />\n			<rect width="64" height="64" />\n		</g>\n	</g>\n</svg>\n';return __p}}),define("core/sprites/pipe",["lodash","snap.svg","core/sprite","sprites/pipe.svg"],function(t,e,n,r){var i=e.parse(r());n.Type.register("pip",{layerIndex:3,elements:function(){var e=i.selectAll(".pip");return t.map(e,function(t){return t.node})}})}),define("sprites/right-angle-mirror.svg",[],function(){return function(obj){obj||(obj={});var __p="";with(obj)__p+='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 64 64">\n	<g>\n		<g class="item ram">\n			<path d="M 28,54 L 38,54 L 38,50 L 28,50 z" />\n			<path d="M 28,14 L 38,14 L 38,10 L 28,10 z" />\n			<path d="M 34,50 L 38,50 L 38,14 L 34,14 z" />\n			<path d="M 30,51 L 34,50 L 34,14 L 30,13 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item ram">\n			<path d="M 44.727922,50.384776 L 51.79899,43.313708 L 48.970563,40.485281 L 41.899495,47.556349 z" />\n			<path d="M 16.443651,22.100505 L 23.514719,15.029437 L 20.686292,12.20101 L 13.615224,19.272078 z" />\n			<path d="M 46.142136,43.313708 L 48.970563,40.485281 L 23.514719,15.029437 L 20.686292,17.857864 z" />\n			<path d="M 44.020815,46.849242 L 46.142136,43.313708 L 20.686292,17.857864 L 17.150758,19.979185 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item ram">\n			<path d="M 54,36 L 54,26 L 50,26 L 50,36 z" />\n			<path d="M 14,36 L 14,26 L 10,26 L 10,36 z" />\n			<path d="M 50,30 L 50,26 L 14,26 L 14,30 z" />\n			<path d="M 51,34 L 50,30 L 14,30 L 13,34 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item ram">\n			<path d="M 50.384776,19.272078 L 43.313708,12.20101 L 40.485281,15.029437 L 47.556349,22.100505 z" />\n			<path d="M 22.100505,47.556349 L 15.029437,40.485281 L 12.20101,43.313708 L 19.272078,50.384776 z" />\n			<path d="M 43.313708,17.857864 L 40.485281,15.029437 L 15.029437,40.485281 L 17.857864,43.313708 z" />\n			<path d="M 46.849242,19.979185 L 43.313708,17.857864 L 17.857864,43.313708 L 19.979185,46.849242 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item ram">\n			<path d="M 36,10 L 26,10 L 26,14 L 36,14 z" />\n			<path d="M 36,50 L 26,50 L 26,54 L 36,54 z" />\n			<path d="M 30,14 L 26,14 L 26,50 L 30,50 z" />\n			<path d="M 34,13 L 30,14 L 30,50 L 34,51 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item ram">\n			<path d="M 19.272078,13.615224 L 12.20101,20.686292 L 15.029437,23.514719 L 22.100505,16.443651 z" />\n			<path d="M 47.556349,41.899495 L 40.485281,48.970563 L 43.313708,51.79899 L 50.384776,44.727922 z" />\n			<path d="M 17.857864,20.686292 L 15.029437,23.514719 L 40.485281,48.970563 L 43.313708,46.142136 z" />\n			<path d="M 19.979185,17.150758 L 17.857864,20.686292 L 43.313708,46.142136 L 46.849242,44.020815 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item ram">\n			<path d="M 10,28 L 10,38 L 14,38 L 14,28 z" />\n			<path d="M 50,28 L 50,38 L 54,38 L 54,28 z" />\n			<path d="M 14,34 L 14,38 L 50,38 L 50,34 z" />\n			<path d="M 13,30 L 14,34 L 50,34 L 51,30 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item ram">\n			<path d="M 13.615224,44.727922 L 20.686292,51.79899 L 23.514719,48.970563 L 16.443651,41.899495 z" />\n			<path d="M 41.899495,16.443651 L 48.970563,23.514719 L 51.79899,20.686292 L 44.727922,13.615224 z" />\n			<path d="M 20.686292,46.142136 L 23.514719,48.970563 L 48.970563,23.514719 L 46.142136,20.686292 z" />\n			<path d="M 17.150758,44.020815 L 20.686292,46.142136 L 46.142136,20.686292 L 44.020815,17.150758 z" />\n			<rect width="64" height="64" />\n		</g>\n	</g>\n</svg>\n';return __p}}),define("core/sprites/right-angle-mirror",["lodash","snap.svg","core/sprite","sprites/right-angle-mirror.svg"],function(t,e,n,r){var i=e.parse(r());n.Type.register("ram",{layerIndex:3,elements:function(){var e=i.selectAll(".ram");return t.map(e,function(t){return t.node})}})}),define("sprites/right-angle-mirror-2.svg",[],function(){return function(obj){obj||(obj={});var __p="";with(obj)__p+='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 64 64">\n	<g>\n		<g class="item ra2">\n			<path d="m 26.5,50 l 11,0 l 0,4 l -11,0 z" />\n			<path d="m 26.5,10 l 11,0 l 0,4 l -11,0 z" />\n			<path d="m 28,13 l 0,38 l 4,-0.5 l 4,0.5 l 0,-38 l -4,0.5 z" />\n			<path d="m 30,51 l 4,0 l 0,-38 l -4,0 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item ra2">\n			<path d="m 40.838835,48.617009 l 7.778174,-7.778174 l 2.828427,2.828427 l -7.778174,7.778174 z" />\n			<path d="m 12.554564,20.332738 l 7.778174,-7.778174 l 2.828427,2.828427 l -7.778174,7.778174 z" />\n			<path d="m 15.736544,21.393398 l 26.870058,26.870058 l 2.474873,-3.181981 l 3.181981,-2.474873 L 21.393398,15.736544 l -2.474873,3.181981 z" />\n			<path d="m 44.020815,46.849242 l 2.828427,-2.828427 L 19.979185,17.150758 l -2.828427,2.828427 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item ra2">\n			<path d="m 50,37.5 l 0,-11 l 4,0 l 0,11 z" />\n			<path d="m 10,37.5 l 0,-11 l 4,0 l 0,11 z" />\n			<path d="m 13,36 l 38,0 L 50.5,32 L 51,28 l -38,0 l 0.5,4 z" />\n			<path d="m 51,34 l 0,-4 l -38,0 l 0,4 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item ra2">\n			<path d="m 48.617009,23.161165 l -7.778174,-7.778174 l 2.828427,-2.828427 l 7.778174,7.778174 z" />\n			<path d="m 20.332738,51.445436 l -7.778174,-7.778174 l 2.828427,-2.828427 l 7.778174,7.778174 z" />\n			<path d="M 21.393398,48.263456 L 48.263456,21.393398 L 45.081475,18.918525 L 42.606602,15.736544 L 15.736544,42.606602 l 3.181981,2.474873 z" />\n			<path d="M 46.849242,19.979185 L 44.020815,17.150758 L 17.150758,44.020815 l 2.828427,2.828427 z" />\n			<rect width="64" height="64" />\n		</g>\n	</g>\n</svg>\n';return __p}}),define("core/sprites/right-angle-mirror-2",["lodash","snap.svg","core/sprite","sprites/right-angle-mirror-2.svg"],function(t,e,n,r){var i=e.parse(r());n.Type.register("ra2",{layerIndex:3,elements:function(){var e=i.selectAll(".ra2");return t.map(e,function(t){return t.node})}})}),define("sprites/oblique-angle-mirror.svg",[],function(){return function(obj){obj||(obj={});var __p="";with(obj)__p+='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 64 64">\n	<g>\n		<g class="item oam">\n			<path d="m 26.959457,49.395198 3.695518,1.530734 13.393921,-32.335783 -4.078202,-0.606855 z" />\n			<path d="m 35.351296,16.069877 7.932233,4.368031 0.765367,-1.847759 -6.401499,-8.063549 z" />\n			<path d="m 20.809326,51.177299 9.845649,-0.251367 1.148051,-2.771638 -8.6976,-2.520272 z" />\n			<path d="M 24.029306,46.016706 28.107508,46.62356 39.588011,18.907174 36.275176,16.452561 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item oam">\n			<path d="m 40.736061,47.864465 3.695518,-1.530734 -13.39392,-32.335784 -3.312835,2.454614 z" />\n			<path d="m 23.105426,18.365978 8.6976,-2.520272 -0.765367,-1.847759 -10.228333,-1.175246 z" />\n			<path d="m 37.647397,53.4734 6.784182,-7.139669 -1.14805,-2.771639 -7.932233,4.368031 z" />\n			<path d="M 36.275176,47.547439 39.588011,45.092826 28.107508,17.37644 24.029306,17.983294 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item oam">\n			<path d="M 49.395198,37.040543 50.925932,33.345025 18.590149,19.951104 17.983294,24.029306 z" />\n			<path d="M 16.069877,28.648704 20.437908,20.716471 18.590149,19.951104 10.5266,26.352603 z" />\n			<path d="m 51.177299,43.190674 -0.251367,-9.845649 -2.771638,-1.148051 -2.520272,8.6976 z" />\n			<path d="M 46.016706,39.970694 46.62356,35.892492 18.907174,24.411989 16.452561,27.724824 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item oam">\n			<path d="m 47.864465,23.263939 -1.530734,-3.695518 -32.335784,13.39392 2.454614,3.312835 z" />\n			<path d="m 18.365978,40.894574 -2.520272,-8.6976 -1.847759,0.765367 -1.175246,10.228333 z" />\n			<path d="m 53.4734,26.352603 -7.139669,-6.784182 -2.771639,1.14805 4.368031,7.932233 z" />\n			<path d="M 47.547439,27.724824 45.092826,24.411989 17.37644,35.892492 17.983294,39.970694 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item oam">\n			<path d="m 37.040543,14.604802 -3.695518,-1.530734 -13.393921,32.335783 4.078202,0.606855 z" />\n			<path d="m 28.648704,47.930123 -7.932233,-4.368031 -0.765367,1.847759 6.401499,8.063549 z" />\n			<path d="m 43.190674,12.822701 -9.845649,0.251367 -1.148051,2.771638 8.6976,2.520272 z" />\n			<path d="M 39.970694,17.983294 35.892492,17.37644 24.411989,45.092826 27.724824,47.547439 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item oam">\n			<path d="m 23.263939,16.135535 -3.695518,1.530734 13.39392,32.335784 3.312835,-2.454614 z" />\n			<path d="m 40.894574,45.634022 -8.6976,2.520272 0.765367,1.847759 10.228333,1.175246 z" />\n			<path d="m 26.352603,10.5266 -6.784182,7.139669 1.14805,2.771639 7.932233,-4.368031 z" />\n			<path d="m 27.724824,16.452561 -3.312835,2.454613 11.480503,27.716386 4.078202,-0.606854 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item oam">\n			<path d="m 14.604802,26.959457 -1.530734,3.695518 32.335783,13.393921 0.606855,-4.078202 z" />\n			<path d="m 47.930123,35.351296 -4.368031,7.932233 1.847759,0.765367 8.063549,-6.401499 z" />\n			<path d="m 12.822701,20.809326 0.251367,9.845649 2.771638,1.148051 2.520272,-8.6976 z" />\n			<path d="m 17.983294,24.029306 -0.606854,4.078202 27.716386,11.480503 2.454613,-3.312835 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item oam">\n			<path d="m 16.135535,40.736061 1.530734,3.695518 32.335784,-13.39392 -2.454614,-3.312835 z" />\n			<path d="m 45.634022,23.105426 2.520272,8.6976 1.847759,-0.765367 1.175246,-10.228333 z" />\n			<path d="m 10.5266,37.647397 7.139669,6.784182 2.771639,-1.14805 -4.368031,-7.932233 z" />\n			<path d="M 16.452561,36.275176 18.907174,39.588011 46.62356,28.107508 46.016706,24.029306 z" />\n			<rect width="64" height="64" />\n		</g>\n	</g>\n</svg>\n';return __p}}),define("core/sprites/oblique-angle-mirror",["lodash","snap.svg","core/sprite","sprites/oblique-angle-mirror.svg"],function(t,e,n,r){var i=e.parse(r());n.Type.register("oam",{layerIndex:3,elements:function(){var e=i.selectAll(".oam");return t.map(e,function(t){return t.node})}})}),define("sprites/oblique-angle-mirror-2.svg",[],function(){return function(obj){obj||(obj={});var __p="";with(obj)__p+='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 64 64">\n	<g>\n		<g class="item oa2">\n			<path d="M 34.866427,16.44022 L 22.62049,46.004743 l 4.351748,-0.05387 l 2.137895,1.585474 L 41.356062,17.97182 l -4.351747,0.05387 z" />\n			<path d="m 23.423923,47.273878 l 3.695519,1.530734 L 40.513362,16.468828 L 36.43516,15.861974 Z" />\n			<path d="m 20.808007,51.18121 c 4.830546,-0.38984 6.948033,-0.792523 7.9312,-3.710506 l -5.6351,-1.832772 z" />\n			<path d="m 43.209536,12.80574 c -4.830547,0.389839 -6.948034,0.792523 -7.931201,3.710505 l 5.6351,1.832772 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item oa2">\n			<path d="m 23.029295,18.958985 l 12.24609,29.56446 l 3.03906,-3.11524 l 2.63282,-0.39062 l -12.2461,-29.56446 l -3.03906,3.11524 z" />\n			<path d="m 36.736061,48.864465 l 3.695518,-1.530734 L 27.037659,14.997947 l -3.312835,2.454614 z" />\n			<path d="m 37.64791,53.481008 c 3.140054,-3.69137 4.352603,-5.4734 2.984482,-8.231929 l -5.280583,2.688652 z" />\n			<path d="m 26.360972,10.509083 c -3.140054,3.69137 -4.352603,5.4734 -2.984482,8.231929 l 5.280583,-2.688652 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item oa2">\n			<path d="m 16.440215,29.110138 l 29.564523,12.245937 l -0.05387,-4.351748 l 1.585474,-2.137895 L 17.971815,22.620503 l 0.05387,4.351747 z" />\n			<path d="m 47.273878,40.576077 l 1.530734,-3.695519 L 16.468828,23.486638 l -0.606854,4.078202 z" />\n			<path d="m 51.181723,43.199601 c -0.38984,-4.830546 -0.792523,-6.948033 -3.710506,-7.9312 l -1.832772,5.6351 z" />\n			<path d="m 12.823257,20.798835 c 0.389839,4.830546 0.792523,6.948033 3.710505,7.9312 l 1.832772,-5.6351 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item oa2">\n			<path d="M 45.01758,23.0293 L 15.45312,35.27539 l 3.11524,3.03906 l 0.39062,2.63282 L 48.52344,28.70117 L 45.4082,25.66211 Z" />\n			<path d="m 15.135535,36.736061 l 1.530734,3.695518 l 32.335784,-13.39392 l -2.454614,-3.312835 z" />\n			<path d="M 10.5266,37.647397 C 14.21797,40.787451 16,42 18.758529,40.631879 l -2.688652,-5.280583 z" />\n			<path d="m 53.499287,26.343455 c -3.69137,-3.140054 -5.4734,-4.352603 -8.231929,-2.984482 l 2.688652,5.280583 z" />\n			<rect width="64" height="64" />\n		</g>\n	</g>\n</svg>\n';return __p}}),define("core/sprites/oblique-angle-mirror-2",["lodash","snap.svg","core/sprite","sprites/oblique-angle-mirror-2.svg"],function(t,e,n,r){var i=e.parse(r());n.Type.register("oa2",{layerIndex:3,elements:function(){var e=i.selectAll(".oa2");return t.map(e,function(t){return t.node})}})}),define("sprites/prism.svg",[],function(){return function(obj){obj||(obj={});var __p="";with(obj)__p+='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 64 64">\n	<g>\n		<g class="item pri">\n			<path d="M 13.072485,38.984216 L 13.072484,40.984214 L 36.072484,40.984214 L 52.156305,25.056795 L 50.742092,23.642583 C 36.376516,29.043622 13.072485,38.984216 13.072485,38.984216 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item pri">\n			<path d="M 23.554812,50.322361 L 24.969024,51.736574 L 41.23248,35.473118 L 41.343073,12.837753 L 39.343074,12.837753 C 33.004189,26.814861 23.554812,50.322361 23.554812,50.322361 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item pri">\n			<path d="M 38.984216,50.927515 L 40.984214,50.927516 L 40.984214,27.927516 L 25.056795,11.843695 L 23.642583,13.257908 C 29.043622,27.623484 38.984216,50.927515 38.984216,50.927515 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item pri">\n			<path d="M 50.322361,40.445188 L 51.736574,39.030976 L 35.473118,22.76752 L 12.837753,22.656927 L 12.837753,24.656926 C 26.814861,30.995811 50.322361,40.445188 50.322361,40.445188 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item pri">\n			<path d="M 50.927515,25.015784 L 50.927516,23.015786 L 27.927516,23.015786 L 11.843695,38.943205 L 13.257908,40.357417 C 27.623484,34.956378 50.927515,25.015784 50.927515,25.015784 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item pri">\n			<path d="M 40.445188,13.677639 L 39.030976,12.263426 L 22.76752,28.526882 L 22.656927,51.162247 L 24.656926,51.162247 C 30.995811,37.185139 40.445188,13.677639 40.445188,13.677639 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item pri">\n			<path d="M 25.015784,13.072485 L 23.015786,13.072484 L 23.015786,36.072484 L 38.943205,52.156305 L 40.357417,50.742092 C 34.956378,36.376516 25.015784,13.072485 25.015784,13.072485 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item pri">\n			<path d="M 13.677639,23.554812 L 12.263426,24.969024 L 28.526882,41.23248 L 51.162247,41.343073 L 51.162247,39.343074 C 37.185139,33.004189 13.677639,23.554812 13.677639,23.554812 z" />\n			<rect width="64" height="64" />\n		</g>\n	</g>\n</svg>\n';return __p}}),define("core/sprites/prism",["lodash","snap.svg","core/sprite","sprites/prism.svg"],function(t,e,n,r){var i=e.parse(r());n.Type.register("pri",{layerIndex:3,elements:function(){var e=i.selectAll(".pri");return t.map(e,function(t){return t.node})}})}),define("sprites/refraction-mirror.svg",[],function(){return function(obj){obj||(obj={});var __p="";with(obj)__p+='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 64 64">\n	<g>\n		<g class="item rm">\n			<path d="M 39,11 L 25,11 L 25,15 C 25,16 39,16 39,15 z" />\n			<path d="M 39,49 C 39,48 25,48 25,49 L 25,53 L 39,53 z" />\n			<path d="M 36,15 L 28,15 L 28,49 L 36,49 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item rm">\n			<path d="M 41.899495,51.79899 L 51.79899,41.899495 L 48.970563,39.071068 C 48.263456,38.363961 38.363961,48.263456 39.071068,48.970563 z" />\n			<path d="M 15.029437,24.928932 C 15.736544,25.636039 25.636039,15.736544 24.928932,15.029437 L 22.100505,12.20101 L 12.20101,22.100505 z" />\n			<path d="M 41.192388,46.849242 L 46.849242,41.192388 L 22.807612,17.150758 L 17.150758,22.807612 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item rm">\n			<path d="M 53,39 L 53,25 L 49,25 C 48,25 48,39 49,39 z" />\n			<path d="M 15,39 C 16,39 16,25 15,25 L 11,25 L 11,39 z" />\n			<path d="M 49,36 L 49,28 L 15,28 L 15,36 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item rm">\n			<path d="M 51.79899,22.100505 L 41.899495,12.20101 L 39.071068,15.029437 C 38.363961,15.736544 48.263456,25.636039 48.970563,24.928932 z" />\n			<path d="M 24.928932,48.970563 C 25.636039,48.263456 15.736544,38.363961 15.029437,39.071068 L 12.20101,41.899495 L 22.100505,51.79899 z" />\n			<path d="M 46.849242,22.807612 L 41.192388,17.150758 L 17.150758,41.192388 L 22.807612,46.849242 z" />\n			<rect width="64" height="64" />\n		</g>\n	</g>\n</svg>\n';return __p}}),define("core/sprites/refraction-mirror",["lodash","snap.svg","core/sprite","sprites/refraction-mirror.svg"],function(t,e,n,r){var i=e.parse(r());n.Type.register("rm",{layerIndex:3,elements:function(){var e=i.selectAll(".rm");return t.map(e,function(t){return t.node})}})}),define("sprites/filter.svg",[],function(){return function(obj){obj||(obj={});var __p="";with(obj)__p+='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 64 64">\n	<g>\n		<g class="item fil">\n			<path d="M 25,46 C 28,52 36,52 39,46 L 39,34 L 25,34 z M 25,30 L 39,30 L 39,18 C 36,12 28,12 25,18 z" />\n			<path d="M 35,20 L 29,20 L 29,44 L 35,44 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item fil">\n			<path d="M 36.949747,46.849242 C 43.313708,48.970563 48.970563,43.313708 46.849242,36.949747 L 38.363961,28.464466 L 28.464466,38.363961 z M 25.636039,35.535534 L 35.535534,25.636039 L 27.050253,17.150758 C 20.686292,15.029437 15.029437,20.686292 17.150758,27.050253 z" />\n			<path d="M 25.636039,21.393398 L 21.393398,25.636039 L 38.363961,42.606602 L 42.606602,38.363961 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item fil">\n			<path d="M 18,25 C 12,28 12,36 18,39 L 30,39 L 30,25 z M 34,25 L 34,39 L 46,39 C 52,36 52,28 46,25 z" />\n			<path d="M 44,35 L 44,29 L 20,29 L 20,35 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item fil">\n			<path d="M 17.150758,36.949747 C 15.029437,43.313708 20.686292,48.970563 27.050253,46.849242 L 35.535534,38.363961 L 25.636039,28.464466 z M 28.464466,25.636039 L 38.363961,35.535534 L 46.849242,27.050253 C 48.970563,20.686292 43.313708,15.029437 36.949747,17.150758 z" />\n			<path d="M 42.606602,25.636039 L 38.363961,21.393398 L 21.393398,38.363961 L 25.636039,42.606602 z" />\n			<rect width="64" height="64" />\n		</g>\n	</g>\n</svg>\n';return __p}}),define("core/sprites/filter",["lodash","snap.svg","core/sprite","sprites/filter.svg"],function(t,e,n,r){var i=e.parse(r());n.Type.register(["fib","fig","fir"],{layerIndex:3,elements:function(e){var n=i.selectAll(".fil");return t.map(n,function(t){return t.clone().addClass(e[2]).remove().node})}})}),define("sprites/shift.svg",[],function(){return function(obj){obj||(obj={});var __p="";with(obj)__p+='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 64 64">\n	<g>\n		<g class="item shi">\n			<path d="M 50,38 L 50,35 L 48,35 L 48,29 L 50,29 L 50,26 L 14,26 L 14,29 L 16,29 L 16,35 L 14,35 L 14,38 z" />\n			<path d="M 32,35 L 32,29 L 36,29 L 36,35 z M 24,35 L 24,29 L 20,29 L 20,35 z" />\n			<path d="M 40,35 L 40,29 L 36,29 L 36,35 z M 24,35 L 24,29 L 28,29 L 28,35 z" />\n			<path d="M 40,35 L 40,29 L 44,29 L 44,35 z M 32,35 L 32,29 L 28,29 L 28,35 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item shi">\n			<path d="M 48.970563,23.514719 L 46.849242,21.393398 L 45.435029,22.807612 L 41.192388,18.564971 L 42.606602,17.150758 L 40.485281,15.029437 L 15.029437,40.485281 L 17.150758,42.606602 L 18.564971,41.192388 L 22.807612,45.435029 L 21.393398,46.849242 L 23.514719,48.970563 z" />\n			<path d="M 34.12132,34.12132 L 29.87868,29.87868 L 32.707107,27.050253 L 36.949747,31.292893 z M 28.464466,39.778175 L 24.221825,35.535534 L 21.393398,38.363961 L 25.636039,42.606602 z" />\n			<path d="M 39.778175,28.464466 L 35.535534,24.221825 L 32.707107,27.050253 L 36.949747,31.292893 z M 28.464466,39.778175 L 24.221825,35.535534 L 27.050253,32.707107 L 31.292893,36.949747 z" />\n			<path d="M 39.778175,28.464466 L 35.535534,24.221825 L 38.363961,21.393398 L 42.606602,25.636039 z M 34.12132,34.12132 L 29.87868,29.87868 L 27.050253,32.707107 L 31.292893,36.949747 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item shi">\n			<path d="M 38,14 L 35,14 L 35,16 L 29,16 L 29,14 L 26,14 L 26,50 L 29,50 L 29,48 L 35,48 L 35,50 L 38,50 z" />\n			<path d="M 35,32 L 29,32 L 29,28 L 35,28 z M 35,40 L 29,40 L 29,44 L 35,44 z" />\n			<path d="M 35,24 L 29,24 L 29,28 L 35,28 z M 35,40 L 29,40 L 29,36 L 35,36 z" />\n			<path d="M 35,24 L 29,24 L 29,20 L 35,20 z M 35,32 L 29,32 L 29,36 L 35,36 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item shi">\n			<path d="M 23.514719,15.029437 L 21.393398,17.150758 L 22.807612,18.564971 L 18.564971,22.807612 L 17.150758,21.393398 L 15.029437,23.514719 L 40.485281,48.970563 L 42.606602,46.849242 L 41.192388,45.435029 L 45.435029,41.192388 L 46.849242,42.606602 L 48.970563,40.485281 z" />\n			<path d="M 34.12132,29.87868 L 29.87868,34.12132 L 27.050253,31.292893 L 31.292893,27.050253 z M 39.778175,35.535534 L 35.535534,39.778175 L 38.363961,42.606602 L 42.606602,38.363961 z" />\n			<path d="M 28.464466,24.221825 L 24.221825,28.464466 L 27.050253,31.292893 L 31.292893,27.050253 z M 39.778175,35.535534 L 35.535534,39.778175 L 32.707107,36.949747 L 36.949747,32.707107 z" />\n			<path d="M 28.464466,24.221825 L 24.221825,28.464466 L 21.393398,25.636039 L 25.636039,21.393398 z M 34.12132,29.87868 L 29.87868,34.12132 L 32.707107,36.949747 L 36.949747,32.707107 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item shi">\n			<path d="M 14,26 L 14,29 L 16,29 L 16,35 L 14,35 L 14,38 L 50,38 L 50,35 L 48,35 L 48,29 L 50,29 L 50,26 z" />\n			<path d="M 32,29 L 32,35 L 28,35 L 28,29 z M 40,29 L 40,35 L 44,35 L 44,29 z" />\n			<path d="M 24,29 L 24,35 L 28,35 L 28,29 z M 40,29 L 40,35 L 36,35 L 36,29 z" />\n			<path d="M 24,29 L 24,35 L 20,35 L 20,29 z M 32,29 L 32,35 L 36,35 L 36,29 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item shi">\n			<path d="M 15.029437,40.485281 L 17.150758,42.606602 L 18.564971,41.192388 L 22.807612,45.435029 L 21.393398,46.849242 L 23.514719,48.970563 L 48.970563,23.514719 L 46.849242,21.393398 L 45.435029,22.807612 L 41.192388,18.564971 L 42.606602,17.150758 L 40.485281,15.029437 z" />\n			<path d="M 29.87868,29.87868 L 34.12132,34.12132 L 31.292893,36.949747 L 27.050253,32.707107 z M 35.535534,24.221825 L 39.778175,28.464466 L 42.606602,25.636039 L 38.363961,21.393398 z" />\n			<path d="M 24.221825,35.535534 L 28.464466,39.778175 L 31.292893,36.949747 L 27.050253,32.707107 z M 35.535534,24.221825 L 39.778175,28.464466 L 36.949747,31.292893 L 32.707107,27.050253 z" />\n			<path d="M 24.221825,35.535534 L 28.464466,39.778175 L 25.636039,42.606602 L 21.393398,38.363961 z M 29.87868,29.87868 L 34.12132,34.12132 L 36.949747,31.292893 L 32.707107,27.050253 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item shi">\n			<path d="M 26,50 L 29,50 L 29,48 L 35,48 L 35,50 L 38,50 L 38,14 L 35,14 L 35,16 L 29,16 L 29,14 L 26,14 z" />\n			<path d="M 29,32 L 35,32 L 35,36 L 29,36 z M 29,24 L 35,24 L 35,20 L 29,20 z" />\n			<path d="M 29,40 L 35,40 L 35,36 L 29,36 z M 29,24 L 35,24 L 35,28 L 29,28 z" />\n			<path d="M 29,40 L 35,40 L 35,44 L 29,44 z M 29,32 L 35,32 L 35,28 L 29,28 z" />\n			<rect width="64" height="64" />\n		</g>\n		<g class="item shi">\n			<path d="M 40.485281,48.970563 L 42.606602,46.849242 L 41.192388,45.435029 L 45.435029,41.192388 L 46.849242,42.606602 L 48.970563,40.485281 L 23.514719,15.029437 L 21.393398,17.150758 L 22.807612,18.564971 L 18.564971,22.807612 L 17.150758,21.393398 L 15.029437,23.514719 z" />\n			<path d="M 29.87868,34.12132 L 34.12132,29.87868 L 36.949747,32.707107 L 32.707107,36.949747 z M 24.221825,28.464466 L 28.464466,24.221825 L 25.636039,21.393398 L 21.393398,25.636039 z" />\n			<path d="M 35.535534,39.778175 L 39.778175,35.535534 L 36.949747,32.707107 L 32.707107,36.949747 z M 24.221825,28.464466 L 28.464466,24.221825 L 31.292893,27.050253 L 27.050253,31.292893 z" />\n			<path d="M 35.535534,39.778175 L 39.778175,35.535534 L 42.606602,38.363961 L 38.363961,42.606602 z M 29.87868,34.12132 L 34.12132,29.87868 L 31.292893,27.050253 L 27.050253,31.292893 z" />\n			<rect width="64" height="64" />\n		</g>\n	</g>\n</svg>\n';return __p}}),define("core/sprites/shift",["lodash","snap.svg","core/sprite","sprites/shift.svg"],function(t,e,n,r){var i=e.parse(r());n.Type.register("shi",{layerIndex:3,elements:function(){var e=i.selectAll(".shi");return t.map(e,function(t){return t.node})}})}),define("core/sprites/00-index",["./tile-holder","./tool-amount","./beam","./lamp","./ray","./brick","./pit","./pipe","./right-angle-mirror","./right-angle-mirror-2","./oblique-angle-mirror","./oblique-angle-mirror-2","./prism","./refraction-mirror","./filter","./shift"],function(){}),define("core/itemtype",["lodash"],function(t){function e(t,e){this.id=t,this.index=e,this.handles=new Map}return e.$list=new Map,e.get=function(t){var n=e.$list.get(t);return n||console.error("Item type not registered:",t),n},e.register=function(n,r){t.isArray(n)?t.each(n,function(t){e.$register(t,r)}):e.$register(n,r)},e.$register=function(n,r){var i,o=e.$list,s=o.size/2+1;o.has(n)?console.warn('Item "',n,'" already registered.'):(i=new e(n,s),o.set(n,i),o.set(s,i),r=r||{},void 0===r.movable&&(r.movable=!0),void 0===r.rotatable&&(r.rotatable=!0),t.each(r||{},function(t,e){i.setHandle(e,t)}))},e.prototype.getHandle=function(t){return this.handles.get(t)},e.prototype.setHandle=function(t,e){var n=this.handles;n.has(t)&&console.warn('Handle "',t,'" already registered:',this.id),n.set(t,e)},e.prototype.getDefaultFlag=function(){var t=0;return t|=this.getHandle("movable")?2:0,t|=this.getHandle("rotatable")?1:0},e}),define("core/tile",["lodash"],function(t){function e(t,e,n){this.x=t,this.y=e,this.el=n,this.layers=[]}function n(t){this.index=t,this.el=document.createElementNS("http://www.w3.org/2000/svg","g")}return e.prototype.$getLayer=function(e){var r,i=this.layers,o=i[e];return o||(o=new n(e),r=t.find(i,function(t){return t&&t.index>e}),r?this.el.insertBefore(o.el,r.el):this.el.appendChild(o.el),i[e]=o),o},e.prototype.addSprite=function(t){var e=this.$getLayer(t.getLayerIndex());e.addSprite(t)},n.prototype.addSprite=function(t){var e=this.el;e.appendChild(t.el)},e}),define("core/item",["core/sprite","core/itemtype"],function(t,e){function n(t,e,n){this.typeId=t,this.state=e,this.flag=void 0!==n?n:this.getType().getDefaultFlag()}return n.prototype.createSprite=function(){this.sprite=new t(this.typeId,this.state)},n.prototype.remove=function(){this.sprite.remove()},n.prototype.getType=function(){return e.get(this.typeId)},n.prototype.getIndex=function(){return this.getType().index},n.prototype.trigger=function(t,e){var n=this.getType(),r=n.getHandle(t);return r?r.apply(this,e):void 0},n}),define("core/tileitem",["lodash","core/item","core/itemtype"],function(t,e,n){function r(){e.apply(this,arguments),this.$tile=null,this.create()}return r.parse=function(t){var e=t>>3&127,i=n.get(e).id,o=7&t,s=t>>10;return new r(i,o,s)},r.parseTypeId=function(t){var e=t>>3&127;return n.get(e).id},r.prototype=Object.create(e.prototype),t.mixin(r.prototype,e.prototype),r.prototype.setup=function(){this.isMovable()&&this.sprite.addClass("movable"),this.isRotatable()&&this.sprite.addClass("rotatable")},r.prototype.getValue=function(){return this.flag<<10|this.getIndex()<<3|this.state
},r.prototype.create=function(){this.createSprite(),this.setup()},r.prototype.updateState=function(t){var e=this.sprite;e.setState(t),e.update(),this.state=t,this.setup()},r.prototype.updateFlag=function(t){this.flag=t,this.setup()},r.prototype.getTile=function(){return this.$tile},r.prototype.setTile=function(t){return this.$tile=t,this},r.prototype.isTarget=function(){var t=["lab","lag","lar","laa","lap","lay","law","lad"];return-1!==t.indexOf(this.typeId)},r.prototype.isMovable=function(){return 2&this.flag},r.prototype.isRotatable=function(){return 1&this.flag},r.prototype.rotate=function(t){var e=this.sprite.getType().getStateCount(),n=(this.state+t+e)%e;return this.updateState(n),this},r}),define("util/svg",["snap.svg"],function(t){var e={};return e.empty=function(e){var n=t(e);n.selectAll("*").remove()},e.innerSVG=function(e,n){var r=t(e);r.selectAll("*").remove(),r.append(t.parse(n))},e}),define("core/mazetile",["lodash","snap.svg","core/tile","core/sprite","core/tileitem","util/datautil","util/svg"],function(t,e,n,r,i,o,s){function a(){n.apply(this,arguments),this.$item=null,this.$beamsGroups=[[],[],[],[],[],[],[],[]],this.init()}return a.$rootElement=null,a.$list=[],a.$values=[],a.$targets=[],a.dump=function(){return a.$list},a.initTiles=function(){for(var t,n,r,i,o=a.$list,u=a.$rootElement,l=document.createDocumentFragment(),c=0;225>c;c++)t=document.createElementNS("http://www.w3.org/2000/svg","g"),r=c%15+1,i=parseInt(c/15)+1,n=(new e.Matrix).translate(64*(r-1),64*(i-1)),e(t).transform(n),o[c]=new a(r,i,t),l.appendChild(t);s.empty(u),u.appendChild(l)},a.get=function(t,e){return a.$list[15*e+t-16]},a.set=function(t,e,n){a.$list[15*e+t-16]=n},a.setRootElement=function(t){a.$rootElement=t},a.setValues=function(t){a.$values=t},a.initTargets=function(){a.$targets=[]},a.addTarget=function(t){a.$targets.push(t)},a.removeTarget=function(e){t.remove(a.$targets,function(t){return t===e})},a.init=function(t){a.setRootElement(t),a.initTiles(),a.initTargets(),a.setValues([])},a.reset=function(){a.initTiles(),a.initTargets(),a.putValues(a.$values)},a.checkTargets=function(){var t=a.$targets;return t.length&&t.every(function(t){return 0===t.state})},a.getData=function(){var t=[];return a.$list.forEach(function(e,n){var r=e.getValue();r&&t.push(r<<8|n)}),t.length?o.encode(t.toString()):""},a.putValues=function(t){var e=a.$list;t.forEach(function(t){var n=255&t,r=e[n],o=i.parse(t>>8);r.addItem(o)})},a.renderLevelData=function(t){var e=JSON.parse("["+o.decode(t)+"]"),n=e.filter(function(t){return!(t>>19)});a.$values.length&&a.init(a.$rootElement),a.setValues(n),a.putValues(n)},a.getSolutionData=function(){var t=[];return a.$list.forEach(function(e,n){var r,i=e.getValue();i&&(r=e.getItem(),(r.isMovable()||r.isRotatable())&&t.push(i<<8|n))}),t.length?o.encode(t.toString()):""},a.putSolutionData=function(t){var e=JSON.parse("["+o.decode(t)+"]");a.reset(),a.putValues(e)},a.prototype=Object.create(n.prototype),t.mixin(a.prototype,n.prototype),a.prototype.init=function(){var t=this.el;t.setAttribute("data-x",this.x),t.setAttribute("data-y",this.y),this.addSprite(new r("tile-holder",0))},a.prototype.hasItem=function(){return Boolean(this.$item)},a.prototype.getItem=function(){return this.$item},a.prototype.setItem=function(t){this.$item=t,t&&(t.setTile(this),this.addSprite(t.sprite))},a.prototype.removeItem=function(){var t;return(t=this.getItem())&&(t.isTarget()&&a.removeTarget(t),t.remove(),t.setTile(null),this.setItem(null)),t},a.prototype.addItem=function(t){this.hasItem()||(this.setItem(t),t.isTarget()&&a.addTarget(t),t.trigger("arrange",[this]))},a.prototype.pickItem=function(){return this.removeItem()},a.prototype.canDropItem=function(){return!this.hasItem()},a.prototype.getValue=function(){var t;return(t=this.getItem())?t.getValue():null},a.prototype.addBeam=function(t){this.getBeamsGroup(t.state).push(t)},a.prototype.removeBeam=function(e){t.remove(this.getBeamsGroup(e.state),function(t){return e===t})},a.prototype.getInputBeams=function(){var t=Array.prototype.push,e=[];return this.$beamsGroups.forEach(function(n){t.apply(e,n.filter(function(t){return t.state!==t.direction}))}),e},a.prototype.getOutputBeams=function(){var t=Array.prototype.push,e=[];return this.$beamsGroups.forEach(function(n){t.apply(e,n.filter(function(t){return t.state===t.direction}))}),e},a.prototype.getBeamsGroup=function(t){return this.$beamsGroups[t]},a.prototype.update=function(){for(var e,n,r,i=[],o=[this];e=o.shift();)n=e.getOutputBeams(),r=t.reduce(n,function(t,e){return Array.prototype.push.apply(t,e.remove()),t},[]),r.forEach(function(t){var e;t.state!==t.direction&&(e=t.getTile(),e.hasItem()&&o.push(e))}),i.push(e);i.forEach(function(t){t.getInputBeams().forEach(function(t){t.chain()}),t.hasItem()&&t.getItem().trigger("update",[t])})},a.prototype.clear=function(){var t=this.getItem();t&&(t.remove(),this.setItem(null)),this.$beamsGroups.forEach(function(t){for(var e;e=t.shift();)e.remove()})},a}),define("core/beam",["lodash","core/sprite","core/mazetile"],function(t,e,n){function r(t,e,n,r,i){this.color=t,this.state=e,this.x=n,this.y=r,this.direction=i,this.parent=null,this.children=[],this.sprite=null}return r.spriteIds=["lib","lig","lir","lia","lip","liy","liw"],r.values=[255,65280,16711680,65535,16711935,16776960,16777215,0],r.BLUE=0,r.GREEN=1,r.RED=2,r.AQUA=3,r.PURPLE=4,r.YELLOW=5,r.WHITE=6,r.DARK=7,r.value=function(t){return r.values[t]},r.color=function(t){return r.values.indexOf(t)},r.combine=function(t){if(t.length){var e=t[0],n=t.length>1?r.fuse(t):e.color,i=r.spriteIds[n],o=e.sprite;i!==o.typeId&&o.setTypeId(i).update()}},r.fuse=function(e){var n=r.values,i=t.reduce(e,function(t,e){return t|n[e.color]},0);return n.indexOf(i)},r.prototype.getNext=function(){var t,e=(this.state+4)%8,n=this.direction,i=this.x,o=this.y;return e!==n&&(t=[[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1],[0,1],[1,1]][n],i+=t[0],o+=t[1],1>i||i>15||1>o||o>15)?null:new r(this.color,e,i,o,n)},r.prototype.getTile=function(){return n.get(this.x,this.y)},r.prototype.getValue=function(){return r.value(this.color)},r.prototype.show=function(){var t,n=this.getTile(),i=n.getBeamsGroup(this.state);return i.length?t=i[0].sprite:(t=new e(r.spriteIds[this.color],this.state),n.addSprite(t)),this.sprite=t,n.addBeam(this),r.combine(i),this},r.prototype.isVisible=function(){return Boolean(this.sprite)},r.prototype.chain=function(){var t,e=Array.prototype.push,n=[];for(this.isVisible()?e.apply(n,this.$chain()):n.push(this);t=n.shift();)e.apply(n,t.show().$chain())},r.prototype.$chain=function(){var t,e,n,r=this.getTile();return this.state!==this.direction?(n=r.getItem(),t=n?n.trigger("shoot",[this])||[]:[this.getNext()]):(e=this.getNext(),t=e?[e]:[]),t=t.filter(function(t){var e=t.getTile().getBeamsGroup(t.state),n=e.some(function(t){return this.color===t.color&&this.direction===t.direction},t);return!n}),this.children=t,t.forEach(function(t){t.parent=this},this),t},r.prototype.remove=function(){for(var t,e=Array.prototype.push,n=[this],r=[];t=n.shift();)r.push(t.$remove()),e.apply(n,t.children);return r},r.prototype.$remove=function(){var e,n=this.getTile();return n.removeBeam(this),e=n.getBeamsGroup(this.state),e.length?r.combine(e):this.sprite.remove(),this.parent&&t.remove(this.parent.children,function(t){return t===this},this),this},r}),define("core/item.list",["core/itemtype","core/beam"],function(t,e){t.register(["lab","lag","lar","laa","lap","lay","law","lad"],{movable:!1,rotatable:!1,shoot:function(t){return this.trigger("update",[t.getTile()]),[t.getNext()]},update:function(t){var n=t.getInputBeams(),r=["lab","lag","lar","laa","lap","lay","law","lad"],i=e.fuse(n),o=r[i]===this.typeId?0:1;o!==this.state&&this.updateState(o)},arrange:function(t){t.update()}}),t.register(["rab","rag","rar","raa","rap","ray","raw"],{movable:!1,rotatable:!1,shoot:function(){return[]},update:function(t){var n=["rab","rag","rar","raa","rap","ray","raw"],r=n.indexOf(this.typeId);new e(r,this.state,t.x,t.y,this.state).chain()},arrange:function(t){t.update()}}),t.register("ram",{shoot:function(t){var n,r=[],i=this.state;switch(t.state){case(i+3)%8:case(i+4)%8:case(i+5)%8:n=(2*(i+4)-t.state+8)%8,r.push(new e(t.color,n,t.x,t.y,n))}return r},arrange:function(t){t.update()}}),t.register("oam",{shoot:function(t){var n,r=[],i=this.state;switch(t.state){case(i+2)%8:case(i+3)%8:case(i+4)%8:case(i+5)%8:n=(2*i+7-t.state+8)%8,r.push(new e(t.color,n,t.x,t.y,n))}return r},arrange:function(t){t.update()}}),t.register("rm",{shoot:function(t){var n,r=[],i=this.state;switch(t.state){case(i+2)%8:case(i+6)%8:break;default:n=(2*(i+4)-t.state+8)%8,r.push(t.getNext(),new e(t.color,n,t.x,t.y,n))}return r},arrange:function(t){t.update()}}),t.register("pri",{shoot:function(t){var n,r=[],i=t.getValue(),o=t.x,s=t.y,a=this.state;switch(t.state){case a:n=[(a+4)%8,-1,-1];break;case(a+1)%8:n=[(a+5)%8,(a+6)%8,(a+7)%8];break;case(a+4)%8:n=[a,(a+7)%8,(a+6)%8];break;case(a+5)%8:n=[(a+1)%8,-1,-1];break;case(a+6)%8:n=[-1,(a+1)%8,(a+4)%8];break;case(a+7)%8:n=[-1,(a+4)%8,(a+1)%8];break;default:n=[-1,-1,-1]}return 16711680&i&&-1!==n[0]&&r.push(new e(e.RED,n[0],o,s,n[0])),65280&i&&-1!==n[1]&&r.push(new e(e.GREEN,n[1],o,s,n[1])),255&i&&-1!==n[2]&&r.push(new e(e.BLUE,n[2],o,s,n[2])),r},arrange:function(t){t.update()}}),t.register("bri",{movable:!1,rotatable:!1,shoot:function(){return[]},arrange:function(t){t.update()}}),t.register("pit",{movable:!1,rotatable:!1,shoot:function(t){return[t.getNext()]}}),t.register(["fib","fig","fir"],{shoot:function(t){var n,r=[],i=t.x,o=t.y,s=this.state,a={fib:e.BLUE,fig:e.GREEN,fir:e.RED}[this.typeId];switch(t.state){case(s+0)%8:case(s+4)%8:t.getValue()&e.value(a)&&(n=(t.state+4)%8,r.push(new e(a,n,i,o,n)))}return r},arrange:function(t){t.update()}}),t.register("pip",{movable:!1,rotatable:!1,shoot:function(t){var e=[],n=this.state;switch(t.state){case(n+0)%8:case(n+4)%8:e.push(t.getNext())}return e},arrange:function(t){t.update()}}),t.register("shi",{shoot:function(t){var n,r,i=[],o=this.state,s=(t.state+4)%8,a=t.getValue(),u=t.x,l=t.y;switch(t.state){case(o+0)%8:n=(65535&a)<<8|a>>>16,r=e.color(n),i.push(new e(r,s,u,l,s));break;case(o+4)%8:n=(255&a)<<16|a>>>8,r=e.color(n),i.push(new e(r,s,u,l,s))}return i},arrange:function(t){t.update()}}),t.register("ra2",{shoot:function(t){var n,r=[],i=this.state;switch(t.state){case(i+2)%8:break;case(i+6)%8:break;default:n=(2*(i+4)-t.state+8)%8,r.push(new e(t.color,n,t.x,t.y,n))}return r},arrange:function(t){t.update()}}),t.register("oa2",{shoot:function(t){var n=[],r=this.state,i=(2*r+7-t.state+8)%8;return n.push(new e(t.color,i,t.x,t.y,i)),n},arrange:function(t){t.update()}})}),define("core/resource",["css!assets/style.css","core/sprites/00-index","core/item.list"],function(){}),define("app",["jquery","backbone","marionette","localforage","models/cache","platform","collections/levels","core/resource"],function(t,e,n,r,i,o,s){var a=n.Application.extend({designMode:!1,currentAlbumId:0,albumLevels:null,message:"",initialize:function(){r.config({name:"beambox"}),this.listenTo(this,"app:error",function(t){console.error(t)})},getAppName:function(){return o.getAppName()},getVersion:function(){return o.getVersion()},setDesignMode:function(t){this.designMode=t},setCurrentAlbumId:function(t){this.currentAlbumId=t},setAlbumLevels:function(t){this.albumLevels=t},setMessage:function(t){this.message=t},loadJSON:function(){var e=t.Deferred(),n=this;return t.getJSON("levels.json").then(function(t){e.resolve(t)},function(){n.trigger("app:error","Error occurred while loading data."),e.reject()}),e.promise()},cacheLevels:function(e){var n=t.Deferred(),r=e.length,i=new s(e,{albumId:1});return i.on("sync",function(){--r||n.resolve(i)}),i.each(function(t){t.save()}),n.promise()},loadLevels:function(){var e=t.Deferred(),n=this;return n.loadJSON().done(function(t){n.cacheLevels(t).done(function(t){e.resolve(t)})}),e.promise()},prepare:function(){var e=t.Deferred(),n=this;return n.loadLevels().done(function(t){n.setAlbumLevels(t),i.get("levelId")||i.set({levelId:t.at(0).get("id")}),e.resolve()}),e.promise()},onStart:function(){e.history.start()}});return new a}),define("templates/layout.svg",[],function(){return function(obj){obj||(obj={});var __p="";with(obj)__p+='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 1612 1008" preserveAspectRatio="xMinYMid slice">\n	<defs>\n		<pattern id="tile-64x64" width="64" height="64" patternUnits="userSpaceOnUse">\n			<rect height="64" width="64" />\n		</pattern>\n		<g id="ray-gradient">\n			<radialGradient id="ray-gradient-b" class="b" cx="32" cy="32" fx="32" fy="32" r="10" gradientUnits="userSpaceOnUse">\n				<stop offset="0" style="stop-color:#333333;stop-opacity:1;" />\n				<stop offset="0.63636363" style="stop-color: #0000ff;stop-opacity: 1;" />\n				<stop offset="1" style="stop-color: #0000ff;stop-opacity: 0" />\n			</radialGradient>\n			<radialGradient id="ray-gradient-g" class="g" cx="32" cy="32" fx="32" fy="32" r="10" gradientUnits="userSpaceOnUse">\n				<stop offset="0" style="stop-color:#333333;stop-opacity:1;" />\n				<stop offset="0.63636363" style="stop-color: #00ff00;stop-opacity: 1;" />\n				<stop offset="1" style="stop-color: #00ff00;stop-opacity: 0" />\n			</radialGradient>\n			<radialGradient id="ray-gradient-r" class="r" cx="32" cy="32" fx="32" fy="32" r="10" gradientUnits="userSpaceOnUse">\n				<stop offset="0" style="stop-color:#333333;stop-opacity:1;" />\n				<stop offset="0.63636363" style="stop-color: #ff0000;stop-opacity: 1;" />\n				<stop offset="1" style="stop-color: #ff0000;stop-opacity: 0" />\n			</radialGradient>\n			<radialGradient id="ray-gradient-a" class="a" cx="32" cy="32" fx="32" fy="32" r="10" gradientUnits="userSpaceOnUse">\n				<stop offset="0" style="stop-color:#333333;stop-opacity:1;" />\n				<stop offset="0.63636363" style="stop-color: #00ffff;stop-opacity: 1;" />\n				<stop offset="1" style="stop-color: #00ffff;stop-opacity: 0" />\n			</radialGradient>\n			<radialGradient id="ray-gradient-p" class="p" cx="32" cy="32" fx="32" fy="32" r="10" gradientUnits="userSpaceOnUse">\n				<stop offset="0" style="stop-color:#333333;stop-opacity:1;" />\n				<stop offset="0.63636363" style="stop-color: #ff00ff;stop-opacity: 1;" />\n				<stop offset="1" style="stop-color: #ff00ff;stop-opacity: 0" />\n			</radialGradient>\n			<radialGradient id="ray-gradient-y" class="y" cx="32" cy="32" fx="32" fy="32" r="10" gradientUnits="userSpaceOnUse">\n				<stop offset="0" style="stop-color:#333333;stop-opacity:1;" />\n				<stop offset="0.63636363" style="stop-color: #ffff00;stop-opacity: 1;" />\n				<stop offset="1" style="stop-color: #ffff00;stop-opacity: 0" />\n			</radialGradient>\n			<radialGradient id="ray-gradient-w" class="w" cx="32" cy="32" fx="32" fy="32" r="10" gradientUnits="userSpaceOnUse">\n				<stop offset="0" style="stop-color:#333333;stop-opacity:1;" />\n				<stop offset="0.63636363" style="stop-color: #ffffff;stop-opacity: 1;" />\n				<stop offset="1" style="stop-color: #ffffff;stop-opacity: 0" />\n			</radialGradient>\n		</g>\n		<g id="icons">\n			<g id="icon-spinner" viewBox="0 0 50 50">\n				<path d="M41.9 23.9c-.3-6.1-4-11.8-9.5-14.4-6-2.7-13.3-1.6-18.3 2.6-4.8 4-7 10.5-5.6 16.6 1.3 6 6 10.9 11.9 12.5 7.1 2 13.6-1.4 17.6-7.2-3.6 4.8-9.1 8-15.2 6.9-6.1-1.1-11.1-5.7-12.5-11.7-1.5-6.4 1.5-13.1 7.2-16.4 5.9-3.4 14.2-2.1 18.1 3.7 1 1.4 1.7 3.1 2 4.8.3 1.4.2 2.9.4 4.3.2 1.3 1.3 3 2.8 2.1 1.3-.8 1.2-2.5 1.1-3.8 0-.4.1.7 0 0z" />\n			</g>\n			<g id="icon-play">\n				<path d="M17,33.93 C7.665,33.93 0.07,26.335 0.07,17 C0.07,7.665 7.665,0.07 17,0.07 C26.335,0.07 33.93,7.665 33.93,17 C33.93,26.335 26.335,33.93 17,33.93 L17,33.93 Z M17,1.93 C8.69,1.93 1.93,8.69 1.93,17 C1.93,25.31 8.69,32.07 17,32.07 C25.31,32.07 32.07,25.31 32.07,17 C32.07,8.69 25.31,1.93 17,1.93 L17,1.93 Z" />\n				<path d="M12,25.741 L12,8.259 L26.985,17 L12,25.741 L12,25.741 Z M14,11.741 L14,22.259 L23.015,17 L14,11.741 L14,11.741 Z" />\n			</g>\n			<g id="icon-plus">\n				<path d="M17,33.93 C7.665,33.93 0.07,26.335 0.07,17 C0.07,7.665 7.665,0.07 17,0.07 C26.335,0.07 33.93,7.665 33.93,17 C33.93,26.335 26.335,33.93 17,33.93 L17,33.93 Z M17,1.93 C8.69,1.93 1.93,8.69 1.93,17 C1.93,25.31 8.69,32.07 17,32.07 C25.31,32.07 32.07,25.31 32.07,17 C32.07,8.69 25.31,1.93 17,1.93 L17,1.93 Z" />\n				<path d="M8,16 L26,16 L26,18 L8,18 L8,16 Z" />\n				<path d="M16,8 L18,8 L18,26 L16,26 L16,8 Z" />\n			</g>\n			<g id="icon-gear">\n				<path d="M19,27.93 C14.076,27.93 10.07,23.924 10.07,19 C10.07,14.076 14.076,10.07 19,10.07 C23.924,10.07 27.93,14.076 27.93,19 C27.93,23.924 23.924,27.93 19,27.93 L19,27.93 Z M19,11.93 C15.102,11.93 11.93,15.102 11.93,19 C11.93,22.898 15.102,26.07 19,26.07 C22.898,26.07 26.07,22.898 26.07,19 C26.07,15.102 22.898,11.93 19,11.93 L19,11.93 Z" />\n				<path d="M21.67,37.93 L16.33,37.93 L14.789,33.31 C13.77,33.011 12.788,32.604 11.857,32.096 L7.503,34.273 L3.726,30.497 L5.904,26.142 C5.396,25.213 4.99,24.231 4.69,23.21 L0.07,21.67 L0.07,16.33 L4.69,14.79 C4.99,13.769 5.396,12.787 5.904,11.858 L3.726,7.503 L7.503,3.726 L11.857,5.904 C12.788,5.396 13.77,4.989 14.789,4.69 L16.33,0.07 L21.67,0.07 L23.211,4.69 C24.229,4.989 25.212,5.396 26.143,5.904 L30.497,3.726 L34.274,7.503 L32.096,11.858 C32.604,12.787 33.01,13.769 33.31,14.79 L37.93,16.33 L37.93,21.67 L33.31,23.21 C33.01,24.231 32.604,25.213 32.096,26.142 L34.274,30.497 L30.497,34.273 L26.143,32.096 C25.212,32.604 24.229,33.011 23.211,33.31 L21.67,37.93 L21.67,37.93 Z M17.67,36.07 L20.33,36.07 L21.764,31.77 L22.254,31.644 C23.445,31.338 24.585,30.867 25.641,30.242 L26.077,29.984 L30.13,32.011 L32.011,30.13 L29.983,26.077 L30.242,25.64 C30.865,24.587 31.337,23.448 31.645,22.253 L31.77,21.763 L36.07,20.33 L36.07,17.67 L31.77,16.237 L31.645,15.747 C31.337,14.552 30.865,13.413 30.242,12.36 L29.983,11.923 L32.011,7.87 L30.13,5.989 L26.077,8.016 L25.641,7.758 C24.585,7.133 23.445,6.662 22.254,6.356 L21.764,6.23 L20.33,1.93 L17.67,1.93 L16.236,6.23 L15.746,6.356 C14.555,6.662 13.415,7.133 12.359,7.758 L11.923,8.016 L7.87,5.989 L5.989,7.87 L8.017,11.923 L7.758,12.36 C7.135,13.413 6.663,14.552 6.355,15.747 L6.229,16.237 L1.93,17.67 L1.93,20.33 L6.229,21.763 L6.355,22.253 C6.663,23.448 7.135,24.587 7.758,25.64 L8.017,26.077 L5.989,30.13 L7.87,32.011 L11.923,29.984 L12.359,30.242 C13.415,30.867 14.555,31.338 15.746,31.644 L16.236,31.77 L17.67,36.07 L17.67,36.07 Z" />\n			</g>\n			<g id="icon-chevron-left">\n				<path d="M10.293,19.707 L0.586,10 L10.293,0.293 L11.707,1.707 L3.414,10 L11.707,18.293 L10.293,19.707" />\n			</g>\n			<g id="icon-chevron-right">\n				<path d="M1.707,19.707 L0.293,18.293 L8.586,10 L0.293,1.707 L1.707,0.293 L11.414,10 L1.707,19.707" />\n			</g>\n            <g id="icon-arrow-left">\n                <path d="M17,33.93 C7.665,33.93 0.07,26.335 0.07,17 C0.07,7.665 7.665,0.07 17,0.07 C26.335,0.07 33.93,7.665 33.93,17 C33.93,26.335 26.335,33.93 17,33.93 L17,33.93 Z M17,1.93 C8.69,1.93 1.93,8.69 1.93,17 C1.93,25.31 8.69,32.07 17,32.07 C25.31,32.07 32.07,25.31 32.07,17 C32.07,8.69 25.31,1.93 17,1.93 L17,1.93 Z" />\n                <path d="M17.342,26.658 L7.685,17 L17.342,7.342 L18.658,8.658 L10.315,17 L18.658,25.342 L17.342,26.658" />\n                <path d="M9,16 L26,16 L26,18 L9,18 L9,16 Z" />\n            </g>\n            <g id="icon-arrow-right">\n                <path d="M17,33.93 C7.665,33.93 0.07,26.335 0.07,17 C0.07,7.665 7.665,0.07 17,0.07 C26.335,0.07 33.93,7.665 33.93,17 C33.93,26.335 26.335,33.93 17,33.93 L17,33.93 Z M17,1.93 C8.69,1.93 1.93,8.69 1.93,17 C1.93,25.31 8.69,32.07 17,32.07 C25.31,32.07 32.07,25.31 32.07,17 C32.07,8.69 25.31,1.93 17,1.93 L17,1.93 Z" />\n                <path d="M16.658,26.658 L15.342,25.342 L23.685,17 L15.342,8.658 L16.658,7.342 L26.315,17 L16.658,26.658" />\n                <path d="M8,16 L25,16 L25,18 L8,18 L8,16 Z" />\n            </g>\n		</g>\n	</defs>\n	<desc>Ignite your imagination!</desc>\n	<g id="menu-view"></g>\n	<g id="main" transform="translate(96,0)">\n		<g transform="matrix(2,0,0,2,660,454)">\n			<use xlink:href="#icon-spinner" style="fill: #333333;">\n				<animateTransform attributeName="transform" type="rotate" values="0 25 25;360 25 25" dur="1s" repeatCount="indefinite" />\n			</use>\n		</g>\n	</g>\n</svg>\n';return __p}}),define("templates/menu.svg",[],function(){return function(obj){obj||(obj={});var __p="";with(obj)__p+='<rect class="background" width="96" height="1008" />\n<a transform="translate(0,24)" data-link="#!/play">\n	<use class="icon" transform="translate(30,20)" xlink:href="#icon-play" />\n	<text class="unselectable" x="48" y="76"><tspan>Play<tspan></text>\n	<rect width="96" height="96" />\n</a>\n<a transform="translate(0,120)" data-link="#!/design">\n	<use class="icon" transform="translate(30,20)" xlink:href="#icon-plus" />\n	<text class="unselectable" x="48" y="76"><tspan>Design<tspan></text>\n	<rect width="96" height="96" />\n</a>\n<a transform="translate(0,888)" data-link="#!/settings">\n	<use class="icon" transform="translate(30,20)" xlink:href="#icon-gear" />\n	<text class="unselectable" x="48" y="76"><tspan>Settings<tspan></text>\n	<rect width="96" height="96" />\n</a>\n';return __p}}),define("views/menu",["jquery","snap.svg","marionette","backbone","app","templates/menu.svg","util/svg"],function(t,e,n,r,i,o,s){return n.ItemView.extend({template:o,events:{"click > a":"navigate"},initialize:function(){var t=this;i.menuView=t,t.listenTo(i.router,"route",t.selectMenu)},render:function(){return s.innerSVG(this.el,this.template()),this.triggerMethod("render",this),this},selectMenu:function(t){"index"!==t&&this.$("> a").each(function(){e(this).removeClass("current")}).each(function(){var n=e(this);n.attr("data-link")==="#!/"+t&&n.addClass("current")})},navigate:function(e){var n=t(e.currentTarget).attr("data-link");i.router.navigate(n,{trigger:!0,replace:!0}),e.preventDefault()},onRender:function(){this.selectMenu("play")}})}),define("views/layout",["marionette","templates/layout.svg","views/menu"],function(t,e,n){return t.LayoutView.extend({el:"body",regions:{main:"#main"},events:{contextmenu:"preventContextMenu",touchmove:"preventTouchmove"},render:function(){return this.$el.html(e()),new n({el:this.$("#menu-view")}).render(),this},preventContextMenu:function(t){t.preventDefault()},preventTouchmove:function(t){t.preventDefault()}})}),define("router",["marionette","app","views/layout"],function(t,e,n){return t.AppRouter.extend({appRoutes:{"!/play(/:id)":"play","!/design(/:id)":"design","!/settings":"settings","*path":"index"},initialize:function(){e.router=this,e.rootView=(new n).render()}})}),define("templates/play.svg",[],function(){return function(obj){obj||(obj={});var __p="";with(obj)__p+='<g id="stack-view" class="unselectable" transform="translate(0,24)">\n	<path d="M 122,0 L 110,0 L 110,960 L 122,960 L 122,956 L 114,956 L 114,4 L 122,4 z" />\n</g>\n<g id="inventory-view" transform="translate(126,24)">\n	<rect width="64" height="960" />\n	<g class="inventory"></g>\n</g>\n<g id="maze-view" transform="translate(200,24)">\n	<rect width="960" height="960" />\n	<g class="maze"></g>\n</g>\n<g id="message-view" transform="translate(200,24)">\n	<rect width="960" height="960" />\n	<g class="message unselectable" transform="translate(320,192)">\n		<rect width="320" height="128" />\n		<text x="160" y="72"></text>\n	</g>\n</g>\n<g id="congratulations-view" transform="translate(200,24)">\n	<rect width="960" height="960" />\n	<g class="congratulations unselectable" transform="translate(320,192)">\n		<rect width="320" height="128" />\n		<text x="160" y="72">Level resolved!</text>\n	</g>\n</g>\n<g id="info-view" class="unselectable" transform="translate(1180,24)">\n	<rect width="312" height="300" />\n	<foreignObject width="312" height="300">\n		<div class="content" xmlns="http://www.w3.org/1999/xhtml" style="height: 100%;padding: .5em 1em;font-size: 1.2em;line-height: 1.5em;"></div>\n	</foreignObject>\n</g>\n<g id="action-view" class="unselectable" transform="translate(1180,344)">\n	<rect width="312" height="146" />\n	<g class="button prev-level disabled" transform="translate(20,20)">\n		<rect width="48" height="48" />\n		<use x="16" y="15" xlink:href="#icon-chevron-left" />\n	</g>\n	<g class="button next-level disabled" transform="translate(72,20)">\n		<rect width="220" height="48" />\n		<use x="192" y="15"  xlink:href="#icon-chevron-right" />\n		<text x="104" y="34">Next Level</text>\n	</g>\n	<g class="button unresolved-level disabled" transform="translate(20,78)">\n		<rect width="180" height="48" />\n		<text x="90" y="32">Unresolved Level</text>\n	</g>\n    <g transform="translate(210,78)">\n        <foreignObject width="82" height="48">\n            <div xmlns="http://www.w3.org/1999/xhtml" style="position: relative;width: 100%;height: 100%;line-height: 1.5em;">\n                <input placeholder="N" style="width: 100%;height: 100%;box-sizing: border-box;font-size: 16px;text-align: center;background: #9f9f9f;border: solid 1px #333;">\n            </div>\n        </foreignObject>\n    </g>\n</g>\n<g id="solutions-view" class="unselectable" transform="translate(1180,510)">\n	<rect width="312" height="96" />\n	<text x="156" y="32"><tspan class="total">0</tspan> solution(s) found.</text>\n	<g class="nav" transform="translate(0,48)">\n		<g class="button prev-solution" transform="translate(48,0)">\n			<rect width="34" height="34" />\n			<use xlink:href="#icon-arrow-left" />\n		</g>\n		<text x="156" y="24"><tspan class="index">0</tspan> / <tspan class="total">0</tspan></text>\n		<g class="button next-solution" transform="translate(230,0)">\n			<rect width="34" height="34" />\n			<use xlink:href="#icon-arrow-right" />\n		</g>\n	</g>\n</g>\n<g id="tip-view" class="unselectable" transform="translate(1180,568)">\n	<g class="coming-soon tip" transform="translate(0,352)">\n		<rect width="312" height="64" />\n		<text x="156" y="40">New levels coming soon ...</text>\n	</g>\n</g>\n';return __p}}),define("templates/slot.svg",[],function(){return function(obj){obj||(obj={});{var __t,__p="";Array.prototype.join}with(obj)__p+='<rect width="96" height="96" />\n<text x="48" y="56">'+(null==(__t=levelId)?"":__t)+"</text>\n",current&&(__p+='\n<path d="M 96,0 L 96,96 L 110,48 z" />\n'),__p+="\n";return __p}}),define("views/stack",["snap.svg","backbone","marionette","app","models/cache","templates/slot.svg","util/svg"],function(t,e,n,r,i,o,s){var a=n.ItemView.extend({el:function(){return document.createElementNS("http://www.w3.org/2000/svg","g")},template:o,initialize:function(){this.$el.attr("class","stack");var e=(new t.Matrix).translate(0,96*this.model.get("index"));t(this.el).transform(e)},render:function(){return s.innerSVG(this.el,this.template(this.model.attributes)),this.triggerMethod("render",this),this}});return n.CollectionView.extend({childView:a,initialize:function(){var t=new e.Collection,n=i.get("levelId");i.get("taskLevels").forEach(function(e,r){e>-1&&t.add({index:r,levelId:e,current:e===n})}),this.collection=t,this.listenTo(i,"change",this.render)}})}),function(t){"use strict";function e(){}function n(t){if(!t||"object"!=typeof t)return!1;var e=_(t)||de;return/object|function/.test(typeof e.Element)?t instanceof e.Element:1===t.nodeType&&"string"==typeof t.nodeName}function r(t){return!(!t||!t.Window)&&t instanceof t.Window}function i(t){return!!t&&t instanceof ge}function o(t){return s(t)&&void 0!==typeof t.length&&a(t.splice)}function s(t){return!!t&&"object"==typeof t}function a(t){return"function"==typeof t}function u(t){return"number"==typeof t}function l(t){return"boolean"==typeof t}function c(t){return"string"==typeof t}function h(t){return c(t)?(pe.querySelector(t),!0):!1}function f(t,e){for(var n in e)t[n]=e[n];return t}function d(t,e){t.page=t.page||{},t.page.x=e.page.x,t.page.y=e.page.y,t.client=t.client||{},t.client.x=e.client.x,t.client.y=e.client.y,t.timeStamp=e.timeStamp}function p(t,e,n){e||(e=n.pointerIds.length>1?E(n.pointers):n.pointers[0]),m(e,_e,n),t.page.x=_e.x,t.page.y=_e.y,y(e,_e,n),t.client.x=_e.x,t.client.y=_e.y,t.timeStamp=(new Date).getTime()}function g(t,e,n){t.page.x=n.page.x-e.page.x,t.page.y=n.page.y-e.page.y,t.client.x=n.client.x-e.client.x,t.client.y=n.client.y-e.client.y,t.timeStamp=(new Date).getTime()-e.timeStamp;var r=Math.max(t.timeStamp/1e3,.001);t.page.speed=we(t.page.x,t.page.y)/r,t.page.vx=t.page.x/r,t.page.vy=t.page.y/r,t.client.speed=we(t.client.x,t.page.y)/r,t.client.vx=t.client.x/r,t.client.vy=t.client.y/r}function v(t,e,n){return n=n||{},t=t||"page",n.x=e[t+"X"],n.y=e[t+"Y"],n}function m(t,e,n){return e=e||{},t instanceof G?/inertiastart/.test(t.type)?(n=n||t.interaction,f(e,n.inertiaStatus.upCoords.page),e.x+=n.inertiaStatus.sx,e.y+=n.inertiaStatus.sy):(e.x=t.pageX,e.y=t.pageY):Be?(v("screen",t,e),e.x+=de.scrollX,e.y+=de.scrollY):v("page",t,e),e}function y(t,e,n){return e=e||{},t instanceof G?/inertiastart/.test(t.type)?(f(e,n.inertiaStatus.upCoords.client),e.x+=n.inertiaStatus.sx,e.y+=n.inertiaStatus.sy):(e.x=t.clientX,e.y=t.clientY):v(Be?"screen":"client",t,e),e}function x(t){return t=t||de,{x:t.scrollX||t.document.documentElement.scrollLeft,y:t.scrollY||t.document.documentElement.scrollTop}}function b(t){return u(t.pointerId)?t.pointerId:t.identifier}function w(t){return t instanceof ye?t.correspondingUseElement:t}function _(t){if(r(t))return t;var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||de}function C(t){var e=Fe?{x:0,y:0}:x(_(t)),n=t instanceof ve?t.getBoundingClientRect():t.getClientRects()[0];return n&&{left:n.left+e.x,right:n.right+e.x,top:n.top+e.y,bottom:n.bottom+e.y,width:n.width||n.right-n.left,height:n.heigh||n.bottom-n.top}}function L(t){var e=[];return o(t)?(e[0]=t[0],e[1]=t[1]):"touchend"===t.type?1===t.touches.length?(e[0]=t.touches[0],e[1]=t.changedTouches[0]):0===t.touches.length&&(e[0]=t.changedTouches[0],e[1]=t.changedTouches[1]):(e[0]=t.touches[0],e[1]=t.touches[1]),e}function E(t){var e=L(t);return{pageX:(e[0].pageX+e[1].pageX)/2,pageY:(e[0].pageY+e[1].pageY)/2,clientX:(e[0].clientX+e[1].clientX)/2,clientY:(e[0].clientY+e[1].clientY)/2}}function S(t){if(t.length||t.touches&&t.touches.length>1){var e=L(t),n=Math.min(e[0].pageX,e[1].pageX),r=Math.min(e[0].pageY,e[1].pageY),i=Math.max(e[0].pageX,e[1].pageX),o=Math.max(e[0].pageY,e[1].pageY);return{x:n,y:r,left:n,top:r,width:i-n,height:o-r}}}function T(t,e){e=e||Me.deltaSource;var n=e+"X",r=e+"Y",i=L(t),o=i[0][n]-i[1][n],s=i[0][r]-i[1][r];return we(o,s)}function M(t,e,n){n=n||Me.deltaSource;var r=n+"X",i=n+"Y",o=L(t),s=o[0][r]-o[1][r],a=o[0][i]-o[1][i],l=180*Math.atan(a/s)/Math.PI;if(u(e)){var c=l-e,h=c%360;h>315?l-=360+l/360|0:h>135?l-=180+l/360|0:-315>h?l+=360+l/360|0:-135>h&&(l+=180+l/360|0)}return l}function k(t,e){var r=t?t.options.origin:Me.origin;return"parent"===r?r=j(e):"self"===r?r=t.getRect(e):h(r)&&(r=O(e,r)||{x:0,y:0}),a(r)&&(r=r(t&&e)),n(r)&&(r=C(r)),r.x="x"in r?r.x:r.left,r.y="y"in r?r.y:r.top,r}function z(t,e,n,r){var i=1-t;return i*i*e+2*i*t*n+t*t*r}function I(t,e,n,r,i,o,s){return{x:z(s,t,n,i),y:z(s,e,r,o)}}function A(t,e,n,r){return t/=r,-n*t*(t-2)+e}function D(t,e){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function O(t,e){for(var r=j(t);n(r);){if(le(r,e))return r;r=j(r)}return null}function j(t){var e=t.parentNode;if(i(e)){for(;(e=e.host)&&i(e););return e}return e}function N(t,e){return t._context===e.ownerDocument||D(t._context,e)}function R(t,e,r){var i=t.options.ignoreFrom;return i&&n(r)?c(i)?ce(r,i,e):n(i)?D(i,r):!1:!1}function P(t,e,r){var i=t.options.allowFrom;return i?n(r)?c(i)?ce(r,i,e):n(i)?D(i,r):!1:!1:!0}function q(t,e){if(!e)return!1;var n=e.options.drag.axis;return"xy"===t||"xy"===n||n===t}function V(t,e){var n=t.options;return/^resize/.test(e)&&(e="resize"),n[e].snap&&n[e].snap.enabled}function B(t,e){var n=t.options;return/^resize/.test(e)&&(e="resize"),n[e].restrict&&n[e].restrict.enabled}function F(t,e){var n=t.options;return/^resize/.test(e)&&(e="resize"),n[e].autoScroll&&n[e].autoScroll.enabled
}function $(t,e,n){for(var r=t.options,i=r[n.name].max,o=r[n.name].maxPerElement,s=0,a=0,u=0,l=0,c=Ee.length;c>l;l++){var h=Ee[l],f=h.prepared.name,d=h.interacting();if(d){if(s++,s>=je)return!1;if(h.target===t){if(a+=f===n.name|0,a>=i)return!1;if(h.element===e&&(u++,f!==n.name||u>=o))return!1}}}return je>0}function H(t){var e,n,r,i,o,s=t[0],a=s?0:-1,u=[],l=[];for(i=1;i<t.length;i++)if(e=t[i],e&&e!==s)if(s){if(e.parentNode!==e.ownerDocument)if(s.parentNode!==e.ownerDocument){if(!u.length)for(n=s;n.parentNode&&n.parentNode!==n.ownerDocument;)u.unshift(n),n=n.parentNode;if(s instanceof xe&&e instanceof ve&&!(e instanceof me)){if(e===s.parentNode)continue;n=e.ownerSVGElement}else n=e;for(l=[];n.parentNode!==n.ownerDocument;)l.unshift(n),n=n.parentNode;for(o=0;l[o]&&l[o]===u[o];)o++;var c=[l[o-1],l[o],u[o]];for(r=c[0].lastChild;r;){if(r===c[1]){s=e,a=i,u=[];break}if(r===c[2])break;r=r.previousSibling}}else s=e,a=i}else s=e,a=i;return a}function U(){if(this.target=null,this.element=null,this.dropTarget=null,this.dropElement=null,this.prevDropTarget=null,this.prevDropElement=null,this.prepared={name:null,axis:null,edges:null},this.matches=[],this.matchElements=[],this.inertiaStatus={active:!1,smoothEnd:!1,startEvent:null,upCoords:{},xe:0,ye:0,sx:0,sy:0,t0:0,vx0:0,vys:0,duration:0,resumeDx:0,resumeDy:0,lambda_v0:0,one_ve_v0:0,i:null},a(Function.prototype.bind))this.boundInertiaFrame=this.inertiaFrame.bind(this),this.boundSmoothEndFrame=this.smoothEndFrame.bind(this);else{var t=this;this.boundInertiaFrame=function(){return t.inertiaFrame()},this.boundSmoothEndFrame=function(){return t.smoothEndFrame()}}this.activeDrops={dropzones:[],elements:[],rects:[]},this.pointers=[],this.pointerIds=[],this.downTargets=[],this.downTimes=[],this.holdTimers=[],this.prevCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.curCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.startCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.pointerDelta={page:{x:0,y:0,vx:0,vy:0,speed:0},client:{x:0,y:0,vx:0,vy:0,speed:0},timeStamp:0},this.downEvent=null,this.downPointer={},this._eventTarget=null,this._curEventTarget=null,this.prevEvent=null,this.tapTime=0,this.prevTap=null,this.startOffset={left:0,right:0,top:0,bottom:0},this.restrictOffset={left:0,right:0,top:0,bottom:0},this.snapOffsets=[],this.gesture={start:{x:0,y:0},startDistance:0,prevDistance:0,distance:0,scale:1,startAngle:0,prevAngle:0},this.snapStatus={x:0,y:0,dx:0,dy:0,realX:0,realY:0,snappedX:0,snappedY:0,targets:[],locked:!1,changed:!1},this.restrictStatus={dx:0,dy:0,restrictedX:0,restrictedY:0,snap:null,restricted:!1,changed:!1},this.restrictStatus.snap=this.snapStatus,this.pointerIsDown=!1,this.pointerWasMoved=!1,this.gesturing=!1,this.dragging=!1,this.resizing=!1,this.resizeAxes="xy",this.mouse=!1,Ee.push(this)}function W(t,e,n){var r,i=0,o=Ee.length,s=/mouse/i.test(t.pointerType||e)||4===t.pointerType,a=b(t);if(/down|start/i.test(e))for(i=0;o>i;i++){r=Ee[i];var u=n;if(r.inertiaStatus.active&&r.target.options[r.prepared.name].inertia.allowResume&&r.mouse===s)for(;u;){if(u===r.element)return r.pointers[0]&&r.removePointer(r.pointers[0]),r.addPointer(t),r;u=j(u)}}if(s||!ze&&!Ie){for(i=0;o>i;i++)if(Ee[i].mouse&&!Ee[i].inertiaStatus.active)return Ee[i];for(i=0;o>i;i++)if(Ee[i].mouse&&(!/down/.test(e)||!Ee[i].inertiaStatus.active))return r;return r=new U,r.mouse=!0,r}for(i=0;o>i;i++)if(ue(Ee[i].pointerIds,a))return Ee[i];if(/up|end|out/i.test(e))return null;for(i=0;o>i;i++)if(r=Ee[i],!(r.prepared.name&&!r.target.options.gesture.enabled||r.interacting()||!s&&r.mouse))return r.addPointer(t),r;return new U}function X(t){return function(e){var n,r,i=w(e.path?e.path[0]:e.target),o=w(e.currentTarget);if(ze&&/touch/.test(e.type))for(Oe=(new Date).getTime(),r=0;r<e.changedTouches.length;r++){var s=e.changedTouches[r];n=W(s,e.type,i),n&&(n._updateEventTargets(i,o),n[t](s,e,i,o))}else{if(!Ie&&/mouse/.test(e.type)){for(r=0;r<Ee.length;r++)if(!Ee[r].mouse&&Ee[r].pointerIsDown)return;if((new Date).getTime()-Oe<500)return}if(n=W(e,e.type,i),!n)return;n._updateEventTargets(i,o),n[t](e,e,i,o)}}}function G(t,e,n,r,i,o){var s,a,u=t.target,l=t.snapStatus,c=t.restrictStatus,h=t.pointers,d=(u&&u.options||Me).deltaSource,p=d+"X",g=d+"Y",v=u?u.options:Me,m=k(u,i),y="start"===r,x="end"===r,b=y?t.startCoords:t.curCoords;i=i||t.element,a=f({},b.page),s=f({},b.client),a.x-=m.x,a.y-=m.y,s.x-=m.x,s.y-=m.y;var w=v[n].snap&&v[n].snap.relativePoints;!V(u,n)||y&&w&&w.length||(this.snap={range:l.range,locked:l.locked,x:l.snappedX,y:l.snappedY,realX:l.realX,realY:l.realY,dx:l.dx,dy:l.dy},l.locked&&(a.x+=l.dx,a.y+=l.dy,s.x+=l.dx,s.y+=l.dy)),!B(u,n)||y&&v[n].restrict.elementRect||!c.restricted||(a.x+=c.dx,a.y+=c.dy,s.x+=c.dx,s.y+=c.dy,this.restrict={dx:c.dx,dy:c.dy}),this.pageX=a.x,this.pageY=a.y,this.clientX=s.x,this.clientY=s.y,this.x0=t.startCoords.page.x,this.y0=t.startCoords.page.y,this.clientX0=t.startCoords.client.x,this.clientY0=t.startCoords.client.y,this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.button=e.button,this.target=i,this.t0=t.downTimes[0],this.type=n+(r||""),this.interaction=t,this.interactable=u;var _=t.inertiaStatus;if(_.active&&(this.detail="inertia"),o&&(this.relatedTarget=o),x?"client"===d?(this.dx=s.x-t.startCoords.client.x,this.dy=s.y-t.startCoords.client.y):(this.dx=a.x-t.startCoords.page.x,this.dy=a.y-t.startCoords.page.y):y?(this.dx=0,this.dy=0):"inertiastart"===r?(this.dx=t.prevEvent.dx,this.dy=t.prevEvent.dy):"client"===d?(this.dx=s.x-t.prevEvent.clientX,this.dy=s.y-t.prevEvent.clientY):(this.dx=a.x-t.prevEvent.pageX,this.dy=a.y-t.prevEvent.pageY),t.prevEvent&&"inertia"===t.prevEvent.detail&&!_.active&&v[n].inertia&&v[n].inertia.zeroResumeDelta&&(_.resumeDx+=this.dx,_.resumeDy+=this.dy,this.dx=this.dy=0),"resize"===n&&t.resizeAxes?v.resize.square?("y"===t.resizeAxes?this.dx=this.dy:this.dy=this.dx,this.axes="xy"):(this.axes=t.resizeAxes,"x"===t.resizeAxes?this.dy=0:"y"===t.resizeAxes&&(this.dx=0)):"gesture"===n&&(this.touches=[h[0],h[1]],y?(this.distance=T(h,d),this.box=S(h),this.scale=1,this.ds=0,this.angle=M(h,void 0,d),this.da=0):x||e instanceof G?(this.distance=t.prevEvent.distance,this.box=t.prevEvent.box,this.scale=t.prevEvent.scale,this.ds=this.scale-1,this.angle=t.prevEvent.angle,this.da=this.angle-t.gesture.startAngle):(this.distance=T(h,d),this.box=S(h),this.scale=this.distance/t.gesture.startDistance,this.angle=M(h,t.gesture.prevAngle,d),this.ds=this.scale-t.gesture.prevScale,this.da=this.angle-t.gesture.prevAngle)),y)this.timeStamp=t.downTimes[0],this.dt=0,this.duration=0,this.speed=0,this.velocityX=0,this.velocityY=0;else if("inertiastart"===r)this.timeStamp=t.prevEvent.timeStamp,this.dt=t.prevEvent.dt,this.duration=t.prevEvent.duration,this.speed=t.prevEvent.speed,this.velocityX=t.prevEvent.velocityX,this.velocityY=t.prevEvent.velocityY;else if(this.timeStamp=(new Date).getTime(),this.dt=this.timeStamp-t.prevEvent.timeStamp,this.duration=this.timeStamp-t.downTimes[0],e instanceof G){var C=this[p]-t.prevEvent[p],L=this[g]-t.prevEvent[g],E=this.dt/1e3;this.speed=we(C,L)/E,this.velocityX=C/E,this.velocityY=L/E}else this.speed=t.pointerDelta[d].speed,this.velocityX=t.pointerDelta[d].vx,this.velocityY=t.pointerDelta[d].vy;if((x||"inertiastart"===r)&&t.prevEvent.speed>600&&this.timeStamp-t.prevEvent.timeStamp<150){var z=180*Math.atan2(t.prevEvent.velocityY,t.prevEvent.velocityX)/Math.PI,I=22.5;0>z&&(z+=360);var A=z>=135-I&&225+I>z,D=z>=225-I&&315+I>z,O=!A&&(z>=315-I||45+I>z),j=!D&&z>=45-I&&135+I>z;this.swipe={up:D,down:j,left:A,right:O,angle:z,speed:t.prevEvent.speed,velocity:{x:t.prevEvent.velocityX,y:t.prevEvent.velocityY}}}}function Y(){this.originalEvent.preventDefault()}function J(t){var e="";if("drag"===t.name&&(e=Ne.drag),"resize"===t.name)if(t.axis)e=Ne[t.name+t.axis];else if(t.edges){for(var n="resize",r=["top","bottom","left","right"],i=0;4>i;i++)t.edges[r[i]]&&(n+=r[i]);e=Ne[n]}return e}function K(t,e,r,i,o,s){if(!e)return!1;if(e===!0){var a=u(s.width)?s.width:s.right-s.left,l=u(s.height)?s.height:s.bottom-s.top;if(0>a&&("left"===t?t="right":"right"===t&&(t="left")),0>l&&("top"===t?t="bottom":"bottom"===t&&(t="top")),"left"===t)return r.x<(a>=0?s.left:s.right)+Ae;if("top"===t)return r.y<(l>=0?s.top:s.bottom)+Ae;if("right"===t)return r.x>(a>=0?s.right:s.left)-Ae;if("bottom"===t)return r.y>(l>=0?s.bottom:s.top)-Ae}return n(i)?n(e)?e===i:ce(i,e,o):!1}function Q(t,e,n){var r,i=this.getRect(n),o=!1,a=null,u=null,l=f({},e.curCoords.page),c=this.options;if(!i)return null;if(Re.resize&&c.resize.enabled){var h=c.resize;if(r={left:!1,right:!1,top:!1,bottom:!1},s(h.edges)){for(var d in r)r[d]=K(d,h.edges[d],l,e._eventTarget,n,i);r.left=r.left&&!r.right,r.top=r.top&&!r.bottom,o=r.left||r.right||r.top||r.bottom}else{var p="y"!==c.resize.axis&&l.x>i.right-Ae,g="x"!==c.resize.axis&&l.y>i.bottom-Ae;o=p||g,u=(p?"x":"")+(g?"y":"")}}return a=o?"resize":Re.drag&&c.drag.enabled?"drag":null,Re.gesture&&e.pointerIds.length>=2&&!e.dragging&&!e.resizing&&(a="gesture"),a?{name:a,axis:u,edges:r}:null}function Z(t,e){if(!s(t))return null;var n=t.name,r=e.options;return("resize"===n&&r.resize.enabled||"drag"===n&&r.drag.enabled||"gesture"===n&&r.gesture.enabled)&&Re[n]?(("resize"===n||"resizeyx"===n)&&(n="resizexy"),t):null}function te(t,e){var r={},i=Te[t.type],o=w(t.path?t.path[0]:t.target),s=o;e=e?!0:!1;for(var a in t)r[a]=t[a];for(r.originalEvent=t,r.preventDefault=Y;n(s);){for(var u=0;u<i.selectors.length;u++){var l=i.selectors[u],c=i.contexts[u];if(le(s,l)&&D(c,o)&&D(c,s)){var h=i.listeners[u];r.currentTarget=s;for(var f=0;f<h.length;f++)h[f][1]===e&&h[f][0](r)}}s=j(s)}}function ee(t){return te.call(this,t,!0)}function ne(t,e){return Le.get(t,e)||new re(t,e)}function re(t,e){this._element=t,this._iEvents=this._iEvents||{};var r;if(h(t)){this.selector=t;var i=e&&e.context;r=i?_(i):de,i&&(r.Node?i instanceof r.Node:n(i)||i===r.document)&&(this._context=i)}else r=_(t),n(t,r)&&(be?(We.add(this._element,he.down,Xe.pointerDown),We.add(this._element,he.move,Xe.pointerHover)):(We.add(this._element,"mousedown",Xe.pointerDown),We.add(this._element,"mousemove",Xe.pointerHover),We.add(this._element,"touchstart",Xe.pointerDown),We.add(this._element,"touchmove",Xe.pointerHover)));this._doc=r.document,ue(Ce,this._doc)||se(this._doc),Le.push(this),this.set(e)}function ie(t,e){var n=!1;return function(){return n||(de.console.warn(e),n=!0),t.apply(this,arguments)}}function oe(t){for(var e=0;e<Ee.length;e++)Ee[e].pointerEnd(t,t)}function se(t){if(!ue(Ce,t)){var e=t.defaultView||t.parentWindow;for(var n in Te)We.add(t,n,te),We.add(t,n,ee,!0);be?(he=be===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"},We.add(t,he.down,Xe.selectorDown),We.add(t,he.move,Xe.pointerMove),We.add(t,he.over,Xe.pointerOver),We.add(t,he.out,Xe.pointerOut),We.add(t,he.up,Xe.pointerUp),We.add(t,he.cancel,Xe.pointerCancel),We.add(t,he.move,ke.edgeMove)):(We.add(t,"mousedown",Xe.selectorDown),We.add(t,"mousemove",Xe.pointerMove),We.add(t,"mouseup",Xe.pointerUp),We.add(t,"mouseover",Xe.pointerOver),We.add(t,"mouseout",Xe.pointerOut),We.add(t,"touchstart",Xe.selectorDown),We.add(t,"touchmove",Xe.pointerMove),We.add(t,"touchend",Xe.pointerUp),We.add(t,"touchcancel",Xe.pointerCancel),We.add(t,"mousemove",ke.edgeMove),We.add(t,"touchmove",ke.edgeMove)),We.add(e,"blur",oe);try{if(e.frameElement){var r=e.frameElement.ownerDocument,i=r.defaultView;We.add(r,"mouseup",Xe.pointerEnd),We.add(r,"touchend",Xe.pointerEnd),We.add(r,"touchcancel",Xe.pointerEnd),We.add(r,"pointerup",Xe.pointerEnd),We.add(r,"MSPointerUp",Xe.pointerEnd),We.add(i,"blur",oe)}}catch(o){ne.windowParentError=o}We.useAttachEvent&&(We.add(t,"selectstart",function(t){var e=Ee[0];e.currentAction()&&e.checkAndPreventDefault(t)}),We.add(t,"dblclick",X("ie8Dblclick"))),Ce.push(t)}}function ae(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n;return-1}function ue(t,e){return-1!==ae(t,e)}function le(e,n,r){return fe?fe(e,n,r):(de!==t&&(n=n.replace(/\/deep\//g," ")),e[$e](n))}function ce(t,e,r){for(;n(t);){if(le(t,e))return!0;if(t=j(t),t===r)return le(t,e)}return!1}var he,fe,de=function(){var e=t.document.createTextNode("");return e.ownerDocument!==t.document&&"function"==typeof t.wrap&&t.wrap(e)===e?t.wrap(t):t}(),pe=de.document,ge=de.DocumentFragment||e,ve=de.SVGElement||e,me=de.SVGSVGElement||e,ye=de.SVGElementInstance||e,xe=de.HTMLElement||de.Element,be=de.PointerEvent||de.MSPointerEvent,we=Math.hypot||function(t,e){return Math.sqrt(t*t+e*e)},_e={},Ce=[],Le=[],Ee=[],Se=!1,Te={},Me={base:{accept:null,actionChecker:null,styleCursor:!0,preventDefault:"auto",origin:{x:0,y:0},deltaSource:"page",allowFrom:null,ignoreFrom:null,_context:pe,dropChecker:null},drag:{enabled:!1,manualStart:!0,max:1/0,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,axis:"xy"},drop:{enabled:!1,accept:null,overlap:"pointer"},resize:{enabled:!1,manualStart:!1,max:1/0,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,square:!1,axis:"xy",edges:null,invert:"none"},gesture:{manualStart:!1,enabled:!1,max:1/0,maxPerElement:1,restrict:null},perAction:{manualStart:!1,max:1/0,maxPerElement:1,snap:{enabled:!1,endOnly:!1,range:1/0,targets:null,offsets:null,relativePoints:null},restrict:{enabled:!1,endOnly:!1},autoScroll:{enabled:!1,container:null,margin:60,speed:300},inertia:{enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,zeroResumeDelta:!0,smoothEndDuration:300}},_holdDuration:600},ke={interaction:null,i:null,x:0,y:0,scroll:function(){var t=ke.interaction.target.options[ke.interaction.prepared.name].autoScroll,e=t.container||_(ke.interaction.element),n=(new Date).getTime(),i=(n-ke.prevTime)/1e3,o=t.speed*i;o>=1&&(r(e)?e.scrollBy(ke.x*o,ke.y*o):e&&(e.scrollLeft+=ke.x*o,e.scrollTop+=ke.y*o),ke.prevTime=n),ke.isScrolling&&(Ue(ke.i),ke.i=He(ke.scroll))},edgeMove:function(t){for(var e,n,i=!1,o=0;o<Ee.length;o++)if(e=Ee[o],e.interacting()&&F(e.target,e.prepared.name)){n=e.target,i=!0;break}if(i){var s,a,u,l,c=n.options[e.prepared.name].autoScroll,h=c.container||_(e.element);if(r(h))l=t.clientX<ke.margin,s=t.clientY<ke.margin,a=t.clientX>h.innerWidth-ke.margin,u=t.clientY>h.innerHeight-ke.margin;else{var f=C(h);l=t.clientX<f.left+ke.margin,s=t.clientY<f.top+ke.margin,a=t.clientX>f.right-ke.margin,u=t.clientY>f.bottom-ke.margin}ke.x=a?1:l?-1:0,ke.y=u?1:s?-1:0,ke.isScrolling||(ke.margin=c.margin,ke.speed=c.speed,ke.start(e))}},isScrolling:!1,prevTime:0,start:function(t){ke.isScrolling=!0,Ue(ke.i),ke.interaction=t,ke.prevTime=(new Date).getTime(),ke.i=He(ke.scroll)},stop:function(){ke.isScrolling=!1,Ue(ke.i)}},ze="ontouchstart"in de||de.DocumentTouch&&pe instanceof de.DocumentTouch,Ie=!!be,Ae=ze||Ie?20:10,De=1,Oe=0,je=1/0,Ne=pe.all&&!de.atob?{drag:"move",resizex:"e-resize",resizey:"s-resize",resizexy:"se-resize",resizetop:"n-resize",resizeleft:"w-resize",resizebottom:"s-resize",resizeright:"e-resize",resizetopleft:"se-resize",resizebottomright:"se-resize",resizetopright:"ne-resize",resizebottomleft:"ne-resize",gesture:""}:{drag:"move",resizex:"ew-resize",resizey:"ns-resize",resizexy:"nwse-resize",resizetop:"ns-resize",resizeleft:"ew-resize",resizebottom:"ns-resize",resizeright:"ew-resize",resizetopleft:"nwse-resize",resizebottomright:"nwse-resize",resizetopright:"nesw-resize",resizebottomleft:"nesw-resize",gesture:""},Re={drag:!0,resize:!0,gesture:!0},Pe="onmousewheel"in pe?"mousewheel":"wheel",qe=["dragstart","dragmove","draginertiastart","dragend","dragenter","dragleave","dropactivate","dropdeactivate","dropmove","drop","resizestart","resizemove","resizeinertiastart","resizeend","gesturestart","gesturemove","gestureinertiastart","gestureend","down","move","up","cancel","tap","doubletap","hold"],Ve={},Be="Opera"==navigator.appName&&ze&&navigator.userAgent.match("Presto"),Fe=/iP(hone|od|ad)/.test(navigator.platform)&&/OS [1-7][^\d]/.test(navigator.appVersion),$e="matches"in Element.prototype?"matches":"webkitMatchesSelector"in Element.prototype?"webkitMatchesSelector":"mozMatchesSelector"in Element.prototype?"mozMatchesSelector":"oMatchesSelector"in Element.prototype?"oMatchesSelector":"msMatchesSelector",He=t.requestAnimationFrame,Ue=t.cancelAnimationFrame,We=function(){function t(t,e,a,f){var d=ae(l,t),p=c[d];if(p||(p={events:{},typeCount:0},d=l.push(t)-1,c.push(p),h.push(o?{supplied:[],wrapped:[],useCount:[]}:null)),p.events[e]||(p.events[e]=[],p.typeCount++),!ue(p.events[e],a)){var g;if(o){var v=h[d],m=ae(v.supplied,a),y=v.wrapped[m]||function(e){e.immediatePropagationStopped||(e.target=e.srcElement,e.currentTarget=t,e.preventDefault=e.preventDefault||n,e.stopPropagation=e.stopPropagation||r,e.stopImmediatePropagation=e.stopImmediatePropagation||i,/mouse|click/.test(e.type)&&(e.pageX=e.clientX+_(t).document.documentElement.scrollLeft,e.pageY=e.clientY+_(t).document.documentElement.scrollTop),a(e))};g=t[s](u+e,y,Boolean(f)),-1===m?(v.supplied.push(a),v.wrapped.push(y),v.useCount.push(1)):v.useCount[m]++}else g=t[s](e,a,f||!1);return p.events[e].push(a),g}}function e(t,n,r,i){var s,f,d,p=ae(l,t),g=c[p],v=r;if(g&&g.events)if(o&&(f=h[p],d=ae(f.supplied,r),v=f.wrapped[d]),"all"!==n){if(g.events[n]){var m=g.events[n].length;if("all"===r)for(s=0;m>s;s++)e(t,n,g.events[n][s],Boolean(i));else for(s=0;m>s;s++)if(g.events[n][s]===r){t[a](u+n,v,i||!1),g.events[n].splice(s,1),o&&f&&(f.useCount[d]--,0===f.useCount[d]&&(f.supplied.splice(d,1),f.wrapped.splice(d,1),f.useCount.splice(d,1)));break}g.events[n]&&0===g.events[n].length&&(g.events[n]=null,g.typeCount--)}g.typeCount||(c.splice(p),l.splice(p),h.splice(p))}else for(n in g.events)g.events.hasOwnProperty(n)&&e(t,n,"all")}function n(){this.returnValue=!1}function r(){this.cancelBubble=!0}function i(){this.cancelBubble=!0,this.immediatePropagationStopped=!0}var o="attachEvent"in de&&!("addEventListener"in de),s=o?"attachEvent":"addEventListener",a=o?"detachEvent":"removeEventListener",u=o?"on":"",l=[],c=[],h=[];return{add:t,remove:e,useAttachEvent:o,_elements:l,_targets:c,_attachedListeners:h}}();U.prototype={getPageXY:function(t,e){return m(t,e,this)},getClientXY:function(t,e){return y(t,e,this)},setEventXY:function(t,e){return p(t,e,this)},pointerOver:function(t,e,n){function r(t,e){t&&N(t,n)&&!R(t,n,n)&&P(t,n,n)&&le(n,e)&&(i.push(t),o.push(n))}if(!this.prepared.name&&this.mouse){var i=[],o=[],s=this.element;this.addPointer(t),!this.target||!R(this.target,this.element,n)&&P(this.target,this.element,n)||(this.target=null,this.element=null,this.matches=[],this.matchElements=[]);var a=Le.get(n),u=a&&!R(a,n,n)&&P(a,n,n)&&Z(a.getAction(t,this,n),a);u&&!$(a,n,u)&&(u=null),u?(this.target=a,this.element=n,this.matches=[],this.matchElements=[]):(Le.forEachSelector(r),this.validateSelector(t,i,o)?(this.matches=i,this.matchElements=o,this.pointerHover(t,e,this.matches,this.matchElements),We.add(n,be?he.move:"mousemove",Xe.pointerHover)):this.target&&(D(s,n)?(this.pointerHover(t,e,this.matches,this.matchElements),We.add(this.element,be?he.move:"mousemove",Xe.pointerHover)):(this.target=null,this.element=null,this.matches=[],this.matchElements=[])))}},pointerHover:function(t,e,n,r,i,o){var s=this.target;if(!this.prepared.name&&this.mouse){var a;this.setEventXY(this.curCoords,t),i?a=this.validateSelector(t,i,o):s&&(a=Z(s.getAction(this.pointers[0],this,this.element),this.target)),s&&s.options.styleCursor&&(s._doc.documentElement.style.cursor=a?J(a):"")}else this.prepared.name&&this.checkAndPreventDefault(e,s,this.element)},pointerOut:function(t,e,n){this.prepared.name||(Le.get(n)||We.remove(n,be?he.move:"mousemove",Xe.pointerHover),this.target&&this.target.options.styleCursor&&!this.interacting()&&(this.target._doc.documentElement.style.cursor=""))},selectorDown:function(t,e,r,i){function o(t,e,n){var i=fe?n.querySelectorAll(e):void 0;N(t,l)&&!R(t,l,r)&&P(t,l,r)&&le(l,e,i)&&(a.matches.push(t),a.matchElements.push(l))}var s,a=this,u=We.useAttachEvent?f({},e):e,l=r,c=this.addPointer(t);if(this.holdTimers[c]=setTimeout(function(){a.pointerHold(We.useAttachEvent?u:t,u,r,i)},Me._holdDuration),this.pointerIsDown=!0,this.inertiaStatus.active&&this.target.selector)for(;n(l);){if(l===this.element&&Z(this.target.getAction(t,this,this.element),this.target).name===this.prepared.name)return Ue(this.inertiaStatus.i),this.inertiaStatus.active=!1,void this.collectEventTargets(t,e,r,"down");l=j(l)}if(this.interacting())return void this.collectEventTargets(t,e,r,"down");for(this.setEventXY(this.curCoords,t);n(l)&&!s;)this.matches=[],this.matchElements=[],Le.forEachSelector(o),s=this.validateSelector(t,this.matches,this.matchElements),l=j(l);return s?(this.prepared.name=s.name,this.prepared.axis=s.axis,this.prepared.edges=s.edges,this.collectEventTargets(t,e,r,"down"),this.pointerDown(t,e,r,i,s)):(this.downTimes[c]=(new Date).getTime(),this.downTargets[c]=r,this.downEvent=e,f(this.downPointer,t),d(this.prevCoords,this.curCoords),this.pointerWasMoved=!1,void this.collectEventTargets(t,e,r,"down"))},pointerDown:function(t,e,n,r,i){if(!i&&!this.inertiaStatus.active&&this.pointerWasMoved&&this.prepared.name)return void this.checkAndPreventDefault(e,this.target,this.element);this.pointerIsDown=!0;var o,s=this.addPointer(t);if(this.pointerIds.length<2&&!this.target||!this.prepared.name){var a=Le.get(r);a&&!R(a,r,n)&&P(a,r,n)&&(o=Z(i||a.getAction(t,this,r),a,n))&&$(a,r,o)&&(this.target=a,this.element=r)}var u=this.target,l=u&&u.options;if(u&&!this.interacting()){if(o=o||Z(i||u.getAction(t,this,r),u,this.element),this.setEventXY(this.startCoords),!o)return;l.styleCursor&&(u._doc.documentElement.style.cursor=J(o)),this.resizeAxes="resize"===o.name?o.axis:null,"gesture"===o&&this.pointerIds.length<2&&(o=null),this.prepared.name=o.name,this.prepared.axis=o.axis,this.prepared.edges=o.edges,this.snapStatus.snappedX=this.snapStatus.snappedY=this.restrictStatus.restrictedX=this.restrictStatus.restrictedY=0/0,this.downTimes[s]=(new Date).getTime(),this.downTargets[s]=n,this.downEvent=e,f(this.downPointer,t),this.setEventXY(this.prevCoords),this.pointerWasMoved=!1,this.checkAndPreventDefault(e,u,this.element)}else this.inertiaStatus.active&&r===this.element&&Z(u.getAction(t,this,this.element),u).name===this.prepared.name&&(Ue(this.inertiaStatus.i),this.inertiaStatus.active=!1,this.checkAndPreventDefault(e,u,this.element))},setModifications:function(t,e){var n=this.target,r=!0,i=V(n,this.prepared.name)&&(!n.options[this.prepared.name].snap.endOnly||e),o=B(n,this.prepared.name)&&(!n.options[this.prepared.name].restrict.endOnly||e);return i?this.setSnapping(t):this.snapStatus.locked=!1,o?this.setRestriction(t):this.restrictStatus.restricted=!1,i&&this.snapStatus.locked&&!this.snapStatus.changed?r=o&&this.restrictStatus.restricted&&this.restrictStatus.changed:o&&this.restrictStatus.restricted&&!this.restrictStatus.changed&&(r=!1),r},setStartOffsets:function(t,e,n){var r,i,o=e.getRect(n),s=k(e,n),a=e.options[this.prepared.name].snap,u=e.options[this.prepared.name].restrict;o?(this.startOffset.left=this.startCoords.page.x-o.left,this.startOffset.top=this.startCoords.page.y-o.top,this.startOffset.right=o.right-this.startCoords.page.x,this.startOffset.bottom=o.bottom-this.startCoords.page.y,r="width"in o?o.width:o.right-o.left,i="height"in o?o.height:o.bottom-o.top):this.startOffset.left=this.startOffset.top=this.startOffset.right=this.startOffset.bottom=0,this.snapOffsets.splice(0);var l=a&&"startCoords"===a.offset?{x:this.startCoords.page.x-s.x,y:this.startCoords.page.y-s.y}:a&&a.offset||{x:0,y:0};if(o&&a&&a.relativePoints&&a.relativePoints.length)for(var c=0;c<a.relativePoints.length;c++)this.snapOffsets.push({x:this.startOffset.left-r*a.relativePoints[c].x+l.x,y:this.startOffset.top-i*a.relativePoints[c].y+l.y});else this.snapOffsets.push(l);o&&u.elementRect?(this.restrictOffset.left=this.startOffset.left-r*u.elementRect.left,this.restrictOffset.top=this.startOffset.top-i*u.elementRect.top,this.restrictOffset.right=this.startOffset.right-r*(1-u.elementRect.right),this.restrictOffset.bottom=this.startOffset.bottom-i*(1-u.elementRect.bottom)):this.restrictOffset.left=this.restrictOffset.top=this.restrictOffset.right=this.restrictOffset.bottom=0},start:function(t,e,n){this.interacting()||!this.pointerIsDown||this.pointerIds.length<("gesture"===t.name?2:1)||(-1===ae(Ee,this)&&Ee.push(this),this.prepared.name=t.name,this.prepared.axis=t.axis,this.prepared.edges=t.edges,this.target=e,this.element=n,this.setStartOffsets(t.name,e,n),this.setModifications(this.startCoords.page),this.prevEvent=this[this.prepared.name+"Start"](this.downEvent))},pointerMove:function(t,e,r,i,o){this.recordPointer(t),this.setEventXY(this.curCoords,t instanceof G?this.inertiaStatus.startEvent:void 0);var s,a,u=this.curCoords.page.x===this.prevCoords.page.x&&this.curCoords.page.y===this.prevCoords.page.y&&this.curCoords.client.x===this.prevCoords.client.x&&this.curCoords.client.y===this.prevCoords.client.y,l=this.mouse?0:ae(this.pointerIds,b(t));if(this.pointerIsDown&&!this.pointerWasMoved&&(s=this.curCoords.client.x-this.startCoords.client.x,a=this.curCoords.client.y-this.startCoords.client.y,this.pointerWasMoved=we(s,a)>De),u||this.pointerIsDown&&!this.pointerWasMoved||(this.pointerIsDown&&clearTimeout(this.holdTimers[l]),this.collectEventTargets(t,e,r,"move")),this.pointerIsDown){if(u&&this.pointerWasMoved&&!o)return void this.checkAndPreventDefault(e,this.target,this.element);if(g(this.pointerDelta,this.prevCoords,this.curCoords),this.prepared.name){if(this.pointerWasMoved&&(!this.inertiaStatus.active||t instanceof G&&/inertiastart/.test(t.type))){if(!this.interacting()&&(g(this.pointerDelta,this.prevCoords,this.curCoords),"drag"===this.prepared.name)){var c=Math.abs(s),h=Math.abs(a),f=this.target.options.drag.axis,p=c>h?"x":h>c?"y":"xy";if("xy"!==p&&"xy"!==f&&f!==p){this.prepared.name=null;for(var v=r;n(v);){var m=Le.get(v);if(m&&m!==this.target&&!m.options.drag.manualStart&&"drag"===m.getAction(this.downPointer,this,v).name&&q(p,m)){this.prepared.name="drag",this.target=m,this.element=v;break}v=j(v)}if(!this.prepared.name){var y=function(t,e,n){var i=fe?n.querySelectorAll(e):void 0;if(t!==this.target)return N(t,r)&&!t.options.drag.manualStart&&!R(t,v,r)&&P(t,v,r)&&le(v,e,i)&&"drag"===t.getAction(this.downPointer,this,v).name&&q(p,t)&&$(t,v,"drag")?t:void 0};for(v=r;n(v);){var x=Le.forEachSelector(y);if(x){this.prepared.name="drag",this.target=x,this.element=v;break}v=j(v)}}}}var w=!!this.prepared.name&&!this.interacting();if(w&&(this.target.options[this.prepared.name].manualStart||!$(this.target,this.element,this.prepared)))return void this.stop();if(this.prepared.name&&this.target){w&&this.start(this.prepared,this.target,this.element);var _=this.setModifications(this.curCoords.page,o);(_||w)&&(this.prevEvent=this[this.prepared.name+"Move"](e)),this.checkAndPreventDefault(e,this.target,this.element)}}d(this.prevCoords,this.curCoords),(this.dragging||this.resizing)&&ke.edgeMove(e)}}},dragStart:function(t){var e=new G(this,t,"drag","start",this.element);this.dragging=!0,this.target.fire(e),this.activeDrops.dropzones=[],this.activeDrops.elements=[],this.activeDrops.rects=[],this.dynamicDrop||this.setActiveDrops(this.element);var n=this.getDropEvents(t,e);return n.activate&&this.fireActiveDrops(n.activate),e},dragMove:function(t){var e=this.target,n=new G(this,t,"drag","move",this.element),r=this.element,i=this.getDrop(n,r);this.dropTarget=i.dropzone,this.dropElement=i.element;var o=this.getDropEvents(t,n);return e.fire(n),o.leave&&this.prevDropTarget.fire(o.leave),o.enter&&this.dropTarget.fire(o.enter),o.move&&this.dropTarget.fire(o.move),this.prevDropTarget=this.dropTarget,this.prevDropElement=this.dropElement,n},resizeStart:function(t){var e=new G(this,t,"resize","start",this.element);if(this.prepared.edges){var n=this.target.getRect(this.element);if(this.target.options.resize.square){var r=f({},this.prepared.edges);r.top=r.top||r.left&&!r.bottom,r.left=r.left||r.top&&!r.right,r.bottom=r.bottom||r.right&&!r.top,r.right=r.right||r.bottom&&!r.left,this.prepared._squareEdges=r}else this.prepared._squareEdges=null;this.resizeRects={start:n,current:f({},n),restricted:f({},n),previous:f({},n),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},e.rect=this.resizeRects.restricted,e.deltaRect=this.resizeRects.delta}return this.target.fire(e),this.resizing=!0,e},resizeMove:function(t){var e=new G(this,t,"resize","move",this.element),n=this.prepared.edges,r=this.target.options.resize.invert,i="reposition"===r||"negate"===r;if(n){var o=e.dx,s=e.dy,a=this.resizeRects.start,u=this.resizeRects.current,l=this.resizeRects.restricted,c=this.resizeRects.delta,h=f(this.resizeRects.previous,l);if(this.target.options.resize.square){var d=n;n=this.prepared._squareEdges,d.left&&d.bottom||d.right&&d.top?s=-o:d.left||d.right?s=o:(d.top||d.bottom)&&(o=s)}if(n.top&&(u.top+=s),n.bottom&&(u.bottom+=s),n.left&&(u.left+=o),n.right&&(u.right+=o),i){if(f(l,u),"reposition"===r){var p;l.top>l.bottom&&(p=l.top,l.top=l.bottom,l.bottom=p),l.left>l.right&&(p=l.left,l.left=l.right,l.right=p)}}else l.top=Math.min(u.top,a.bottom),l.bottom=Math.max(u.bottom,a.top),l.left=Math.min(u.left,a.right),l.right=Math.max(u.right,a.left);l.width=l.right-l.left,l.height=l.bottom-l.top;for(var g in l)c[g]=l[g]-h[g];e.edges=this.prepared.edges,e.rect=l,e.deltaRect=c}return this.target.fire(e),e},gestureStart:function(t){var e=new G(this,t,"gesture","start",this.element);return e.ds=0,this.gesture.startDistance=this.gesture.prevDistance=e.distance,this.gesture.startAngle=this.gesture.prevAngle=e.angle,this.gesture.scale=1,this.gesturing=!0,this.target.fire(e),e},gestureMove:function(t){if(!this.pointerIds.length)return this.prevEvent;var e;return e=new G(this,t,"gesture","move",this.element),e.ds=e.scale-this.gesture.scale,this.target.fire(e),this.gesture.prevAngle=e.angle,this.gesture.prevDistance=e.distance,1/0===e.scale||null===e.scale||void 0===e.scale||isNaN(e.scale)||(this.gesture.scale=e.scale),e},pointerHold:function(t,e,n){this.collectEventTargets(t,e,n,"hold")},pointerUp:function(t,e,n,r){var i=this.mouse?0:ae(this.pointerIds,b(t));clearTimeout(this.holdTimers[i]),this.collectEventTargets(t,e,n,"up"),this.collectEventTargets(t,e,n,"tap"),this.pointerEnd(t,e,n,r),this.removePointer(t)},pointerCancel:function(t,e,n,r){var i=this.mouse?0:ae(this.pointerIds,b(t));clearTimeout(this.holdTimers[i]),this.collectEventTargets(t,e,n,"cancel"),this.pointerEnd(t,e,n,r),this.removePointer(t)},ie8Dblclick:function(t,e,n){this.prevTap&&e.clientX===this.prevTap.clientX&&e.clientY===this.prevTap.clientY&&n===this.prevTap.target&&(this.downTargets[0]=n,this.downTimes[0]=(new Date).getTime(),this.collectEventTargets(t,e,n,"tap"))},pointerEnd:function(t,e,n,r){var i,o=this.target,s=o&&o.options,a=s&&this.prepared.name&&s[this.prepared.name].inertia,u=this.inertiaStatus;if(this.interacting()){if(u.active)return;var l,c,h=(new Date).getTime(),p=!1,g=!1,v=!1,m=V(o,this.prepared.name)&&s[this.prepared.name].snap.endOnly,y=B(o,this.prepared.name)&&s[this.prepared.name].restrict.endOnly,x=0,b=0;if(l=this.dragging?"x"===s.drag.axis?Math.abs(this.pointerDelta.client.vx):"y"===s.drag.axis?Math.abs(this.pointerDelta.client.vy):this.pointerDelta.client.speed:this.pointerDelta.client.speed,p=a&&a.enabled&&"gesture"!==this.prepared.name&&e!==u.startEvent,g=p&&h-this.curCoords.timeStamp<50&&l>a.minSpeed&&l>a.endSpeed,p&&!g&&(m||y)){var w={};w.snap=w.restrict=w,m&&(this.setSnapping(this.curCoords.page,w),w.locked&&(x+=w.dx,b+=w.dy)),y&&(this.setRestriction(this.curCoords.page,w),w.restricted&&(x+=w.dx,b+=w.dy)),(x||b)&&(v=!0)}if(g||v){if(d(u.upCoords,this.curCoords),this.pointers[0]=u.startEvent=c=new G(this,e,this.prepared.name,"inertiastart",this.element),u.t0=h,o.fire(u.startEvent),g){u.vx0=this.pointerDelta.client.vx,u.vy0=this.pointerDelta.client.vy,u.v0=l,this.calcInertia(u);var _,C=f({},this.curCoords.page),L=k(o,this.element);
if(C.x=C.x+u.xe-L.x,C.y=C.y+u.ye-L.y,_={useStatusXY:!0,x:C.x,y:C.y,dx:0,dy:0,snap:null},_.snap=_,x=b=0,m){var E=this.setSnapping(this.curCoords.page,_);E.locked&&(x+=E.dx,b+=E.dy)}if(y){var S=this.setRestriction(this.curCoords.page,_);S.restricted&&(x+=S.dx,b+=S.dy)}u.modifiedXe+=x,u.modifiedYe+=b,u.i=He(this.boundInertiaFrame)}else u.smoothEnd=!0,u.xe=x,u.ye=b,u.sx=u.sy=0,u.i=He(this.boundSmoothEndFrame);return void(u.active=!0)}(m||y)&&this.pointerMove(t,e,n,r,!0)}if(this.dragging){i=new G(this,e,"drag","end",this.element);var T=this.element,M=this.getDrop(i,T);this.dropTarget=M.dropzone,this.dropElement=M.element;var z=this.getDropEvents(e,i);z.leave&&this.prevDropTarget.fire(z.leave),z.enter&&this.dropTarget.fire(z.enter),z.drop&&this.dropTarget.fire(z.drop),z.deactivate&&this.fireActiveDrops(z.deactivate),o.fire(i)}else this.resizing?(i=new G(this,e,"resize","end",this.element),o.fire(i)):this.gesturing&&(i=new G(this,e,"gesture","end",this.element),o.fire(i));this.stop(e)},collectDrops:function(t){var e,r=[],i=[];for(t=t||this.element,e=0;e<Le.length;e++)if(Le[e].options.drop.enabled){var o=Le[e],s=o.options.drop.accept;if(!(n(s)&&s!==t||c(s)&&!le(t,s)))for(var a=o.selector?o._context.querySelectorAll(o.selector):[o._element],u=0,l=a.length;l>u;u++){var h=a[u];h!==t&&(r.push(o),i.push(h))}}return{dropzones:r,elements:i}},fireActiveDrops:function(t){var e,n,r,i;for(e=0;e<this.activeDrops.dropzones.length;e++)n=this.activeDrops.dropzones[e],r=this.activeDrops.elements[e],r!==i&&(t.target=r,n.fire(t)),i=r},setActiveDrops:function(t){var e=this.collectDrops(t,!0);this.activeDrops.dropzones=e.dropzones,this.activeDrops.elements=e.elements,this.activeDrops.rects=[];for(var n=0;n<this.activeDrops.dropzones.length;n++)this.activeDrops.rects[n]=this.activeDrops.dropzones[n].getRect(this.activeDrops.elements[n])},getDrop:function(t,e){var n=[];Se&&this.setActiveDrops(e);for(var r=0;r<this.activeDrops.dropzones.length;r++){var i=this.activeDrops.dropzones[r],o=this.activeDrops.elements[r],s=this.activeDrops.rects[r];n.push(i.dropCheck(this.pointers[0],this.target,e,o,s)?o:null)}var a=H(n),u=this.activeDrops.dropzones[a]||null,l=this.activeDrops.elements[a]||null;return{dropzone:u,element:l}},getDropEvents:function(t,e){var n={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return this.dropElement!==this.prevDropElement&&(this.prevDropTarget&&(n.leave={target:this.prevDropElement,dropzone:this.prevDropTarget,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,timeStamp:e.timeStamp,type:"dragleave"},e.dragLeave=this.prevDropElement,e.prevDropzone=this.prevDropTarget),this.dropTarget&&(n.enter={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,timeStamp:e.timeStamp,type:"dragenter"},e.dragEnter=this.dropElement,e.dropzone=this.dropTarget)),"dragend"===e.type&&this.dropTarget&&(n.drop={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,timeStamp:e.timeStamp,type:"drop"}),"dragstart"===e.type&&(n.activate={target:null,dropzone:null,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,timeStamp:e.timeStamp,type:"dropactivate"}),"dragend"===e.type&&(n.deactivate={target:null,dropzone:null,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,timeStamp:e.timeStamp,type:"dropdeactivate"}),"dragmove"===e.type&&this.dropTarget&&(n.move={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:e.target,draggable:e.interactable,dragEvent:e,interaction:this,dragmove:e,timeStamp:e.timeStamp,type:"dropmove"},e.dropzone=this.dropTarget),n},currentAction:function(){return this.dragging&&"drag"||this.resizing&&"resize"||this.gesturing&&"gesture"||null},interacting:function(){return this.dragging||this.resizing||this.gesturing},clearTargets:function(){this.target&&!this.target.selector&&(this.target=this.element=null),this.dropTarget=this.dropElement=this.prevDropTarget=this.prevDropElement=null},stop:function(t){if(this.interacting()){ke.stop(),this.matches=[],this.matchElements=[];var e=this.target;e.options.styleCursor&&(e._doc.documentElement.style.cursor=""),t&&a(t.preventDefault)&&this.checkAndPreventDefault(t,e,this.element),this.dragging&&(this.activeDrops.dropzones=this.activeDrops.elements=this.activeDrops.rects=null),this.clearTargets()}this.pointerIsDown=this.snapStatus.locked=this.dragging=this.resizing=this.gesturing=!1,this.prepared.name=this.prevEvent=null,this.inertiaStatus.resumeDx=this.inertiaStatus.resumeDy=0;for(var n=0;n<this.pointers.length;n++)-1===ae(this.pointerIds,b(this.pointers[n]))&&this.pointers.splice(n,1);Ee.length>1&&Ee.splice(ae(Ee,this),1)},inertiaFrame:function(){var t=this.inertiaStatus,e=this.target.options[this.prepared.name].inertia,n=e.resistance,r=(new Date).getTime()/1e3-t.t0;if(r<t.te){var i=1-(Math.exp(-n*r)-t.lambda_v0)/t.one_ve_v0;if(t.modifiedXe===t.xe&&t.modifiedYe===t.ye)t.sx=t.xe*i,t.sy=t.ye*i;else{var o=I(0,0,t.xe,t.ye,t.modifiedXe,t.modifiedYe,i);t.sx=o.x,t.sy=o.y}this.pointerMove(t.startEvent,t.startEvent),t.i=He(this.boundInertiaFrame)}else t.sx=t.modifiedXe,t.sy=t.modifiedYe,this.pointerMove(t.startEvent,t.startEvent),t.active=!1,this.pointerEnd(t.startEvent,t.startEvent)},smoothEndFrame:function(){var t=this.inertiaStatus,e=(new Date).getTime()-t.t0,n=this.target.options[this.prepared.name].inertia.smoothEndDuration;n>e?(t.sx=A(e,0,t.xe,n),t.sy=A(e,0,t.ye,n),this.pointerMove(t.startEvent,t.startEvent),t.i=He(this.boundSmoothEndFrame)):(t.sx=t.xe,t.sy=t.ye,this.pointerMove(t.startEvent,t.startEvent),t.active=!1,t.smoothEnd=!1,this.pointerEnd(t.startEvent,t.startEvent))},addPointer:function(t){var e=b(t),n=this.mouse?0:ae(this.pointerIds,e);return-1===n&&(n=this.pointerIds.length),this.pointerIds[n]=e,this.pointers[n]=t,n},removePointer:function(t){var e=b(t),n=this.mouse?0:ae(this.pointerIds,e);-1!==n&&(this.interacting()||this.pointers.splice(n,1),this.pointerIds.splice(n,1),this.downTargets.splice(n,1),this.downTimes.splice(n,1),this.holdTimers.splice(n,1))},recordPointer:function(t){if(!this.inertiaStatus.active){var e=this.mouse?0:ae(this.pointerIds,b(t));-1!==e&&(this.pointers[e]=t)}},collectEventTargets:function(t,e,r,i){function o(t,e,o){var s=fe?o.querySelectorAll(e):void 0;t._iEvents[i]&&n(l)&&N(t,l)&&!R(t,l,r)&&P(t,l,r)&&le(l,e,s)&&(a.push(t),u.push(l))}var s=this.mouse?0:ae(this.pointerIds,b(t));if("tap"!==i||!this.pointerWasMoved&&this.downTargets[s]&&this.downTargets[s]===r){for(var a=[],u=[],l=r;l;)ne.isSet(l)&&ne(l)._iEvents[i]&&(a.push(ne(l)),u.push(l)),Le.forEachSelector(o),l=j(l);(a.length||"tap"===i)&&this.firePointers(t,e,r,a,u,i)}},firePointers:function(t,e,n,r,i,o){var s,a,u,l=this.mouse?0:ae(b(t)),h={};for("doubletap"===o?h=t:(f(h,e),e!==t&&f(h,t),h.preventDefault=Y,h.stopPropagation=G.prototype.stopPropagation,h.stopImmediatePropagation=G.prototype.stopImmediatePropagation,h.interaction=this,h.timeStamp=(new Date).getTime(),h.originalEvent=e,h.type=o,h.pointerId=b(t),h.pointerType=this.mouse?"mouse":Ie?c(t.pointerType)?t.pointerType:[,,"touch","pen","mouse"][t.pointerType]:"touch"),"tap"===o&&(h.dt=h.timeStamp-this.downTimes[l],a=h.timeStamp-this.tapTime,u=!!(this.prevTap&&"doubletap"!==this.prevTap.type&&this.prevTap.target===h.target&&500>a),h.double=u,this.tapTime=h.timeStamp),s=0;s<r.length&&(h.currentTarget=i[s],h.interactable=r[s],r[s].fire(h),!(h.immediatePropagationStopped||h.propagationStopped&&i[s+1]!==h.currentTarget));s++);if(u){var d={};f(d,h),d.dt=a,d.type="doubletap",this.collectEventTargets(d,e,n,"doubletap"),this.prevTap=d}else"tap"===o&&(this.prevTap=h)},validateSelector:function(t,e,n){for(var r=0,i=e.length;i>r;r++){var o=e[r],s=n[r],a=Z(o.getAction(t,this,s),o);if(a&&$(o,s,a))return this.target=o,this.element=s,a}},setSnapping:function(t,e){var n,r,i,o=this.target.options[this.prepared.name].snap,s=[];if(e=e||this.snapStatus,e.useStatusXY)r={x:e.x,y:e.y};else{var l=k(this.target,this.element);r=f({},t),r.x-=l.x,r.y-=l.y}e.realX=r.x,e.realY=r.y,r.x=r.x-this.inertiaStatus.resumeDx,r.y=r.y-this.inertiaStatus.resumeDy;for(var c=o.targets?o.targets.length:0,h=0;h<this.snapOffsets.length;h++){var d={x:r.x-this.snapOffsets[h].x,y:r.y-this.snapOffsets[h].y};for(i=0;c>i;i++)n=a(o.targets[i])?o.targets[i](d.x,d.y,this):o.targets[i],n&&s.push({x:u(n.x)?n.x+this.snapOffsets[h].x:d.x,y:u(n.y)?n.y+this.snapOffsets[h].y:d.y,range:u(n.range)?n.range:o.range})}var p={target:null,inRange:!1,distance:0,range:0,dx:0,dy:0};for(i=0,c=s.length;c>i;i++){n=s[i];var g=n.range,v=n.x-r.x,m=n.y-r.y,y=we(v,m),x=g>=y;1/0===g&&p.inRange&&1/0!==p.range&&(x=!1),(!p.target||(x?p.inRange&&1/0!==g?y/g<p.distance/p.range:1/0===g&&1/0!==p.range||y<p.distance:!p.inRange&&y<p.distance))&&(1/0===g&&(x=!0),p.target=n,p.distance=y,p.range=g,p.inRange=x,p.dx=v,p.dy=m,e.range=g)}var b;return p.target?(b=e.snappedX!==p.target.x||e.snappedY!==p.target.y,e.snappedX=p.target.x,e.snappedY=p.target.y):(b=!0,e.snappedX=0/0,e.snappedY=0/0),e.dx=p.dx,e.dy=p.dy,e.changed=b||p.inRange&&!e.locked,e.locked=p.inRange,e},setRestriction:function(t,e){var r,i=this.target,o=i&&i.options[this.prepared.name].restrict,s=o&&o.restriction;if(!s)return e;e=e||this.restrictStatus,r=r=e.useStatusXY?{x:e.x,y:e.y}:f({},t),e.snap&&e.snap.locked&&(r.x+=e.snap.dx||0,r.y+=e.snap.dy||0),r.x-=this.inertiaStatus.resumeDx,r.y-=this.inertiaStatus.resumeDy,e.dx=0,e.dy=0,e.restricted=!1;var u,l,h;return c(s)&&(s="parent"===s?j(this.element):"self"===s?i.getRect(this.element):O(this.element,s),!s)?e:(a(s)&&(s=s(r.x,r.y,this.element)),n(s)&&(s=C(s)),u=s,s?"x"in s&&"y"in s?(l=Math.max(Math.min(u.x+u.width-this.restrictOffset.right,r.x),u.x+this.restrictOffset.left),h=Math.max(Math.min(u.y+u.height-this.restrictOffset.bottom,r.y),u.y+this.restrictOffset.top)):(l=Math.max(Math.min(u.right-this.restrictOffset.right,r.x),u.left+this.restrictOffset.left),h=Math.max(Math.min(u.bottom-this.restrictOffset.bottom,r.y),u.top+this.restrictOffset.top)):(l=r.x,h=r.y),e.dx=l-r.x,e.dy=h-r.y,e.changed=e.restrictedX!==l||e.restrictedY!==h,e.restricted=!(!e.dx&&!e.dy),e.restrictedX=l,e.restrictedY=h,e)},checkAndPreventDefault:function(t,e,n){if(e=e||this.target){var r=e.options,i=r.preventDefault;if("auto"===i&&n&&!/^input$|^textarea$/i.test(n.nodeName)){if(/down|start/i.test(t.type)&&"drag"===this.prepared.name&&"xy"!==r.drag.axis)return;if(r[this.prepared.name]&&r[this.prepared.name].manualStart&&!this.interacting())return;return void t.preventDefault()}return"always"===i?void t.preventDefault():void 0}},calcInertia:function(t){var e=this.target.options[this.prepared.name].inertia,n=e.resistance,r=-Math.log(e.endSpeed/t.v0)/n;t.x0=this.prevEvent.pageX,t.y0=this.prevEvent.pageY,t.t0=t.startEvent.timeStamp/1e3,t.sx=t.sy=0,t.modifiedXe=t.xe=(t.vx0-r)/n,t.modifiedYe=t.ye=(t.vy0-r)/n,t.te=r,t.lambda_v0=n/t.v0,t.one_ve_v0=1-e.endSpeed/t.v0},_updateEventTargets:function(t,e){this._eventTarget=t,this._curEventTarget=e}},G.prototype={preventDefault:e,stopImmediatePropagation:function(){this.immediatePropagationStopped=this.propagationStopped=!0},stopPropagation:function(){this.propagationStopped=!0}};for(var Xe={},Ge=["dragStart","dragMove","resizeStart","resizeMove","gestureStart","gestureMove","pointerOver","pointerOut","pointerHover","selectorDown","pointerDown","pointerMove","pointerUp","pointerCancel","pointerEnd","addPointer","removePointer","recordPointer"],Ye=0,Je=Ge.length;Je>Ye;Ye++){var Ke=Ge[Ye];Xe[Ke]=X(Ke)}Le.indexOfElement=function(t,e){e=e||pe;for(var n=0;n<this.length;n++){var r=this[n];if(r.selector===t&&r._context===e||!r.selector&&r._element===t)return n}return-1},Le.get=function(t,e){return this[this.indexOfElement(t,e&&e.context)]},Le.forEachSelector=function(t){for(var e=0;e<this.length;e++){var n=this[e];if(n.selector){var r=t(n,n.selector,n._context,e,this);if(void 0!==r)return r}}},re.prototype={setOnEvents:function(t,e){return"drop"===t?(a(e.ondrop)&&(this.ondrop=e.ondrop),a(e.ondropactivate)&&(this.ondropactivate=e.ondropactivate),a(e.ondropdeactivate)&&(this.ondropdeactivate=e.ondropdeactivate),a(e.ondragenter)&&(this.ondragenter=e.ondragenter),a(e.ondragleave)&&(this.ondragleave=e.ondragleave),a(e.ondropmove)&&(this.ondropmove=e.ondropmove)):(t="on"+t,a(e.onstart)&&(this[t+"start"]=e.onstart),a(e.onmove)&&(this[t+"move"]=e.onmove),a(e.onend)&&(this[t+"end"]=e.onend),a(e.oninertiastart)&&(this[t+"inertiastart"]=e.oninertiastart)),this},draggable:function(t){return s(t)?(this.options.drag.enabled=t.enabled===!1?!1:!0,this.setPerAction("drag",t),this.setOnEvents("drag",t),/^x$|^y$|^xy$/.test(t.axis)?this.options.drag.axis=t.axis:null===t.axis&&delete this.options.drag.axis,this):l(t)?(this.options.drag.enabled=t,this):this.options.drag},setPerAction:function(t,e){for(var n in e)n in Me[t]&&(s(e[n])?(this.options[t][n]=f(this.options[t][n]||{},e[n]),s(Me.perAction[n])&&"enabled"in Me.perAction[n]&&(this.options[t][n].enabled=e[n].enabled===!1?!1:!0)):l(e[n])&&s(Me.perAction[n])?this.options[t][n].enabled=e[n]:void 0!==e[n]&&(this.options[t][n]=e[n]))},dropzone:function(t){return s(t)?(this.options.drop.enabled=t.enabled===!1?!1:!0,this.setOnEvents("drop",t),this.accept(t.accept),/^(pointer|center)$/.test(t.overlap)?this.options.drop.overlap=t.overlap:u(t.overlap)&&(this.options.drop.overlap=Math.max(Math.min(1,t.overlap),0)),this):l(t)?(this.options.drop.enabled=t,this):this.options.drop},dropCheck:function(t,e,n,r,i){var o=!1;if(!(i=i||this.getRect(r)))return this.options.dropChecker?this.options.dropChecker(t,o,this,r,e,n):!1;var s=this.options.drop.overlap;if("pointer"===s){var a,l,c=m(t),h=k(e,n);c.x+=h.x,c.y+=h.y,a=c.x>i.left&&c.x<i.right,l=c.y>i.top&&c.y<i.bottom,o=a&&l}var f=e.getRect(n);if("center"===s){var d=f.left+f.width/2,p=f.top+f.height/2;o=d>=i.left&&d<=i.right&&p>=i.top&&p<=i.bottom}if(u(s)){var g=Math.max(0,Math.min(i.right,f.right)-Math.max(i.left,f.left))*Math.max(0,Math.min(i.bottom,f.bottom)-Math.max(i.top,f.top)),v=g/(f.width*f.height);o=v>=s}return this.options.dropChecker&&(o=this.options.dropChecker(t,o,this,r,e,n)),o},dropChecker:function(t){return a(t)?(this.options.dropChecker=t,this):null===t?(delete this.options.getRect,this):this.options.dropChecker},accept:function(t){return n(t)?(this.options.drop.accept=t,this):h(t)?(this.options.drop.accept=t,this):null===t?(delete this.options.drop.accept,this):this.options.drop.accept},resizable:function(t){return s(t)?(this.options.resize.enabled=t.enabled===!1?!1:!0,this.setPerAction("resize",t),this.setOnEvents("resize",t),/^x$|^y$|^xy$/.test(t.axis)?this.options.resize.axis=t.axis:null===t.axis&&(this.options.resize.axis=Me.resize.axis),l(t.square)&&(this.options.resize.square=t.square),this):l(t)?(this.options.resize.enabled=t,this):this.options.resize},squareResize:function(t){return l(t)?(this.options.resize.square=t,this):null===t?(delete this.options.resize.square,this):this.options.resize.square},gesturable:function(t){return s(t)?(this.options.gesture.enabled=t.enabled===!1?!1:!0,this.setPerAction("gesture",t),this.setOnEvents("gesture",t),this):l(t)?(this.options.gesture.enabled=t,this):this.options.gesture},autoScroll:function(t){return s(t)?t=f({actions:["drag","resize"]},t):l(t)&&(t={actions:["drag","resize"],enabled:t}),this.setOptions("autoScroll",t)},snap:function(t){var e=this.setOptions("snap",t);return e===this?this:e.drag},setOptions:function(t,e){var n,r=e&&o(e.actions)?e.actions:["drag"];if(s(e)||l(e)){for(n=0;n<r.length;n++){var i=/resize/.test(r[n])?"resize":r[n];if(s(this.options[i])){var a=this.options[i][t];s(e)?(f(a,e),a.enabled=e.enabled===!1?!1:!0,"snap"===t&&("grid"===a.mode?a.targets=[ne.createSnapGrid(f({offset:a.gridOffset||{x:0,y:0}},a.grid||{}))]:"anchor"===a.mode?a.targets=a.anchors:"path"===a.mode&&(a.targets=a.paths),"elementOrigin"in e&&(a.relativePoints=[e.elementOrigin]))):l(e)&&(a.enabled=e)}}return this}var u={},c=["drag","resize","gesture"];for(n=0;n<c.length;n++)t in Me[c[n]]&&(u[c[n]]=this.options[c[n]][t]);return u},inertia:function(t){var e=this.setOptions("inertia",t);return e===this?this:e.drag},getAction:function(t,e,n){var r=this.defaultActionChecker(t,e,n);return this.options.actionChecker?this.options.actionChecker(t,r,this,n,e):r},defaultActionChecker:Q,actionChecker:function(t){return a(t)?(this.options.actionChecker=t,this):null===t?(delete this.options.actionChecker,this):this.options.actionChecker},getRect:function(t){return t=t||this._element,this.selector&&!n(t)&&(t=this._context.querySelector(this.selector)),C(t)},rectChecker:function(t){return a(t)?(this.getRect=t,this):null===t?(delete this.options.getRect,this):this.getRect},styleCursor:function(t){return l(t)?(this.options.styleCursor=t,this):null===t?(delete this.options.styleCursor,this):this.options.styleCursor},preventDefault:function(t){return/^(always|never|auto)$/.test(t)?(this.options.preventDefault=t,this):l(t)?(this.options.preventDefault=t?"always":"never",this):this.options.preventDefault},origin:function(t){return h(t)?(this.options.origin=t,this):s(t)?(this.options.origin=t,this):this.options.origin},deltaSource:function(t){return"page"===t||"client"===t?(this.options.deltaSource=t,this):this.options.deltaSource},restrict:function(t){if(!s(t))return this.setOptions("restrict",t);for(var e,n=["drag","resize","gesture"],r=0;r<n.length;r++){var i=n[r];if(i in t){var o=f({actions:[i],restriction:t[i]},t);e=this.setOptions("restrict",o)}}return e},context:function(){return this._context},_context:pe,ignoreFrom:function(t){return h(t)?(this.options.ignoreFrom=t,this):n(t)?(this.options.ignoreFrom=t,this):this.options.ignoreFrom},allowFrom:function(t){return h(t)?(this.options.allowFrom=t,this):n(t)?(this.options.allowFrom=t,this):this.options.allowFrom},element:function(){return this._element},fire:function(t){if(!t||!t.type||!ue(qe,t.type))return this;var e,n,r,i="on"+t.type,o="";if(t.type in this._iEvents)for(e=this._iEvents[t.type],n=0,r=e.length;r>n&&!t.immediatePropagationStopped;n++)o=e[n].name,e[n](t);if(a(this[i])&&(o=this[i].name,this[i](t)),t.type in Ve&&(e=Ve[t.type]))for(n=0,r=e.length;r>n&&!t.immediatePropagationStopped;n++)o=e[n].name,e[n](t);return this},on:function(t,e,n){var r;if(c(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),o(t)){for(r=0;r<t.length;r++)this.on(t[r],e,n);return this}if(s(t)){for(var i in t)this.on(i,t[i],e);return this}if("wheel"===t&&(t=Pe),n=n?!0:!1,ue(qe,t))t in this._iEvents?this._iEvents[t].push(e):this._iEvents[t]=[e];else if(this.selector){if(!Te[t])for(Te[t]={selectors:[],contexts:[],listeners:[]},r=0;r<Ce.length;r++)We.add(Ce[r],t,te),We.add(Ce[r],t,ee,!0);var a,u=Te[t];for(a=u.selectors.length-1;a>=0&&(u.selectors[a]!==this.selector||u.contexts[a]!==this._context);a--);-1===a&&(a=u.selectors.length,u.selectors.push(this.selector),u.contexts.push(this._context),u.listeners.push([])),u.listeners[a].push([e,n])}else We.add(this._element,t,e,n);return this},off:function(t,e,n){var r;if(c(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),o(t)){for(r=0;r<t.length;r++)this.off(t[r],e,n);return this}if(s(t)){for(var i in t)this.off(i,t[i],e);return this}var a,u=-1;if(n=n?!0:!1,"wheel"===t&&(t=Pe),ue(qe,t))a=this._iEvents[t],a&&-1!==(u=ae(a,e))&&this._iEvents[t].splice(u,1);else if(this.selector){var l=Te[t],h=!1;if(!l)return this;for(u=l.selectors.length-1;u>=0;u--)if(l.selectors[u]===this.selector&&l.contexts[u]===this._context){var f=l.listeners[u];for(r=f.length-1;r>=0;r--){var d=f[r][0],p=f[r][1];if(d===e&&p===n){f.splice(r,1),f.length||(l.selectors.splice(u,1),l.contexts.splice(u,1),l.listeners.splice(u,1),We.remove(this._context,t,te),We.remove(this._context,t,ee,!0),l.selectors.length||(Te[t]=null)),h=!0;break}}if(h)break}}else We.remove(this._element,t,e,n);return this},set:function(t){s(t)||(t={}),this.options=f({},Me.base);var e,n=["drag","drop","resize","gesture"],r=["draggable","dropzone","resizable","gesturable"],i=f(f({},Me.perAction),t[o]||{});for(e=0;e<n.length;e++){var o=n[e];this.options[o]=f({},Me[o]),this.setPerAction(o,i),this[r[e]](t[o])}var a=["accept","actionChecker","allowFrom","deltaSource","dropChecker","ignoreFrom","origin","preventDefault","rectChecker"];for(e=0,Je=a.length;Je>e;e++){var u=a[e];this.options[u]=Me.base[u],u in t&&this[u](t[u])}return this},unset:function(){if(We.remove(this,"all"),c(this.selector))for(var t in Te)for(var e=Te[t],n=0;n<e.selectors.length;n++){e.selectors[n]===this.selector&&e.contexts[n]===this._context&&(e.selectors.splice(n,1),e.contexts.splice(n,1),e.listeners.splice(n,1),e.selectors.length||(Te[t]=null)),We.remove(this._context,t,te),We.remove(this._context,t,ee,!0);break}else We.remove(this,"all"),this.options.styleCursor&&(this._element.style.cursor="");return this.dropzone(!1),Le.splice(ae(Le,this),1),ne}},re.prototype.snap=ie(re.prototype.snap,"Interactable#snap is deprecated. See the new documentation for snapping at http://interactjs.io/docs/snapping"),re.prototype.restrict=ie(re.prototype.restrict,"Interactable#restrict is deprecated. See the new documentation for resticting at http://interactjs.io/docs/restriction"),re.prototype.inertia=ie(re.prototype.inertia,"Interactable#inertia is deprecated. See the new documentation for inertia at http://interactjs.io/docs/inertia"),re.prototype.autoScroll=ie(re.prototype.autoScroll,"Interactable#autoScroll is deprecated. See the new documentation for autoScroll at http://interactjs.io/docs/#autoscroll"),ne.isSet=function(t,e){return-1!==Le.indexOfElement(t,e&&e.context)},ne.on=function(t,e,n){if(c(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),o(t)){for(var r=0;r<t.length;r++)ne.on(t[r],e,n);return ne}if(s(t)){for(var i in t)ne.on(i,t[i],e);return ne}return ue(qe,t)?Ve[t]?Ve[t].push(e):Ve[t]=[e]:We.add(pe,t,e,n),ne},ne.off=function(t,e,n){if(c(t)&&-1!==t.search(" ")&&(t=t.trim().split(/ +/)),o(t)){for(var r=0;r<t.length;r++)ne.off(t[r],e,n);return ne}if(s(t)){for(var i in t)ne.off(i,t[i],e);return ne}if(ue(qe,t)){var a;t in Ve&&-1!==(a=ae(Ve[t],e))&&Ve[t].splice(a,1)}else We.remove(pe,t,e,n);return ne},ne.enableDragging=ie(function(t){return null!==t&&void 0!==t?(Re.drag=t,ne):Re.drag},"interact.enableDragging is deprecated and will soon be removed."),ne.enableResizing=ie(function(t){return null!==t&&void 0!==t?(Re.resize=t,ne):Re.resize},"interact.enableResizing is deprecated and will soon be removed."),ne.enableGesturing=ie(function(t){return null!==t&&void 0!==t?(Re.gesture=t,ne):Re.gesture},"interact.enableGesturing is deprecated and will soon be removed."),ne.eventTypes=qe,ne.debug=function(){var t=Ee[0]||new U;return{interactions:Ee,target:t.target,dragging:t.dragging,resizing:t.resizing,gesturing:t.gesturing,prepared:t.prepared,matches:t.matches,matchElements:t.matchElements,prevCoords:t.prevCoords,startCoords:t.startCoords,pointerIds:t.pointerIds,pointers:t.pointers,addPointer:Xe.addPointer,removePointer:Xe.removePointer,recordPointer:Xe.recordPointer,snap:t.snapStatus,restrict:t.restrictStatus,inertia:t.inertiaStatus,downTime:t.downTimes[0],downEvent:t.downEvent,downPointer:t.downPointer,prevEvent:t.prevEvent,Interactable:re,interactables:Le,pointerIsDown:t.pointerIsDown,defaultOptions:Me,defaultActionChecker:Q,actionCursors:Ne,dragMove:Xe.dragMove,resizeMove:Xe.resizeMove,gestureMove:Xe.gestureMove,pointerUp:Xe.pointerUp,pointerDown:Xe.pointerDown,pointerMove:Xe.pointerMove,pointerHover:Xe.pointerHover,events:We,globalEvents:Ve,delegatedEvents:Te}},ne.getTouchAverage=E,ne.getTouchBBox=S,ne.getTouchDistance=T,ne.getTouchAngle=M,ne.getElementRect=C,ne.matchesSelector=le,ne.closest=O,ne.margin=function(t){return u(t)?(Ae=t,ne):Ae},ne.supportsTouch=function(){return ze},ne.supportsPointerEvent=function(){return Ie},ne.stop=function(t){for(var e=Ee.length-1;e>0;e--)Ee[e].stop(t);return ne},ne.dynamicDrop=function(t){return l(t)?(Se=t,ne):Se},ne.pointerMoveTolerance=function(t){return u(t)?(De=t,this):De},ne.maxInteractions=function(t){return u(t)?(je=t,this):je},ne.createSnapGrid=function(t){return function(e,n){var r=0,i=0;s(t.offset)&&(r=t.offset.x,i=t.offset.y);var o=Math.round((e-r)/t.x),a=Math.round((n-i)/t.y),u=o*t.x+r,l=a*t.y+i;return{x:u,y:l,range:t.range}}},se(pe),$e in Element.prototype&&a(Element.prototype[$e])||(fe=function(t,e,n){n=n||t.parentNode.querySelectorAll(e);for(var r=0,i=n.length;i>r;r++)if(n[r]===t)return!0;return!1}),function(){for(var e=0,n=["ms","moz","webkit","o"],r=0;r<n.length&&!t.requestAnimationFrame;++r)He=t[n[r]+"RequestAnimationFrame"],Ue=t[n[r]+"CancelAnimationFrame"]||t[n[r]+"CancelRequestAnimationFrame"];He||(He=function(t){var n=(new Date).getTime(),r=Math.max(0,16-(n-e)),i=setTimeout(function(){t(n+r)},r);return e=n+r,i}),Ue||(Ue=function(t){clearTimeout(t)})}(),"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=ne),exports.interact=ne):"function"==typeof define&&define.amd?define("interact",[],function(){return ne}):t.interact=ne}(window),define("core/ddhelper",["snap.svg","app"],function(t,e){function n(t,e,n){this.dragItem=t,this.dragType=e,this.srcTile=n,this.destTile=null,this.dragElement=null,this.isDone=!1}return n.DRAG_TYPE_MAP=1,n.DRAG_TYPE_TOOL=2,n.DRAG_TYPE_FACTOR=4,n.$svg=null,n.$point=null,n.helper=null,n.dragmoveHandle=function(e){var r,i,o=n.$svg[0].getScreenCTM().inverse(),s=n.$point;s.x=e.pageX,s.y=e.pageY,r=s.matrixTransform(o),i=new t.Matrix,i.translate(r.x-32,r.y-32),n.helper.dragElement.transform(i)},n.dragenterHandle=function(e,r){t(r.el).addClass(r.canDropItem(n.helper.dragItem)?"drop-allowed":"drop-disallowed")},n.dragleaveHandle=function(e){t(e.target).removeClass("drop-allowed drop-disallowed")},n.dragendHandle=function(){var e=n.helper,r=e.srcTile;if(!e.isDone)switch(e.dragType){case n.DRAG_TYPE_MAP:case n.DRAG_TYPE_TOOL:r.addItem(e.dragItem);break;case n.DRAG_TYPE_FACTOR:e.dragItem.remove()}e.dragElement.remove(),t(r.el).removeClass("drag-start"),n.helper=null},n.dropHandle=function(e,r){var i=n.helper,o=i.dragType,s=i.dragItem;r?r.canDropItem(s)?(o===n.DRAG_TYPE_MAP&&i.srcTile.update(),r.addItem(s),i.destTile=r,i.done(),t(r.el).removeClass("drop-allowed")):t(r.el).removeClass("drop-disallowed"):(o===n.DRAG_TYPE_MAP&&i.srcTile.update(),s.remove(),i.done())},n.prototype.start=function(t){n.$svg?this.constructor.prototype.start=this.constructor.prototype.$start:(n.$svg=e.rootView.$("> svg"),n.$point=n.$svg[0].createSVGPoint()),this.start(t)},n.prototype.$start=function(e){var r=e.target;this.$setDragElement(r),this.dragItem.create(),t(this.srcTile.el).addClass("drag-start"),n.helper=this,n.dragmoveHandle.call(this,e)},n.prototype.$setDragElement=function(e){var r=t(e);n.$svg.append(r.node),this.dragElement=r},n.prototype.done=function(){this.isDone=!0},n}),define("core/inventorytile",["lodash","snap.svg","core/tile","core/tileitem","core/sprite","util/datautil","util/svg"],function(t,e,n,r,i,o,s){function a(){n.apply(this,arguments),this.$item=null,this.$amount=0,this.$amountElement=null,this.init()}return a.$rootElement=null,a.$list=[],a.$values=[],a.setRootElement=function(t){a.$rootElement=t},a.initTiles=function(){for(var t,n,r=a.$list,i=a.$rootElement,o=document.createDocumentFragment(),u=0;15>u;u++)t=document.createElementNS("http://www.w3.org/2000/svg","g"),n=(new e.Matrix).translate(0,64*u),e(t).transform(n),r[u]=new a(1,u+1,t),o.appendChild(t);s.empty(i),i.appendChild(o)},a.get=function(t){return a.$list[t-1]},a.set=function(t,e){a.$list[t-1]=e},a.setValues=function(t){a.$values=t},a.init=function(t){a.setRootElement(t),a.initTiles(),a.setValues([])},a.reset=function(){a.initTiles(),a.putValues(a.$values)},a.addItem=function(t){a.$list.some(function(e){return e.canDropItem(t)?(e.addItem(t),!0):!1})},a.pickItem=function(e){var n=t.find(a.$list,function(t){var n=t.getItem();return n?n.typeId===e:!1});return n?n.pickItem():null},a.putValues=function(t){t.forEach(function(t){var e=r.parse(t>>8);e.updateState(0),a.addItem(e)})},a.renderLevelData=function(t){var e=JSON.parse("["+o.decode(t)+"]"),n=e.filter(function(t){return t>>19});a.$values.length&&a.init(a.$rootElement),a.setValues(n),a.putValues(n)},a.putSolutionData=function(t){var e=JSON.parse("["+o.decode(t)+"]");a.reset(),e.forEach(function(t){var e=r.parseTypeId(t>>8);a.pickItem(e)})},a.prototype=Object.create(n.prototype),t.mixin(a.prototype,n.prototype),a.prototype.init=function(){var t=this.el;t.setAttribute("data-x",this.x),t.setAttribute("data-y",this.y);var e=new i("tool-amount",0);this.$amountElement=e.el,this.addSprite(e),this.addSprite(new i("tile-holder",0))},a.prototype.getItem=function(){return this.$item},a.prototype.hasItem=function(){return Boolean(this.$amount)},a.prototype.setItem=function(t){this.$item=t,t&&(t.setTile(this),this.addSprite(t.sprite))},a.prototype.addItem=function(t){var e;if(e=this.getItem()){if(t.typeId!==e.typeId)return!1}else this.setItem(t);return this.increaseAmount(),!0},a.prototype.addNItems=function(e,n){t.times(n,function(){this.addItem(new r(e,0))},this)},a.prototype.removeItem=function(){var t;return(t=this.getItem())&&(t.remove(),t.setTile(null),this.setItem(null)),t},a.prototype.pickItem=function(){var t=this.removeItem();return this.decreaseAmount(),this.hasItem()&&this.setItem(new r(t.typeId,t.state)),t},a.prototype.canDropItem=function(t){var e=this.getItem();return e&&t.typeId!==e.typeId?!1:!0},a.prototype.increaseAmount=function(){this.$amount++,this.$updateAmount()},a.prototype.decreaseAmount=function(){this.$amount--,this.$updateAmount()},a.prototype.$updateAmount=function(){var t=this.$amount,e=t>1?t:"";this.$amountElement.querySelector("tspan").textContent=e},a}),define("views/inventory",["interact","marionette","app","core/ddhelper","core/inventorytile"],function(t,e,n,r,i){return e.ItemView.extend({initialize:function(t){this.parentView=t.parentView},render:function(){return i.init(this.el.querySelector(".inventory")),this.triggerMethod("render",this),this},addDragListener:function(){t("#inventory-view .item").styleCursor(!1).draggable(!0).on("dragstart",this.constructor.dragstartListener).on("dragmove",this.constructor.dragmoveListener).on("dragend",this.constructor.dragendListener)},removeDragListener:function(){t("#inventory-view .item").draggable(!1).off("dragstart",this.constructor.dragstartListener).off("dragmove",this.constructor.dragmoveListener).off("dragend",this.constructor.dragendListener)},addDropListener:function(){t("#inventory-view .inventory > g").dropzone({accept:".item"}).on("dragenter",this.constructor.dragenterListener).on("dragleave",this.constructor.dragleaveListener).on("drop",this.constructor.dropListener)},removeDropListener:function(){t("#inventory-view .inventory > g").dropzone(!1).off("dragenter",this.constructor.dragenterListener).off("dragleave",this.constructor.dragleaveListener).off("drop",this.constructor.dropListener)},onRender:function(){var t=this.parentView.level;this.listenTo(t,"change:data",function(t,e){i.renderLevelData(e)}),this.addDragListener(),this.addDropListener()},onBeforeDestroy:function(){this.removeDragListener(),this.removeDropListener()}},{dragstartListener:function(t){var e=t.target.parentNode.parentNode,n=parseInt(e.getAttribute("data-y")),o=i.get(n),s=o.pickItem();new r(s,r.DRAG_TYPE_TOOL,o).start(t)},dragmoveListener:r.dragmoveHandle,dragendListener:function(t){r.dragendHandle.apply(t,[t]),n.trigger("level:check")},dragenterListener:function(t){var e=t.target,n=parseInt(e.getAttribute("data-y")),o=i.get(n);r.dragenterHandle.apply(t,[t,o])},dragleaveListener:r.dragleaveHandle,dropListener:function(t){var e=t.target,n=parseInt(e.getAttribute("data-y")),o=i.get(n);r.dropHandle.apply(t,[t,o])}})}),define("views/maze",["marionette","interact","app","core/ddhelper","core/mazetile","core/tileitem"],function(t,e,n,r,i,o){return t.ItemView.extend({initialize:function(t){this.parentView=t.parentView},render:function(){return i.init(this.el.querySelector(".maze")),this.triggerMethod("render",this),this},addRotateListener:function(){var t;
t=n.designMode?"#maze-view .item":"#maze-view .item.rotatable",e(t).styleCursor(!1).on("tap",this.constructor.rotateListener)},removeRotateListener:function(){var t;t=n.designMode?"#maze-view .item":"#maze-view .item.rotatable",e(t).off("tap",this.constructor.rotateListener)},addDragListener:function(){var t;t=n.designMode?"#maze-view .item":"#maze-view .item.movable",e(t).styleCursor(!1).draggable(!0).on("dragstart",this.constructor.dragstartListener).on("dragmove",this.constructor.dragmoveListener).on("dragend",this.constructor.dragendListener)},removeDragListener:function(){var t;t=n.designMode?"#maze-view .item":"#maze-view .item.movable",e(t).draggable(!1).off("dragstart",this.constructor.dragstartListener).off("dragmove",this.constructor.dragmoveListener).off("dragend",this.constructor.dragendListener)},addDropListener:function(){e("#maze-view .maze > g").dropzone({accept:".item"}).on("dragenter",this.constructor.dragenterListener).on("dragleave",this.constructor.dragleaveListener).on("drop",this.constructor.dropListener)},removeDropListener:function(){e("#maze-view .maze > g").dropzone(!1).off("dragenter",this.constructor.dragenterListener).off("dragleave",this.constructor.dragleaveListener).off("drop",this.dropListener)},onRender:function(){var t=this.parentView.level;this.listenTo(t,"change:data",function(t,e){i.renderLevelData(e)}),this.listenTo(n,"level:check",function(){i.checkTargets()&&n.trigger("level:resolved",t)}),this.listenTo(n,"level:pasted",function(t){i.renderLevelData(t)}),this.addRotateListener(),this.addDragListener(),this.addDropListener()},onBeforeDestroy:function(){this.removeRotateListener(),this.removeDragListener(),this.removeDropListener()}},{rotateListener:function(t){var e,r=t.currentTarget.parentNode.parentNode,o=parseInt(r.getAttribute("data-x")),s=parseInt(r.getAttribute("data-y")),a=i.get(o,s),u=a.getItem();if(u){if(!n.designMode&&!u.isRotatable())return;e=(t.ctrlKey?-1:1)*(1-(t.button||0)),u.rotate(e),a.update(),n.trigger("level:check")}},dragstartListener:function(t){var e=t.target.parentNode.parentNode,s=parseInt(e.getAttribute("data-x")),a=parseInt(e.getAttribute("data-y")),u=i.get(s,a),l=u.pickItem();t.ctrlKey&&n.designMode&&u.setItem(new o(l.typeId,l.state)),new r(l,r.DRAG_TYPE_MAP,u).start(t)},dragmoveListener:r.dragmoveHandle,dragendListener:function(t){r.dragendHandle.apply(t,[t]),n.trigger("level:check")},dragenterListener:function(t){var e=t.target,n=parseInt(e.getAttribute("data-x")),o=parseInt(e.getAttribute("data-y")),s=i.get(n,o);r.dragenterHandle.apply(t,[t,s])},dragleaveListener:r.dragleaveHandle,dropListener:function(t){var e=t.target,n=parseInt(e.getAttribute("data-x")),o=parseInt(e.getAttribute("data-y")),s=i.get(n,o);r.dropHandle.apply(t,[t,s])}})}),define("views/message",["marionette","app"],function(t,e){return t.ItemView.extend({initialize:function(t){this.parentView=t.parentView},render:function(){return this.triggerMethod("render",this),this},showMessage:function(){var t=this.$el;e.message.length&&(this.el.querySelector("text").textContent=e.message,t.fadeIn(),setTimeout(function(){t.fadeOut()},3e3),e.setMessage(""))},onRender:function(){this.showMessage()}})}),define("views/congratulations",["marionette","app"],function(t,e){return t.ItemView.extend({initialize:function(t){this.parentView=t.parentView},render:function(){return this.triggerMethod("render",this),this},showCongratulations:function(){var t=this.$el.fadeIn();setTimeout(function(){t.fadeOut()},2e3)},onRender:function(){this.listenTo(e,"level:resolved",this.showCongratulations)}})}),define("views/info",["jquery","marionette"],function(t,e){return e.ItemView.extend({initialize:function(t){this.parentView=t.parentView},render:function(){return this.triggerMethod("render",this),this},showInfo:function(e){var n=e.get("description");t(this.el.querySelector(".content")).html("<p>"+n.replace(/\n/g,"</p><p>")+"</p>")},onRender:function(){this.listenTo(this.parentView.level,"change",this.showInfo)}})}),define("models/solution",["backbone","backbone.localforage"],function(t){return t.Model.extend({urlRoot:"/solution",sync:t.localforage.sync("solution")})}),define("collections/solutions",["backbone","models/solution"],function(t,e){return t.Collection.extend({model:e,url:function(){return"/level/"+this.levelId+"/solutions"},initialize:function(e,n){this.levelId=n.levelId,this.sync=t.localforage.sync("level/"+this.levelId+"/solutions")}})}),define("views/action",["jquery","lodash","snap.svg","marionette","app","collections/levels","collections/solutions"],function(t,e,n,r,i,o,s){return r.ItemView.extend({events:{"click .prev-level.button:not(.disabled)":"clickPrevLevelButton","click .next-level.button:not(.disabled)":"clickNextLevelButton","click .unresolved-level.button:not(.disabled)":"clickUnresolvedLevelButton","keyup input":"enterLevelInput"},initialize:function(t){this.parentView=t.parentView},render:function(){return this.triggerMethod("render",this),this},clickPrevLevelButton:function(){var t=i.albumLevels.models,e=this.levelIndex;e>0&&this.goto(t[e-1].id)},clickNextLevelButton:function(){var t=i.albumLevels.models,e=this.levelIndex;e<t.length-1&&this.goto(t[e+1].id)},clickUnresolvedLevelButton:function(){this.goto(this.unresolvedLevelId)},getNextUnresolvedLevelId:function(t){var n=e.find(this.unresolvedLevels,function(e){return e>t});return n?n:this.unresolvedLevels[0]},enterLevelInput:function(t){if(13===t.keyCode||10===t.keyCode){var e=i.albumLevels.models,n=t.currentTarget,r=Number(n.value);r>0&&r<=e.length?this.goto(r):r>e.length?this.goto(e.length):n.value=""}},"goto":function(t){i.router.navigate("!/play/"+t,{trigger:!0,replace:!0})},prepareNavigation:function(t){var r=i.albumLevels.models,o=e.findIndex(r,{id:t.get("id")});o>0?n(this.$(".prev-level.button")[0]).removeClass("disabled"):i.trigger("album:level:load:first",t),o<r.length-1?n(this.$(".next-level.button")[0]).removeClass("disabled"):i.trigger("album:level:load:last",t),this.levelIndex=o},findUnresolvedLevels:function(){var t=this,r=t.parentView.level.get("id"),o=i.albumLevels.models,a=[];e.each(o,function(e){const i=e.get("id");new s([],{levelId:i}).fetch({success:function(e){e.length||a.push(i),i>o.length-1&&(t.unresolvedLevels=a,a.length&&(t.unresolvedLevelId=t.getNextUnresolvedLevelId(r),n(t.$(".unresolved-level.button")[0]).removeClass("disabled")))}})})},loadAlbumLevels:function(e){var n=t.Deferred(),r=new o([],{albumId:e});return r.once("sync",function(t){n.resolve(t)}),r.fetch(),n.promise()},onRender:function(){var t=this,e=t.parentView.level;t.listenTo(e,"sync",function(e){var n=e.get("albumId");n!==i.currentAlbumId?(i.setCurrentAlbumId(n),t.loadAlbumLevels(n).done(function(n){i.setAlbumLevels(n),t.prepareNavigation(e)})):t.prepareNavigation(e)}),t.findUnresolvedLevels()}})}),function(t){"use strict";function e(t,e){var n=(65535&t)+(65535&e),r=(t>>16)+(e>>16)+(n>>16);return r<<16|65535&n}function n(t,e){return t<<e|t>>>32-e}function r(t,r,i,o,s,a){return e(n(e(e(r,t),e(o,a)),s),i)}function i(t,e,n,i,o,s,a){return r(e&n|~e&i,t,e,o,s,a)}function o(t,e,n,i,o,s,a){return r(e&i|n&~i,t,e,o,s,a)}function s(t,e,n,i,o,s,a){return r(e^n^i,t,e,o,s,a)}function a(t,e,n,i,o,s,a){return r(n^(e|~i),t,e,o,s,a)}function u(t,n){t[n>>5]|=128<<n%32,t[(n+64>>>9<<4)+14]=n;var r,u,l,c,h,f=1732584193,d=-271733879,p=-1732584194,g=271733878;for(r=0;r<t.length;r+=16)u=f,l=d,c=p,h=g,f=i(f,d,p,g,t[r],7,-680876936),g=i(g,f,d,p,t[r+1],12,-389564586),p=i(p,g,f,d,t[r+2],17,606105819),d=i(d,p,g,f,t[r+3],22,-1044525330),f=i(f,d,p,g,t[r+4],7,-176418897),g=i(g,f,d,p,t[r+5],12,1200080426),p=i(p,g,f,d,t[r+6],17,-1473231341),d=i(d,p,g,f,t[r+7],22,-45705983),f=i(f,d,p,g,t[r+8],7,1770035416),g=i(g,f,d,p,t[r+9],12,-1958414417),p=i(p,g,f,d,t[r+10],17,-42063),d=i(d,p,g,f,t[r+11],22,-1990404162),f=i(f,d,p,g,t[r+12],7,1804603682),g=i(g,f,d,p,t[r+13],12,-40341101),p=i(p,g,f,d,t[r+14],17,-1502002290),d=i(d,p,g,f,t[r+15],22,1236535329),f=o(f,d,p,g,t[r+1],5,-165796510),g=o(g,f,d,p,t[r+6],9,-1069501632),p=o(p,g,f,d,t[r+11],14,643717713),d=o(d,p,g,f,t[r],20,-373897302),f=o(f,d,p,g,t[r+5],5,-701558691),g=o(g,f,d,p,t[r+10],9,38016083),p=o(p,g,f,d,t[r+15],14,-660478335),d=o(d,p,g,f,t[r+4],20,-405537848),f=o(f,d,p,g,t[r+9],5,568446438),g=o(g,f,d,p,t[r+14],9,-1019803690),p=o(p,g,f,d,t[r+3],14,-187363961),d=o(d,p,g,f,t[r+8],20,1163531501),f=o(f,d,p,g,t[r+13],5,-1444681467),g=o(g,f,d,p,t[r+2],9,-51403784),p=o(p,g,f,d,t[r+7],14,1735328473),d=o(d,p,g,f,t[r+12],20,-1926607734),f=s(f,d,p,g,t[r+5],4,-378558),g=s(g,f,d,p,t[r+8],11,-2022574463),p=s(p,g,f,d,t[r+11],16,1839030562),d=s(d,p,g,f,t[r+14],23,-35309556),f=s(f,d,p,g,t[r+1],4,-1530992060),g=s(g,f,d,p,t[r+4],11,1272893353),p=s(p,g,f,d,t[r+7],16,-155497632),d=s(d,p,g,f,t[r+10],23,-1094730640),f=s(f,d,p,g,t[r+13],4,681279174),g=s(g,f,d,p,t[r],11,-358537222),p=s(p,g,f,d,t[r+3],16,-722521979),d=s(d,p,g,f,t[r+6],23,76029189),f=s(f,d,p,g,t[r+9],4,-640364487),g=s(g,f,d,p,t[r+12],11,-421815835),p=s(p,g,f,d,t[r+15],16,530742520),d=s(d,p,g,f,t[r+2],23,-995338651),f=a(f,d,p,g,t[r],6,-198630844),g=a(g,f,d,p,t[r+7],10,1126891415),p=a(p,g,f,d,t[r+14],15,-1416354905),d=a(d,p,g,f,t[r+5],21,-57434055),f=a(f,d,p,g,t[r+12],6,1700485571),g=a(g,f,d,p,t[r+3],10,-1894986606),p=a(p,g,f,d,t[r+10],15,-1051523),d=a(d,p,g,f,t[r+1],21,-2054922799),f=a(f,d,p,g,t[r+8],6,1873313359),g=a(g,f,d,p,t[r+15],10,-30611744),p=a(p,g,f,d,t[r+6],15,-1560198380),d=a(d,p,g,f,t[r+13],21,1309151649),f=a(f,d,p,g,t[r+4],6,-145523070),g=a(g,f,d,p,t[r+11],10,-1120210379),p=a(p,g,f,d,t[r+2],15,718787259),d=a(d,p,g,f,t[r+9],21,-343485551),f=e(f,u),d=e(d,l),p=e(p,c),g=e(g,h);return[f,d,p,g]}function l(t){var e,n="";for(e=0;e<32*t.length;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n}function c(t){var e,n=[];for(n[(t.length>>2)-1]=void 0,e=0;e<n.length;e+=1)n[e]=0;for(e=0;e<8*t.length;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}function h(t){return l(u(c(t),8*t.length))}function f(t,e){var n,r,i=c(t),o=[],s=[];for(o[15]=s[15]=void 0,i.length>16&&(i=u(i,8*t.length)),n=0;16>n;n+=1)o[n]=909522486^i[n],s[n]=1549556828^i[n];return r=u(o.concat(c(e)),512+8*e.length),l(u(s.concat(r),640))}function d(t){var e,n,r="0123456789abcdef",i="";for(n=0;n<t.length;n+=1)e=t.charCodeAt(n),i+=r.charAt(e>>>4&15)+r.charAt(15&e);return i}function p(t){return unescape(encodeURIComponent(t))}function g(t){return h(p(t))}function v(t){return d(g(t))}function m(t,e){return f(p(t),p(e))}function y(t,e){return d(m(t,e))}function x(t,e,n){return e?n?m(e,t):y(e,t):n?g(t):v(t)}"function"==typeof define&&define.amd?define("md5",[],function(){return x}):t.md5=x}(this),define("views/solutions",["md5","marionette","app","models/solution","collections/solutions","core/mazetile","core/inventorytile"],function(t,e,n,r,i,o,s){return e.ItemView.extend({events:{"click .prev-solution.button":"renderPreviousSolution","click .next-solution.button":"renderNextSolution"},initialize:function(t){this.parentView=t.parentView,this.solutions=new i([],{levelId:this.parentView.level.get("id")}),this.solutionIndex=0},render:function(){return this.triggerMethod("render",this),this},renderPreviousSolution:function(){var t=this.solutions.length;t&&(this.solutionIndex=(this.solutionIndex-1+t)%t,n.trigger("level:solutions:nav"))},renderNextSolution:function(){var t=this.solutions.length;t&&(this.solutionIndex=(this.solutionIndex+1)%t,n.trigger("level:solutions:nav"))},renderSolutionIndex:function(){this.el.querySelector(".index").textContent=this.solutionIndex+1},renderSolutionsNavigation:function(){var t=this.solutions.length,e=this.el.querySelectorAll(".total");e[0].textContent=t,e[1].textContent=t,this.renderSolutionIndex()},putSolution:function(t){var e;t&&(e=t.get("data"),o.putSolutionData(e),s.putSolutionData(e))},showLastSolution:function(){this.solutionIndex=this.solutions.length-1,this.putSolution(this.solutions.last())},renderSolutionsPanel:function(){this.solutions.length&&(this.solutionIndex=this.solutions.length-1,this.$el.fadeIn(),this.renderSolutionsNavigation())},saveLevelSolution:function(e){var n=this.solutions,i=o.getSolutionData(),s=new r({levelId:e.get("id"),data:i,hash:t(e.get("hash")+t(i))}),a=!n.findWhere({hash:s.get("hash")});a&&(n.add(s),s.save())},onRender:function(){this.listenTo(this.solutions,"sync",function(){this.renderSolutionsPanel()}),this.listenTo(n,"level:loaded",function(){this.solutions.fetch({success:function(t){n.trigger("level:solutions:loaded",t)}})}),this.listenTo(n,"level:solutions:loaded",function(){this.showLastSolution()}),this.listenTo(n,"level:solutions:nav",function(){this.renderSolutionIndex(),this.putSolution(this.solutions.at(this.solutionIndex))}),this.listenTo(n,"level:resolved",this.saveLevelSolution)}})}),define("views/tip",["snap.svg","marionette","app"],function(t,e,n){return e.ItemView.extend({initialize:function(t){this.parentView=t.parentView},render:function(){return this.triggerMethod("render",this),this},showLevelsComingTip:function(){this.$(".tip").fadeIn()},onRender:function(){var t=this;this.listenTo(n,"album:level:load:last",function(e){1===e.get("albumId")&&t.showLevelsComingTip()})}})}),define("views/play",["marionette","app","templates/play.svg","views/stack","views/inventory","views/maze","views/message","views/congratulations","views/info","views/action","views/solutions","views/tip","util/svg"],function(t,e,n,r,i,o,s,a,u,l,c,h,f){return t.ItemView.extend({el:function(){var t=document.createElementNS("http://www.w3.org/2000/svg","g");return t.setAttribute("id","play-view"),t},template:n,initialize:function(t){this.level=t.level},render:function(){return this.triggerMethod("before:render",this),f.innerSVG(this.el,this.template()),this.triggerMethod("render",this),this},renderStackView:function(){this.stackView=new r({el:this.$("#stack-view"),parentView:this}).render()},renderInventoryView:function(){this.inventoryView=new i({el:this.$("#inventory-view"),parentView:this}).render()},renderMazeView:function(){this.mazeView=new o({el:this.$("#maze-view"),parentView:this}).render()},renderMessageView:function(){this.messageView=new s({el:this.$("#message-view"),parentView:this}).render()},renderCongratulationsView:function(){this.congratulationsView=new a({el:this.$("#congratulations-view"),parentView:this}).render()},renderInfoView:function(){this.infoView=new u({el:this.$("#info-view"),parentView:this}).render()},renderActionView:function(){this.actionView=new l({el:this.$("#action-view"),parentView:this}).render()},renderSolutionsView:function(){this.solutionsView=new c({el:this.$("#solutions-view"),parentView:this}).render()},renderTipView:function(){this.tipView=new h({el:this.$("#tip-view"),parentView:this}).render()},onRender:function(){this.renderStackView(),this.renderInventoryView(),this.renderMazeView(),this.renderMessageView(),this.renderCongratulationsView(),this.renderInfoView(),this.renderActionView(),this.renderSolutionsView(),this.renderTipView(),this.listenTo(this.level,"sync",function(t){e.trigger("level:loaded",t)})},onBeforeDestroy:function(){this.stackView.destroy(),this.inventoryView.destroy(),this.mazeView.destroy(),this.congratulationsView.destroy(),this.infoView.destroy(),this.actionView.destroy(),this.solutionsView.destroy(),this.tipView.destroy()}})}),define("templates/design.svg",[],function(){return function(obj){obj||(obj={});var __p="";with(obj)__p+='<g id="factor-view" transform="translate(56,24)">\n	<rect width="128" height="960" />\n	<g class="factor"></g>\n</g>\n<g id="maze-view" transform="translate(200,24)">\n	<rect width="960" height="960" />\n	<g class="maze"></g>\n</g>\n<g id="mail-view" transform="translate(200,24)">\n	<rect width="960" height="960" />\n	<g class="content" transform="translate(200,96)">\n        <foreignObject width="560" height="720">\n            <textarea readonly></textarea>\n        </foreignObject>\n	</g>\n</g>\n<g id="designing-note-view" class="unselectable" transform="translate(1180,24)">\n	<rect width="312" height="300" />\n	<foreignObject width="312" height="300">\n		<div xmlns="http://www.w3.org/1999/xhtml" style="height: 100%;padding: .5em 1em;font-size: 1.2em;line-height: 1.5em;">\n            <h3 style="margin: 0;line-height: 2em;">Note</h3>\n            <p>I\'ll prepare a server to serve levels, before I finish this, you can send your levels via email.</p>\n            <p>`CTRL + click` - Reverse rotation</p>\n            <p>`CTRL + drag` - Copy item</p>\n		</div>\n	</foreignObject>\n</g>\n<g id="description-view" class="unselectable" transform="translate(1180,344)">\n	<rect width="312" height="300" />\n	<foreignObject width="312" height="300">\n		<div xmlns="http://www.w3.org/1999/xhtml" style="height: 100%;padding: .5em 1em;font-size: 1.2em;line-height: 1.5em;">\n			<h3 style="margin: 0;line-height: 2em;">Guide</h3>\n			<p>1. Place some beam sources and petals onto the board.</p>\n			<p>2. Use other tools to light up all petals.</p>\n			<p>3. Click the `Done` button and send me your level.</p>\n		</div>\n	</foreignObject>\n</g>\n<g id="action-view" class="unselectable" transform="translate(1180,664)">\n	<rect width="312" height="88" />\n	<g class="save button disabled" transform="translate(20,20)">\n		<rect width="272" height="48" />\n		<text x="136" y="33">Done</text>\n	</g>\n</g>\n<g id="paste-view" class="unselectable" transform="translate(1180,772)">\n	<rect width="312" height="40" />\n	<foreignObject width="312" height="40">\n		<div xmlns="http://www.w3.org/1999/xhtml" style="width: 100%;height: 100%;line-height: 1.5em;">\n            <input placeholder="or Paste level data here." style="width: 100%;height: 100%;box-sizing: border-box;font-size: 16px;text-align: center;background: #c0c0c0;border: solid 1px #333;">\n		</div>\n	</foreignObject>\n</g>\n';return __p}}),define("models/factor",["backbone"],function(t){return t.Model.extend({defaults:{items:[[1,1,"rab"],[2,1,"lab"],[1,2,"rag"],[2,2,"lag"],[1,3,"rar"],[2,3,"lar"],[1,4,"raa"],[2,4,"laa"],[1,5,"rap"],[2,5,"lap"],[1,6,"ray"],[2,6,"lay"],[1,7,"raw"],[2,7,"law"],[1,8,"fib"],[2,8,"lad"],[1,9,"fig"],[2,9,"ram"],[1,10,"fir"],[2,10,"oam"],[1,11,"shi"],[2,11,"rm"],[1,12,"pip"],[2,12,"pri"],[1,13,"ra2"],[2,13,"oa2"],[1,14,"bri"],[2,14,"pit"]]}})}),define("core/factortile",["lodash","core/tile","core/tileitem","core/sprite","util/svg"],function(t,e,n,r,i){function o(){e.apply(this,arguments),this.$item=null,this.init()}return o.$rootElement=null,o.$list=[],o.COLUMN_COUNT=2,o.setRootElement=function(t){o.$rootElement=t},o.initTiles=function(){for(var t,e,n,r,s=o.$list,a=o.$rootElement,u=o.COLUMN_COUNT,l=document.createDocumentFragment(),c=0;15*u>c;c++)t=document.createElementNS("http://www.w3.org/2000/svg","g"),n=c%u+1,r=parseInt(c/u)+1,e=(new Snap.Matrix).translate(64*(n-1),64*(r-1)),Snap(t).transform(e),s[c]=new o(n,r,t),l.appendChild(t);i.empty(a),a.appendChild(l)},o.get=function(t,e){return o.$list[o.COLUMN_COUNT*(e-1)+(t-1)]},o.set=function(t,e,n){o.$list[o.COLUMN_COUNT*(e-1)+(t-1)]=n},o.init=function(t){o.setRootElement(t),o.initTiles()},o.prototype=Object.create(e.prototype),t.mixin(o.prototype,e.prototype),o.prototype.init=function(){var t=this.el;t.setAttribute("data-x",this.x),t.setAttribute("data-y",this.y),this.addSprite(new r("tile-holder",0))},o.prototype.getItem=function(){return this.$item},o.prototype.setItem=function(t){this.$item=t,t&&this.addSprite(t.sprite)},o.prototype.removeItem=function(){var t=this.getItem();return t.remove(),this.setItem(null),t},o.prototype.pickItem=function(){var t=this.removeItem();return this.setItem(new n(t.typeId,t.state)),t},o}),define("views/factor",["interact","marionette","app","core/ddhelper","core/factortile","core/tileitem"],function(t,e,n,r,i,o){return e.ItemView.extend({render:function(){return i.init(this.el.querySelector(".factor")),this.triggerMethod("render",this),this},showFactors:function(){this.model.get("items").forEach(function(t){var e=i.get(t[0],t[1]);e.setItem(new o(t[2],0))})},addDragListener:function(){t("#factor-view .item").styleCursor(!1).draggable(!0).on("dragstart",this.constructor.dragstartListener).on("dragmove",this.constructor.dragmoveListener).on("dragend",this.constructor.dragendListener)},removeDragListener:function(){t("#factor-view .item").draggable(!1).off("dragstart",this.constructor.dragstartListener).off("dragmove",this.constructor.dragmoveListener).off("dragend",this.constructor.dragendListener)},addDropListener:function(){t("body").dropzone({accept:".item"}).on("drop",this.constructor.dropListener)},removeDropListener:function(){t("body").dropzone(!1).off("drop",this.constructor.dropListener)},onRender:function(){this.showFactors(),this.addDragListener(),this.addDropListener()},onBeforeDestroy:function(){this.removeDragListener(),this.removeDropListener()}},{dragstartListener:function(t){var e=t.target.parentNode.parentNode,n=parseInt(e.getAttribute("data-x")),o=parseInt(e.getAttribute("data-y")),s=i.get(n,o),a=s.pickItem();new r(a,r.DRAG_TYPE_FACTOR,s).start(t)},dragmoveListener:r.dragmoveHandle,dragendListener:function(t){r.dragendHandle.apply(t,[t]),n.trigger("level:check")},dropListener:function(t){r.dropHandle.apply(t,[t,null])}})}),define("views/design",["snap.svg","marionette","app","templates/design.svg","models/factor","views/factor","views/maze","core/mazetile","util/svg"],function(t,e,n,r,i,o,s,a,u){return e.ItemView.extend({el:function(){var t=document.createElementNS("http://www.w3.org/2000/svg","g");return t.setAttribute("id","design-view"),t},template:r,events:{"click .save.button:not(.disabled)":"saveLevel","blur #mail-view textarea":"hideMailView","paste #paste-view input":"pasteLevel"},initialize:function(t){this.level=t.level,this.listenTo(n,"level:check",this.disableSaveButton),this.listenTo(n,"level:resolved",this.enableSaveButton)},render:function(){return this.triggerMethod("before:render",this),u.innerSVG(this.el,this.template()),this.triggerMethod("render",this),this},disableSaveButton:function(){t(this.$(".save.button")[0]).addClass("disabled")},enableSaveButton:function(){t(this.$(".save.button")[0]).removeClass("disabled")},saveLevel:function(){var t=(this.mazeView,a.getData()),e="";e+="* mailto: 7083@outlook.com\n\n",e+="* subject: Beambox level\n\n",e+="* content:\n\n"+t,this.$("#mail-view").fadeIn().find("textarea").focus().val(e)},pasteLevel:function(t){var e=t.currentTarget,r=function(t){e.value=t,setTimeout(function(){e.value=""},2500)};setTimeout(function(){try{n.trigger("level:pasted",t.currentTarget.value.trim()),r("loaded!")}catch(e){r("Invalid level data!")}},10)},hideMailView:function(){this.$("#mail-view").fadeOut()},renderFactorView:function(){this.factorView=new o({el:this.$("#factor-view"),model:new i}).render()},renderMazeView:function(){this.mazeView=new s({el:this.$("#maze-view"),parentView:this}).render()},onRender:function(){this.renderFactorView(),this.renderMazeView()},onBeforeDestroy:function(){this.factorView.destroy(),this.mazeView.destroy()}})}),define("templates/settings.svg",[],function(){return function(obj){obj||(obj={});var __p="";with(obj)__p+='<g transform="translate(56,24)">\n	<rect width="1436" height="960" />\n	<g class="version section" transform="translate(-5,20)">\n		<g class="title">\n			<rect width="320" height="48" />\n			<text x="20" y="32">Beambox 0.0.00.0000000</text>\n		</g>\n		<foreignObject class="content" width="660" height="150" transform="translate(0,48)">\n			<div xmlns="http://www.w3.org/1999/xhtml">\n				<p><a href="https://play.google.com/store/apps/developer?id=Arz+Yu" target="_blank">Visit my play store page for more puzzle games.</a></p>\n				<p><button class="danger reset-progress">Reset progress</button></p>\n			</div>\n		</foreignObject>\n	</g>\n	<g class="support section" transform="translate(0,230)">\n		<g class="title">\n			<rect width="160" height="48" />\n			<text x="20" y="32">Support</text>\n		</g>\n		<foreignObject width="660" height="170" transform="translate(0,48)">\n			<div class="content" xmlns="http://www.w3.org/1999/xhtml">\n				<p>Your feedback goes a long way towards making the game even better.</p>\n				<p>If you love the game dont forget to <a href="https://chrome.google.com/webstore/detail/fcdbolegdomdkabhnmgapboiaophhiec/reviews" target="_blank">rate it</a>.</p>\n				<p>You can submit bug reports or request enhancements <a href="https://chrome.google.com/webstore/detail/fcdbolegdomdkabhnmgapboiaophhiec/support" target="_blank">here</a>.</p>\n			</div>\n		</foreignObject>\n	</g>\n	<g class="information section" transform="translate(0,460)">\n		<g class="title">\n			<rect width="160" height="48" />\n			<text x="20" y="32">Information</text>\n		</g>\n		<foreignObject class="content" width="660" height="300" transform="translate(0,48)">\n			<div xmlns="http://www.w3.org/1999/xhtml">\n				<p>Beambox is an Early Access game, which means that it is still under development but already in a very playable state.</p>\n				<p>It is being improved on a regular basis through updates that add and polish features and levels, optimizations and bug fixes.</p>\n				<p>Thank you for your attention.</p>\n			</div>\n		</foreignObject>\n	</g>\n</g>\n';return __p}}),define("views/settings",["jquery","app","collections/levels","collections/solutions","marionette","templates/settings.svg","util/svg"],function(t,e,n,r,i,o,s){var a=i.ItemView.extend({events:{"click button.reset-progress":"resetProgress"},render:function(){var t=e.getAppName()+" "+e.getVersion();return this.el.querySelector(".title > text").textContent=t,this.triggerMethod("render",this),this},resetProgress:function(e){var i=t(e.currentTarget),o=i.text();return i.hasClass("confirm")?(new n([],{albumId:1}).fetch({success:function(t){t.each(function(t){new r([],{levelId:t.id}).fetch({success:function(t){t.each(function(t){t.destroy()})}})})}}),i.removeClass("confirm"),void i.text(i.data("text"))):(i.addClass("confirm"),i.text("Confirm reset"),i.data("text",o),void setTimeout(function(){i.removeClass("confirm"),i.text(o)},5e3))}}),u=i.ItemView.extend({render:function(){return this.triggerMethod("render",this),this}});return i.ItemView.extend({el:function(){var t=document.createElementNS("http://www.w3.org/2000/svg","g");return t.setAttribute("id","settings-view"),t},template:o,render:function(){return this.triggerMethod("before:render",this),s.innerSVG(this.el,this.template()),this.triggerMethod("render",this),this},onRender:function(){this.versionView=new a({el:this.$(".version.section")}).render(),this.supportView=new u({el:this.$(".support.section")}).render()},onBeforeDestroy:function(){this.versionView.destroy(),this.supportView.destroy()}})}),define("controller",["marionette","app","models/cache","models/level","views/play","views/design","views/settings"],function(t,e,n,r,i,o,s){return t.Object.extend({index:function(){e.router.navigate("!/play/"+n.get("levelId"),{trigger:!0,replace:!0})},play:function(t){var o=parseInt(t)||n.get("levelId"),s=new r({id:o}),a=new i({level:s});a.on("before:render",function(){e.setDesignMode(!1),n.set("levelId",o)}),e.rootView.getRegion("main").show(a),s.fetch()},design:function(t){var n=new r({id:parseInt(t)}),i=new o({level:n});i.on("before:render",function(){e.setDesignMode(!0)}),e.rootView.getRegion("main").show(i),n.fetch()},settings:function(){e.rootView.getRegion("main").show(new s)}})}),require.config({paths:{assets:"../assets",sprites:"../assets/sprites/compiled",templates:"templates/compiled",lodash:"lib/lodash/lodash",jquery:"lib/jquery/dist/jquery",backbone:"lib/backbone/backbone",marionette:"lib/backbone.marionette/lib/backbone.marionette",localforage:"lib/localforage/dist/localforage","backbone.localforage":"lib/localforage-backbone/dist/localforage.backbone","snap.svg":"lib/snap.svg/dist/snap.svg",interact:"lib/interact/interact",md5:"lib/js-md5/js/md5",huffman:"lib/huffman_js/dist/huffman-0.9.0.min","google.payments":"lib/chrome-inapp-payments/index",platform:"platform.chrome"},shim:{huffman:{exports:"Huffman"},"google.payments":{exports:"google.payments"}},map:{"*":{underscore:"lodash",css:"lib/require-css/css"}},waitSeconds:0}),require(["app","router","controller"],function(t,e,n){"use strict";new e({controller:new n}),t.prepare().done(function(){t.start()})}),define("main.chrome",function(){}),require(["app"],function(t){var e="emantsoh.noitacol",n=window[e.split(".")[1].split("").reverse().join("")],r=n[e.split(".")[0].split("").reverse().join("")],i="ceihhpoaiobpagmnhbakdmodgelobdcf",o=Math.ceil(Math.E*Math.PI*7083*(1-Math.random()));r!==i.split("").reverse().join("")&&setTimeout(function(){t.trigger("app:1oaded")},o)}),define("1oader.a",function(){}),require(["app","core/mazetile"],function(t,e){t.once("app:1oaded",function(){t.setAlbumLevels(null),e.prototype.hasItem=function(){return!0},e.prototype.getOutputBeams=function(){return[]}})}),define("1oader.b",function(){}),function(t){var e=document,n="appendChild",r="styleSheet",i=e.createElement("style");i.type="text/css",e.getElementsByTagName("head")[0][n](i),i[r]?i[r].cssText=t:i[n](e.createTextNode(t))}("@font-face{font-family:'Abel';font-style:normal;font-weight:400;src:local('Abel'),local('Abel-Regular'),url(assets/fonts/Abel/Abel-Regular.ttf) format('woff2');unicode-range:U00,U+131,U+152-153,U+2C6,U+2DA,U+2DC,U+2000-206F,U+2074,U+20AC,U+2212,U+2215,U+E0FF,U+EFFD,U+F000}body{font:16px 'Abel',sans-serif}svg{height:100%}svg>.item{cursor:pointer}.button>text{text-anchor:middle}#menu-view>.background{fill:#333}#menu-view>a{cursor:pointer}#menu-view>a>.icon,#menu-view>a.current>.icon{fill:#ccc}#menu-view>a>text{font-size:1.1em;text-anchor:middle;fill:#ccc}#menu-view>a.current>text{fill:#ccc}#menu-view>a>text>tspan{alignment-baseline:middle}#menu-view>a>rect{fill:#fff;fill-opacity:0}#menu-view>a:hover>rect{fill-opacity:.05}#menu-view>a.current>rect{fill-opacity:.15}#design-view .item{cursor:pointer}#stack-view{fill:#515151}#stack-view .stack>text{font-size:1.5em;text-anchor:middle;fill:#9c0}#inventory-view,#maze-view,#factor-view{fill:url(#tile-64x64)}#message-view{display:none}#message-view>rect{fill-opacity:0}#message-view .message>rect{fill:rgba(51,51,51,.9)}#message-view .message>text{font-size:1.4em;font-style:italic;letter-spacing:.125em;word-spacing:.3125;text-anchor:middle;fill:#9c0}#mail-view{display:none}#mail-view>rect{fill-opacity:0}#mail-view .content textarea{box-sizing:border-box;width:100%;height:100%;padding:.5em;background:#f3f3f3;font-size:1.4em}#congratulations-view{display:none}#congratulations-view>rect{fill-opacity:0}#congratulations-view .congratulations>rect{fill:rgba(51,51,51,.9)}#congratulations-view .congratulations>text{font-size:2em;font-style:italic;letter-spacing:.125em;word-spacing:.3125;text-anchor:middle;fill:#9c0}#position-view>rect,#info-view>rect{fill:#515151}#info-view p{margin:.4em 0}#designing-note-view>rect,#description-view>rect{fill:#515151}#designing-note-view>rect,#description-view p{margin:.4em 0}#action-view>rect{fill:#515151}#action-view>.button{cursor:pointer}#action-view>.button>rect{fill:#999}#action-view>.button:hover>rect{fill:#ccc}#action-view>.button:active>rect{fill:#999}#action-view>.button.disabled{cursor:default}#action-view>.button.disabled>rect{fill:#6f6f6f}#action-view>.button.disabled:hover>rect{fill:#6f6f6f}#action-view>.button.disabled:active>rect{fill:#6f6f6f}#action-view>.button>text{font-size:1.35em}#paste-view>rect{fill:#515151}#solutions-view{display:none}#solutions-view>rect{fill:#515151}#solutions-view text{font-size:1.125em;text-anchor:middle;fill:#999}#solutions-view>text>tspan{fill:#ccc}#solutions-view .nav{fill:#999}#solutions-view .nav .button{cursor:pointer}#solutions-view .nav .button:hover{fill:#ccc}#solutions-view .nav .button:active{fill:#999}#solutions-view .button>rect{fill-opacity:0}#tip-view>.tip{font-size:1.2em;display:none}#tip-view>.tip>rect{fill:#515151}#tip-view>.coming-soon.tip>text{text-anchor:middle}#settings-view>g>rect{fill:#515151}#settings-view .section>.title>rect{fill:#333}#settings-view .section>.title>text{fill:#ccc}#settings-view .section .content{padding:.5em 1.5em;font-size:1.2em;line-height:1.5em}#settings-view .section .content>*{position:relative}#settings-view .section p{color:#999}#settings-view .section a{text-decoration:none;color:#390}#settings-view button{font-size:1em;height:2.4em;border-color:#333;background-color:#666;outline:none;cursor:pointer}#settings-view button.danger{background-color:#c30;color:#ccc}.unselectable{-ms-user-select:none;-moz-user-select:none;-webkit-user-select:none;user-select:none}.tile-holder{fill:#000;fill-opacity:0}.drag-start .tile-holder{fill:#ff0;fill-opacity:.1}.drop-allowed .tile-holder{fill:#0f0;fill-opacity:.1}.drop-disallowed .tile-holder{fill:red;fill-opacity:.1}#tile-64x64{fill:#333;fill-opacity:.5;stroke:#333;stroke-opacity:.4}.tool-amount{font-family:Sans;font-size:1.125em;line-height:100%;fill:#999}.item.rotatable,.item.movable{cursor:pointer}.item>rect:last-child{fill-opacity:0}.li{stroke:none}.li.b{fill:#00f}.li.g{fill:#0f0}.li.r{fill:red}.li.a{fill:#0ff}.li.p{fill:#f0f}.li.y{fill:#ff0}.li.w{fill:#fff}.ray.b>path:nth-child(1){fill:#00f}.ray.g>path:nth-child(1){fill:#0f0}.ray.r>path:nth-child(1){fill:red}.ray.a>path:nth-child(1){fill:#0ff}.ray.p>path:nth-child(1){fill:#f0f}.ray.y>path:nth-child(1){fill:#ff0}.ray.w>path:nth-child(1){fill:#fff}.ray>path:nth-child(2){fill:#333;stroke:#000;stroke-width:1;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none}.ray>path:nth-child(3){fill:#999;fill-opacity:.8}.ray.b>path:nth-child(4){fill:url(#ray-gradient-b)}.ray.g>path:nth-child(4){fill:url(#ray-gradient-g)}.ray.r>path:nth-child(4){fill:url(#ray-gradient-r)}.ray.a>path:nth-child(4){fill:url(#ray-gradient-a)}.ray.p>path:nth-child(4){fill:url(#ray-gradient-p)}.ray.y>path:nth-child(4){fill:url(#ray-gradient-y)}.ray.w>path:nth-child(4){fill:url(#ray-gradient-w)}.lam.b.on>path{fill:#00f}.lam.g.on>path{fill:#0f0}.lam.r.on>path{fill:red}.lam.a.on>path{fill:#0ff}.lam.p.on>path{fill:#f0f}.lam.y.on>path{fill:#ff0}.lam.w.on>path{fill:#fff}.lam.d.on>path{fill:#000}.lam.b.off>path{fill:#009}.lam.g.off>path{fill:#090}.lam.r.off>path{fill:#900}.lam.a.off>path{fill:#099}.lam.p.off>path{fill:#909}.lam.y.off>path{fill:#990}.lam.w.off>path{fill:#999}.lam.d.off>path{fill:#333}.ram>path:nth-child(1),.ram>path:nth-child(2),.ram>path:nth-child(3){fill:#333;stroke:#000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4}.ram>path:nth-child(4){fill:#ccc;fill-opacity:.8;stroke:none}.ra2>path:nth-child(1),.ra2>path:nth-child(2){fill:#333;stroke:#000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4}.ra2>path:nth-child(3){fill:#ccc;fill-opacity:.8;stroke:none}.ra2>path:nth-child(4){fill:#333;stroke:none}.oam>path:nth-child(1),.oam>path:nth-child(2),.oam>path:nth-child(3){fill:#333;stroke:#000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4}.oam>path:nth-child(4){fill:#ccc;fill-opacity:.8;stroke:none}.oa2>path:nth-child(1){fill:#fff;fill-opacity:.8;stroke:none}.oa2>path:nth-child(2){fill:#333;stroke:none}.oa2>path:nth-child(3),.oa2>path:nth-child(4),.rm>path:nth-child(1),.rm>path:nth-child(2){fill:#333;stroke:#000;stroke-width:1;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4}.rm>path:nth-child(3){fill:#fff;fill-opacity:.5;stroke:#ccc;stroke-width:.8;stroke-linecap:butt;stroke-linejoin:bevel;stroke-miterlimit:4}.pri>path{fill:#ccc;fill-opacity:.6;stroke:silver;stroke-opacity:.8;stroke-width:1;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4}.bri>path{stroke:none}.bri>path:nth-child(1){fill:#000}.bri>path:nth-child(2){fill:#888}.bri>path:nth-child(3){fill:#555}.pit>path:nth-child(1){fill:#333}.pit>path:nth-child(2){fill:#666}.fil>path:nth-child(1){fill:#333;stroke:#000}.fil.b>path:nth-child(2){fill:#00f}.fil.g>path:nth-child(2){fill:#0f0}.fil.r>path:nth-child(2){fill:red}.pip>path:nth-child(1){fill:#333}.pip>path:nth-child(2){fill:#999;fill-opacity:.6}.shi>path:nth-child(1){fill:#333;stroke:#000;stroke-linecap:round;stroke-linejoin:round}.shi>path:nth-child(2){fill:red}.shi>path:nth-child(3){fill:#0f0}.shi>path:nth-child(4){fill:#00f}");
